if(typeof ITHit==="undefined"){ITHit={};}ITHit._oComponents={};ITHit._oNamespace={};ITHit.Temp={};ITHit.Define=function(_1){this._oComponents[_1]=true;};ITHit.Defined=function(_2){return !!this._oComponents[_2];};ITHit.Add=function(_3,_4){var _5=_3.split("."),_6=this,_7=_5.length;for(var i=0;i<_7;i++){if("undefined"===typeof _6[_5[i]]){if(i<(_7-1)){_6[_5[i]]={};}else{_6[_5[i]]=_4;}}else{if(!(_6[_5[i]] instanceof Object)){return;}}_6=_6[_5[i]];}};ITHit.Config={Global:window,ShowOriginalException:true,PreventCaching:false,AjaxFileBrowser:{ProtectedProperties:{},FlushCacheOnOpenFolder:true,ShowFolders:true,ProgressRefreshTime:5,ClassName:"ih_style",OnUploadAutoRefresh:true,ShowImagePreview:true,ImageTypes:"png|jpg|jpeg|gif|bmp|tiff",PreventImageCaching:true,PreventOpenDocumentCaching:false,FileIconsPath:"icons/",MsOfficeTemplatesPath:"templates/",NotAllowedCharacters:"\\/:*?\"<>|",ThemesPath:"themes/",ThemeName:"windows_8",PluginsPath:"plugins/",EnablePlugins:true,EnableHistoryNavigation:true,OpenHistoryLink:true,ShowContextHelp:true,ShowUploadErrorDetails:true,SuppressServerWarning:false,UploadRetryIntervalSeconds:10,UploadRetryMaxCount:-1,MaxUploadSegmentBytes:-1,CancelUploadRetryIntervalSeconds:1,CancelUploadRetryCount:5}};ITHit.Add("GetNamespace",function(_8,_9,_a){var _b=ITHit.Utils;if(!_b.IsString(_8)&&!_b.IsArray(_8)){throw new ITHit.Exception("ITHit.GetNamespace() expected string as first parameter of method.");}var _c=_b.IsArray(_8)?_8:_8.split(".");var _d=_a||ITHit.Config.Global;for(var i=0,_e="";_d&&(_e=_c[i]);i++){if(_e in _d){_d=_d[_e];}else{if(_9){_d[_e]={};_d=_d[_e];}else{_d=undefined;}}}return _d;});ITHit.Add("Namespace",function(_f,_10){return ITHit.GetNamespace(_f,false,_10);});ITHit.Add("Declare",function(_11,_12){return ITHit.GetNamespace(_11,true,_12);});ITHit.Add("DetectOS",function(){var _13=navigator.platform,_14={Windows:(-1!=_13.indexOf("Win")),MacOS:(-1!=_13.indexOf("Mac")),Linux:(-1!=_13.indexOf("Linux")),UNIX:(-1!=_13.indexOf("X11")),OS:null};if(_14.Windows){_14.OS="Windows";}else{if(_14.Linux){_14.OS="Linux";}else{if(_14.MacOS){_14.OS="MacOS";}else{if(_14.UNIX){_14.OS="UNIX";}}}}return _14;}());ITHit.Add("DetectBrowser",function(){var _15=navigator.userAgent,_16={IE:false,FF:false,Chrome:false,Safari:false,Opera:false,Browser:null,Mac:false},_17={IE:{Search:"MSIE",Browser:"IE"},IE11:{Search:"Trident/7",Version:"rv",Browser:"IE"},FF:{Search:"Firefox",Browser:"FF"},Chrome:{Search:"Chrome",Browser:"Chrome"},Safari:{Search:"Safari",Version:"Version",Browser:"Safari",Mac:"Macintosh",iPad:"iPad",iPhone:"iPhone"},Opera:{Search:"Opera",Browser:"Opera"}};for(var _18 in _17){var pos=_15.indexOf(_17[_18].Search);if(-1!=pos){_16.Browser=_17[_18].Browser;_16.Mac=navigator.platform.indexOf("Mac")==0;_16.iPad=(_17[_18].iPad&&_15.indexOf(_17[_18].iPad)!=-1);_16.iPhone=(_17[_18].iPhone&&_15.indexOf(_17[_18].iPhone)!=-1);var _19=_17[_18].Version||_17[_18].Search,_1a=_15.indexOf(_19);if(-1==_1a){_16[_17[_18].Browser]=true;break;}_16[_17[_18].Browser]=parseFloat(_15.substring(_1a+_19.length+1));break;}}return _16;}());ITHit.Add("DetectDevice",function(){var _1b=navigator.userAgent;var _1c={};var _1d={Android:{Search:"Android"},BlackBerry:{Search:"BlackBerry"},iOS:{Search:"iPhone|iPad|iPod"},Opera:{Search:"Opera Mini"},Windows:{Search:"IEMobile"},Mobile:{}};for(var _1e in _1d){var _1f=_1d[_1e];if(!_1f.Search){continue;}var _20=new RegExp(_1f.Search,"i");_1c[_1e]=_20.test(_1b);if(!_1c.Mobile&&_1c[_1e]){_1c.Mobile=true;}}return _1c;}());ITHit.Add("HttpRequest",function(_21,_22,_23,_24,_25,_26){if(!ITHit.Utils.IsString(_21)){throw new ITHit.Exception("Expexted string href in ITHit.HttpRequest. Passed: \""+_21+"\"","sHref");}if(!ITHit.Utils.IsObjectStrict(_23)&&!ITHit.Utils.IsNull(_23)&&!ITHit.Utils.IsUndefined(_23)){throw new ITHit.Exception("Expexted headers list as object in ITHit.HttpRequest.","oHeaders");}this.Href=_21;this.Method=_22;this.Headers=_23;this.Body=_24;this.User=_25||null;this.Password=_26||null;});ITHit.Add("HttpResponse",function(){var _27=function(_28,_29,_2a,_2b){if(!ITHit.Utils.IsString(_28)){throw new ITHit.Exception("Expexted string href in ITHit.HttpResponse. Passed: \""+_28+"\"","sHref");}if(!ITHit.Utils.IsInteger(_29)){throw new ITHit.Exception("Expexted integer status in ITHit.HttpResponse.","iStatus");}if(!ITHit.Utils.IsString(_2a)){throw new ITHit.Exception("Expected string status description in ITHit.HttpResponse.","sStatusDescription");}if(_2b&&!ITHit.Utils.IsObjectStrict(_2b)){throw new ITHit.Exception("Expected object headers in ITHit.HttpResponse.","oHeaders");}else{if(!_2b){_2b={};}}this.Href=_28;this.Status=_29;this.StatusDescription=_2a;this.Headers=_2b;this.BodyXml=null;this.BodyText="";};_27.prototype._SetBody=function(_2c,_2d){this.BodyXml=_2c||null;this.BodyText=_2d||"";};_27.prototype.SetBodyText=function(_2e){this.BodyXml=null;this.BodyText=_2e;};_27.prototype.SetBodyXml=function(_2f){this.BodyXml=_2f;this.BodyText="";};_27.prototype.ParseXml=function(_30){if(!ITHit.Utils.IsString(_30)){throw new ITHit.Exception("Expected XML string in ITHit.HttpResponse.ParseXml","sXml");}var _31=new ITHit.XMLDoc();_31.load(_30);this.BodyXml=_31._get();this.BodyText=_30;};_27.prototype.GetResponseHeader=function(_32,_33){if(!_33){return this.Headers[_32];}else{var _32=String(_32).toLowerCase();for(var _34 in this.Headers){if(_32===String(_34).toLowerCase()){return this.Headers[_34];}}return undefined;}};return _27;}());ITHit.Add("XMLRequest",(function(){var _35=function(_36,_37){this.bAsync=_37===true;this.OnData=null;this.OnError=null;this.OnProgress=null;this.oHttpRequest=_36;this.oError=null;if(!_36.Href){throw new ITHit.Exception("Server url had not been set.");}if(ITHit.Logger&&ITHit.LogLevel){ITHit.Logger.WriteMessage("["+_36.Href+"]");}this.oRequest=_38();var _39=String(_36.Href);var _3a=_36.Method||"GET";try{this.oRequest.open(_3a,ITHit.DecodeHost(_39),this.bAsync,_36.User||null,_36.Password||null);if(ITHit.DetectBrowser.IE&&ITHit.DetectBrowser.IE>=10){try{this.oRequest.responseType="msxml-document";}catch(e){}}}catch(e){var _3b=_39.match(/(?:\/\/)[^\/]+/);if(_3b){var _3c=_3b[0].substr(2);if(_35.Host!=_3c){throw new ITHit.Exception(ITHit.Phrases.CrossDomainRequestAttempt.Paste(window.location,_39,String(_3a)),e);}else{throw e;}}}for(var _3d in _36.Headers){this.oRequest.setRequestHeader(_3d,_36.Headers[_3d]);}if(this.bAsync){try{this.oRequest.withCredentials=true;}catch(e){}}if(this.bAsync){var _3e=this;this.oRequest.onreadystatechange=function(){if(_3e.oRequest.readyState!=4){return;}var _3f=_3e.GetResponse();if(typeof _3e.OnData==="function"){_3e.OnData.call(_3e,_3f);}};if("onprogress" in this.oRequest){this.oRequest.onprogress=function(_40){if(typeof _3e.OnProgress==="function"){_3e.OnProgress.call(_3e,_40);}};}}};_35.prototype.Send=function(){var _41=this.oHttpRequest.Body;_41=_41||(ITHit.Utils.IsUndefined(_41)||ITHit.Utils.IsNull(_41)||ITHit.Utils.IsBoolean(_41)?"":_41);_41=String(_41);if(_41===""){_41=null;}try{this.oRequest.send(_41);}catch(e){this.oError=e;if(typeof this.OnError==="function"){this.OnError.call(this,e);}}};_35.prototype.Abort=function(){if(this.oRequest){try{this.oRequest.abort();}catch(e){this.oError=e;if(typeof this.OnError==="function"){this.OnError.call(this,e);}}}};_35.prototype.GetResponse=function(){var _42=this.oHttpRequest;var _43=this.oRequest;var _44=String(_42.Href);if(this.bAsync&&_43.readyState!=4){throw new ITHit.Exception("Request sended as asynchronous, please register callback through XMLRequest.OnData() method for get responce object.");}if((404==_43.status)&&(-1!=_44.indexOf(".js")&&(_42.Method!=="PROPFIND"))){ITHit.debug.loadTrace.failed(ITHit.debug.loadTrace.FAILED_LOAD);throw new ITHit.Exception("Failed to load script (\""+_44+"\"). Request returned status: "+_43.status+(_43.statusText?" ("+_43.statusText+")":"")+".",this.oError?this.oError:undefined);}var _45=this.FixResponseStatus(_43.status,_43.statusText);var _46=new ITHit.HttpResponse(_44,_45.Status,_45.StatusDescription,_47(_43.getAllResponseHeaders()));_46._SetBody(_43.responseXML,_43.responseText);return _46;};_35.prototype.FixResponseStatus=function(_48,_49){var _4a={Status:_48,StatusDescription:_49};if(1223==_48){_4a.Status=204;_4a.StatusDescription="No Content";}return _4a;};_35.Host=window.location.host;var _4b;var _38=function(){if(ITHit.DetectBrowser.IE&&ITHit.DetectBrowser.IE<10&&window.ActiveXObject){if(_4b){return new ActiveXObject(_4b);}else{var _4c=["MSXML2.XmlHttp.6.0","MSXML2.XmlHttp.3.0"];for(var i=0;i<_4c.length;i++){try{var _4d=new ActiveXObject(_4c[i]);_4b=_4c[i];return _4d;}catch(e){}}}}else{if("undefined"!=typeof XMLHttpRequest){return new XMLHttpRequest();}}throw new ITHit.Exception("XMLHttpRequest (AJAX) not supported");};var _47=function(_4e){var _4f={};if(!_4e){return _4f;}var _50=_4e.split("\n");for(var i=0;i<_50.length;i++){if(!ITHit.Trim(_50[i])){continue;}var _51=_50[i].split(":");var _52=_51.shift();_4f[_52]=ITHit.Trim(_51.join(":"));}return _4f;};return _35;})());ITHit.Add("Utils",{IsString:function(_53){return (("string"==typeof _53)||(_53 instanceof String));},IsStringNullOrEmpty:function(_54){return (("undefined"==typeof _54)||(_54==null)||(_54.length==0));},IsNumber:function(_55){return ("number"==typeof _55);},IsBoolean:function(_56){return (("boolean"==typeof _56)||(_56 instanceof Boolean));},IsInteger:function(_57){return this.IsNumber(_57)&&(-1==String(_57).indexOf("."));},IsArray:function(_58){return (_58 instanceof Array||("array"==typeof _58));},IsFunction:function(_59){return (_59 instanceof Function);},IsObject:function(_5a){return ("object"==typeof _5a);},IsDate:function(_5b){return (_5b instanceof Date);},IsRegExp:function(_5c){return (_5c instanceof RegExp);},IsObjectStrict:function(_5d){return this.IsObject(_5d)&&!this.IsArray(_5d)&&!this.IsString(_5d)&&!this.IsNull(_5d)&&!this.IsNumber(_5d)&&!this.IsDate(_5d)&&!this.IsRegExp(_5d)&&!this.IsBoolean(_5d)&&!this.IsFunction(_5d)&&!this.IsNull(_5d);},IsUndefined:function(_5e){return (undefined===_5e);},IsNull:function(_5f){return (null===_5f);},IsDOMObject:function(_60){return _60&&this.IsObject(_60)&&!this.IsUndefined(_60.nodeType);},HtmlEscape:function(_61){return String(_61).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;");},CreateDOMElement:function(_62,_63){var _64=ITHit.Utils;if(_64.IsObject(_62)){if(!_62.nodeName){throw new ITHit.Exception("nodeName property does not specified.");}_63=_62;_62=_62.nodeName;delete _63.nodeName;}var _65=document.createElement(_62);if(_63&&_64.IsObject(_63)){for(var _66 in _63){if(!_63.hasOwnProperty(_66)){continue;}switch(_66){case "class":if(_63[_66]){_65.className=_63[_66];}break;case "style":var _67=_63[_66];for(var _68 in _67){if(!_67.hasOwnProperty(_68)){continue;}_65.style[_68]=_67[_68];}break;case "childNodes":for(var i=0,l=_63[_66].length;i<l;i++){var _69=_63[_66][i];if(_64.IsString(_69)||_64.IsNumber(_69)||_64.IsBoolean(_69)){_69=document.createTextNode(_69);}else{if(!_69){continue;}}if(!_64.IsDOMObject(_69)){_69=ITHit.Utils.CreateDOMElement(_69);}_65.appendChild(_69);}break;default:_65[_66]=_63[_66];}}}return _65;},GetComputedStyle:function(_6a){var _6b;if(!this.IsUndefined(_6a.currentStyle)){_6b=_6a.currentStyle;}else{_6b=document.defaultView.getComputedStyle(_6a,null);}return _6b;},MakeScopeClosure:function(_6c,_6d,_6e){if(this.IsUndefined(_6e)){return this._GetClosureFunction(_6c,_6d);}else{if(!this.IsArray(_6e)){_6e=[_6e];}return this._GetClosureParamsFunction(_6c,_6d,_6e);}},_GetClosureParamsFunction:function(_6f,_70,_71){return function(){var _72=[];for(var i=0,l=_71.length;i<l;i++){_72.push(_71[i]);}if(arguments.length){for(var i=0,l=arguments.length;i<l;i++){_72.push(arguments[i]);}}return _6f[_70].apply(_6f,_72);};},_GetClosureFunction:function(_73,_74){return function(){return _73[_74].apply(_73,arguments);};},GetParentUrl:function(url){url.replace(/\/?$/,"/");var _75=ITHit.WebDAV.Client;var _76=_75.HierarchyItem.GetAbsoluteUriPath(url);_76=_76.substr(0,_76.length-2);return _76.substr(0,_76.lastIndexOf("/")+1);}});ITHit.Add("Trim",function(_77,_78,_79){if(("string"!=typeof _77)&&!(_77 instanceof String)){if(!_79){return _77;}else{throw new ITHit.Exception("ITHit.Trim() expected string as first prametr.");}}switch(_78){case ITHit.Trim.Left:return _77.replace(/^\s+/,"");break;case ITHit.Trim.Right:return _77.replace(/\s+$/,"");break;default:return _77.replace(/(?:^\s+|\s+$)/g,"");}});ITHit.Add("Trim.Left","Left");ITHit.Add("Trim.Right","Right");ITHit.Add("Trim.Both","Both");ITHit.Add("Exception",(function(){var _7a=function(_7b,_7c){this.Message=_7b;this.InnerException=_7c;if(ITHit.Logger.GetCount(ITHit.LogLevel.Error)){var _7d="Exception: "+this.Name+"\n"+"Message: "+this.Message+"\n";if(_7c){_7d+=((!_7c instanceof Error)?"Inner exception: ":"")+this.GetExceptionsStack(_7c);}ITHit.Logger.WriteMessage(_7d,ITHit.LogLevel.Error);}};_7a.prototype.Name="Exception";_7a.prototype.GetExceptionsStack=function(_7e,_7f){if("undefined"===typeof _7e){var _7e=this;}var _7f=_7f?_7f:0;var _80="";var _81="      ";var _82="";for(var i=0;i<_7f;i++){_82+=_81;}if(_7e instanceof ITHit.Exception){_80+=_82+(_7e.Message?_7e.Message:_7e)+"\n";}else{if(ITHit.Config.ShowOriginalException){_80+="\nOriginal exception:\n";if(("string"!=typeof _7e)&&!(_7e instanceof String)){for(var _83 in _7e){_80+="\t"+_83+": \""+ITHit.Trim(_7e[_83])+"\"\n";}}else{_80+="\t"+_7e+"\n";}}}return _80;};_7a.prototype.toString=function(){return this.GetExceptionsStack();};return _7a;})());ITHit.Add("Extend",function(_84,_85){function _86(){};_86.prototype=_85.prototype;_84.prototype=new _86();_84.prototype.constructor=_84;_84.baseConstructor=_85;if(_85.base){_85.prototype.base=_85.base;}_84.base=_85.prototype;});ITHit.Add("Events",function(){var _87=function(){this._Listeners=this._NewObject();this._DispatchEvents={};this._DelayedDelete={};};_87.prototype._NewObject=function(){var obj={};for(var _88 in obj){delete obj[_88];}return obj;};_87.prototype.AddListener=function(_89,_8a,_8b,_8c){var _8d;var _8e=ITHit.EventHandler;if(!(_8b instanceof ITHit.EventHandler)){_8d=new ITHit.EventHandler(_8c||null,_8b);}else{_8d=_8b;}var _8f=this._Listeners[_89]||(this._Listeners[_89]=this._NewObject());var _90=_8f[_8a]||(_8f[_8a]=[]);var _91=false;for(var i=0,l=_90.length;i<l;i++){if(_90[i].IsEqual(_8d)){_91=true;break;}}if(!_91){_90.push(_8d);}};_87.prototype.DispatchEvent=function(_92,_93,_94){if(!this._Listeners[_92]||!this._Listeners[_92][_93]||!this._Listeners[_92][_93].length){return undefined;}var _95=ITHit.EventHandler;var _96;var _97=[];for(var i=0,l=this._Listeners[_92][_93].length;i<l;i++){_97.push(this._Listeners[_92][_93][i]);}this._DispatchEvents[_92]=(this._DispatchEvents[_92]||0)+1;this._DispatchEvents[_92+":"+_93]=(this._DispatchEvents[_92+":"+_93]||0)+1;for(var i=0;i<_97.length;i++){var _98;if(_97[i] instanceof _95){_98=_97[i].CallHandler(_92,_93,_94);}if(_97[i] instanceof Function){_98=_97[i](_92,_93,_94);}if(!ITHit.Utils.IsUndefined(_98)){_96=_98;}}this._DispatchEvents[_92]--;this._DispatchEvents[_92+":"+_93]--;this._CheckDelayedDelete(_92,_93);return _96;};_87.prototype.RemoveListener=function(_99,_9a,_9b,_9c){_9c=_9c||null;if(!this._Listeners[_99]||!this._Listeners[_99][_9a]||!this._Listeners[_99][_9a].length){return true;}var _9d=this._Listeners[_99][_9a];for(var i=0,l=_9d.length;i<l;i++){if(_9d[i].IsEqual(_9c,_9b)){this._Listeners[_99][_9a].splice(i,1);break;}}};_87.prototype.RemoveAllListeners=function(_9e,_9f){if(!ITHit.Utils.IsUndefined(_9f)){if(ITHit.Utils.IsUndefined(this._DispatchEvents[_9e+":"+_9f])){delete this._Listeners[_9e][_9f];}else{this._DelayedDelete[_9e+":"+_9f]=true;}}else{if(ITHit.Utils.IsUndefined(this._DispatchEvents[_9e])){delete this._Listeners[_9e];}else{this._DelayedDelete[_9e]=true;}}};_87.prototype._CheckDelayedDelete=function(_a0,_a1){if(!this._DispatchEvents[_a0+":"+_a1]){delete this._DispatchEvents[_a0+":"+_a1];if(!ITHit.Utils.IsUndefined(this._DelayedDelete[_a0+":"+_a1])){this.RemoveAllListeners(_a0,_a1);}}if(!this._DispatchEvents[_a0]){delete this._DispatchEvents[_a0];if(!ITHit.Utils.IsUndefined(this._DelayedDelete[_a0])){this.RemoveAllListeners(_a0);}}};_87.prototype.ListenersLength=function(_a2,_a3){if(!this._Listeners[_a2]||!this._Listeners[_a2][_a3]){return 0;}return this._Listeners[_a2][_a3].length;};_87.prototype.GetTarget=function(e){return e.target||e.srcElement;};_87.prototype.Fix=function(e){e=e||window.event;if(!e.target){e.target=this.GetTarget(e);}if((null==e.pageX)&&(null!=e.clientX)){var _a4=document.documentElement,_a5=document.body;e.pageX=e.clientX+(_a4&&_a4.scrollLeft||_a5&&_a5.scrollLeft||0)-(_a4.clientLeft||0);e.pageY=e.clientY+(_a4&&_a4.scrollTop||_a5&&_a5.scrollTop||0)-(_a4.clientTop||0);}if(!e.which&&e.button){e.which=e.button&1?1:(e.button&2?3:(e.button&4?2:0));}return e;};_87.prototype.AttachEvent=function(_a6,_a7,_a8){_a7=_a7.replace(/^on/,"");if(_a6.addEventListener){_a6.addEventListener(_a7,_a8,false);}else{if(_a6.attachEvent){_a6.attachEvent("on"+_a7,_a8);}else{_a6["on"+_a7]=_a8;}}};_87.prototype.DettachEvent=function(_a9,_aa,_ab){_aa=_aa.replace(/^on/,"");if(_a9.removeEventListener){_a9.removeEventListener(_aa,_ab,false);}else{if(_a9.detachEvent){_a9.detachEvent("on"+_aa,_ab);}else{_a9["on"+_aa]=null;}}},_87.prototype.Stop=function(e){e=e||window.event;if(e.stopPropagation){e.stopPropagation();}if(e.preventDefault){e.preventDefault();}else{e.returnValue=false;}e.cancelBubble=true;return false;};return new _87();}());ITHit.Add("EventHandler",function(){var _ac=function(_ad,_ae){var _af=ITHit.Utils;if(!_af.IsObjectStrict(_ad)&&!_af.IsNull(_ad)){throw new ITHit.Exception("Event handler scope expected to be an object.");}if(!_af.IsFunction(_ae)&&(_ad&&!_af.IsString(_ae))){throw new ITHit.Exception("Method handler expected to be a string or function.");}this.Scope=_ad;this.Method=_ae;};_ac.prototype.IsEqual=function(_b0,_b1){if(_b0 instanceof ITHit.EventHandler){return this.GetCredentials()===_b0.GetCredentials();}else{return ((_b0||null)===this.Scope)&&(_b1===this.Method);}};_ac.prototype.GetCredentials=function(){return this.Scope+"::"+this.Method;};_ac.prototype.CallHandler=function(_b2,_b3,_b4){if(!(_b4 instanceof Array)){_b4=[_b4];}if(this.Scope){if(this.Method instanceof Function){return this.Method.apply(this.Scope||window,_b4.concat([_b2]));}else{return this.Scope[this.Method].apply(this.Scope,_b4.concat([_b2]));}}else{return this.Method.apply({},_b4.concat([_b2]));}};return _ac;}());ITHit.Add("HtmlEncode",function(_b5){return _b5.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&amp;").replace(/"/g,"&quot;");});ITHit.Add("HtmlDecode",function(_b6){return _b6.replace(/&quot;/,"\"").replace(/&amp;/g,"'").replace(/&gt;/g,">").replace(/&lt;/g,"<");});ITHit.Add("Encode",function(_b7){if(!_b7){return _b7;}return ITHit.EncodeURI(_b7.replace(/%/g,"%25")).replace(/~/g,"%7E").replace(/!/g,"%21").replace(/@/g,"%40").replace(/#/g,"%23").replace(/\$/g,"%24").replace(/&/g,"%26").replace(/\*/g,"%2A").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\-/g,"%2D").replace(/_/g,"%5F").replace(/\+/g,"%2B").replace(/\=/g,"%3D").replace(/'/g,"%27").replace(/;/g,"%3B").replace(/\,/g,"%2C").replace(/\?/g,"%3F");});ITHit.Add("EncodeURI",function(_b8){if(!_b8){return _b8;}return encodeURI(_b8).replace(/%25/g,"%");});ITHit.Add("Decode",function(_b9){if(!_b9){return _b9;}var _b9=_b9.replace(/%7E/gi,"~").replace(/%21/g,"!").replace(/%40/g,"@").replace(/%23/g,"#").replace(/%24/g,"$").replace(/%26/g,"&").replace(/%2A/gi,"*").replace(/%28/g,"(").replace(/%29/g,")").replace(/%2D/gi,"-").replace(/%5F/gi,"_").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%27/g,"'").replace(/%3B/gi,";").replace(/%2E/gi,".").replace(/%2C/gi,",").replace(/%3F/gi,"?");return ITHit.DecodeURI(_b9);});ITHit.Add("DecodeURI",function(_ba){if(!_ba){return _ba;}return decodeURI(_ba.replace(/%([^0-9A-F]|.(?:[^0-9A-F]|$)|$)/gi,"%25$1"));});ITHit.Add("DecodeHost",function(_bb){if(/^(http|https):\/\/[^:\/]*?%/.test(_bb)){var _bc=_bb.match(/^(?:http|https):\/\/[^\/:]+/);if(_bc&&_bc[0]){var _bd=_bc[0].replace(/^(http|https):\/\//,"");_bb=_bb.replace(_bd,ITHit.Decode(_bd));}}return _bb;});(function(){var _be=function(){};var _bf=function(_c0,_c1){for(var key in _c1){if(!_c1.hasOwnProperty(key)){continue;}var _c2=_c1[key];if(typeof _c2=="function"&&typeof _c0[key]=="function"&&_c0[key]!==_be){_c0[key]=_c3(_c2,_c0[key]);}else{_c0[key]=_c2;}}if(!_c0._super){_c0._super=_be;}};var _c3=function(_c4,_c5){return function(){var old=this._super;this._super=_c5;var r=_c4.apply(this,arguments);this._super=old;return r;};};var _c6=0;ITHit.Add("DefineClass",function(_c7,_c8,_c9,_ca){_c8=_c8!==null?_c8:function(){};var _cb;if(_c9&&_c9.hasOwnProperty("constructor")){_cb=_c3(_c9.constructor,_c8);}else{_cb=function(){return _c8.apply(this,arguments);};}for(var _cc in _c8){_cb[_cc]=_c8[_cc];}_bf(_cb,_ca);var _cd=function(){this.constructor=_cb;};_cd.prototype=_c8.prototype;_cb.prototype=new _cd;for(var key in _cd.prototype){if(!_cd.prototype.hasOwnProperty(key)){continue;}var _ce=_cd.prototype[key];if(!_ce){continue;}if(_ce instanceof Array){if(_ce.length===0){_cb.prototype[key]=[];}}else{if(typeof _ce==="object"){var _cf=true;for(var k in _ce){_cf=_cf&&_ce.hasOwnProperty(k);}if(_cf){_cb.prototype[key]={};}}}}if(_c9){_bf(_cb.prototype,_c9);}_cb.prototype.toString=function(){if(!this.__instanceName){this.__instanceName=_c7+_c6++;}return this.__instanceName;};var _d0=_c7.lastIndexOf("."),_d1=_c7.substr(_d0+1);return ITHit.Declare(_c7.substr(0,_d0))[_d1]=_cb;});})();

ITHit.Temp.WebDAV_Phrases={
	CrossDomainRequestAttempt: 'Attempting to make cross-domain request.\nRoot URL: {0}\nDestination URL: {1}\nMethod: {2}',
	
	// WebDavRequest
	Exceptions: {
		BadRequest:         'The request could not be understood by the server due to malformed syntax.',
		Conflict:           'The request could not be carried because of conflict on server.',
		DependencyFailed:   'The method could not be performed on the resource because the requested action depended on another action and that action failed.',
		InsufficientStorage: 'The request could not be carried because of insufficient storage.',
		Forbidden:          'The server refused to fulfill the request.',
		Http:               'Exception during the request occurred.',
		Locked:             'The item is locked.',
		MethodNotAllowed:   'The method is not allowed.',
		NotFound:           'The item doesn\'t exist on the server.',
		PreconditionFailed: 'Precondition failed.',
		PropertyFailed:     'Failed to get one or more properties.',
		PropertyForbidden:  'Not enough rights to obtain one of requested properties.',
		PropertyNotFound:   'One or more properties not found.',
		Unauthorized:       'Incorrect credentials provided or insufficient permissions to access the requested item.',
		LockWrongCountParametersPassed: 'Lock.{0}: Wrong count of parameters passed. (Passed {1})',
		UnableToParseLockInfoResponse:  'Unable to parse response: quantity of LockInfo elements isn\'t equal to 1.',
		ParsingPropertiesException:     'Exception while parsing properties.',
		InvalidDepthValue: 'Invalid Depth value.',
		FailedCreateFolder: 'Failed creating folder.',
		ResourceExists: 'Resourse with name "{0}" is already exists on the server.',
		FailedCreateResource: 'Failed creating resource.',
		FolderWasExpectedAsDestinationForMoving: 'Folder was expected as destination for moving folder.',
		AddOrUpdatePropertyDavProhibition: 'Add or update of property {0} ignored: properties from "DAV:" namespace could not be updated/added.',
		DeletePropertyDavProhibition: 'Delete of property {0} ignored: properties from "DAV:" namespace could not be deleted.',
		NoPropertiesToManipulateWith: 'Calling UpdateProperties ignored: no properties to update/add/delete.',
		ActiveLockDoesntContainLockscope: 'Activelock node doesn\'t contain lockscope node.',
		ActiveLockDoesntContainDepth: 'Activelock node doedn\'t contain depth node.',
		WrongCountPropertyInputParameters: 'Wrong count of input parameters passed for Property constructor. Expected 1-3, passed: {1}.',
		FailedToWriteContentToFile: 'Failed to write content to file.',
		PropertyUpdateTypeException: 'Property expected to be an Property class instance.',
		PropertyDeleteTypeException: 'Property name expected to be an PropertyName class instance.',
		UnknownResourceType:  'Unknown resource type.',
		NotAllPropertiesReceivedForUploadProgress: 'Not all properties received for upload progress. {0}',
		ReportOnResourceItemWithParameterCalled: 'For files the method should be called without parametres.',
		WrongHref: 'Href expected to be a string.',
		WrongUploadedBytesType: 'Count of uploaded bytes expected to be a integer.',
		WrongContentLengthType: 'File content length expected to be a integer.',
		BytesUploadedIsMoreThanTotalFileContentLength: 'Bytes uploaded is more than total file content length.'
	},
	ResourceNotFound:         'Resource not found. {0}',
	ResponseItemNotFound:     'The response doesn\'t have required item. {0}',
	ResponseResourceWrongType: 'Server returned folder while resource is expected. {0}',
	FolderNotFound:           'Folder not found. {0}',
	ResponseFolderWrongType:  'Server returned resource while folder is expected. {0}',
	ItemIsMovedOrDeleted:     'Cannot perform operation because item "{0}" is moved or deleted.',
	FailedToCopy:             'Failed to copy item.',
	FailedToCopyWithStatus:   'Copy failed with status {0}: {1}.',
	FailedToDelete:           'Failed to delete item.',
	DeleteFailedWithStatus:   'Delete failed with status {0}: {1}.',
	FailedToMove:             'Failed to move item.',
	MoveFailedWithStatus:     'Move failed with status {0}: {1}.',
	UnlockFailedWithStatus:   'Unlock failed with status {0}: {1}.',
	PropfindFailedWithStatus: 'PROPFIND method failed with status {0}.',
	FailedToUpdateProp:       'Failed to update or delete one or more properties.',
	FromTo:                   'The From parameter cannot be less than To.',
	NotToken:                 'The supplied string is not a valid HTTP token.',
	RangeTooSmall:            'The From or To parameter cannot be less than 0.',
	RangeType:                'A different range specifier has already been added to this request.',
	ServerReturned:           'Server returned:',
	UserAgent:                'IT Hit WebDAV AJAX Library v{0}',
	
	// WebDavResponse
	wdrs: {
		status: '\n{0} {1}',
		response: '{0}: {1}'
	}
};



ITHit.Temp.WebDAV_Client_AjaxFileBrowserMobile_Phrases=ITHit.oNS = ITHit.Declare('ITHit.WebDAV.Client.AjaxFileBrowserMobile.Phrases');

ITHit.oNS.EN = {

	AjaxFileBrowser: {
		Date: {
			DaysShort: 'd',
			HoursShort: 'h',
			MinutesShort: 'm',
			SecondsShort: 's',
			DaysAgo: 'd ago',
			HoursAgo: 'h ago',
			MinutesAgo: 'min ago',
			SecondsAgo: 'sec ago',
			MomentAgo: 'a moment ago'
		},

        Interface: {
            // Upload
            PropertyNameRestriction:                   'Property name and namespace can not be empty and must begin with a letter, may be followed by letters, digits, hyphens, underscores and periods.',
            FileNameSpecialCharactersRestriction:      'The name cannot contain any of the following characters:\n\t\t{0}',
            SpecifyItemName:                           'Specify the item name',
            FilePrecentInUploadList:                   'Selected file(s) already present in upload list:\n{0}',
            VideoFilesWillBeIgnored:                   'Video files will be ignored. To upload video files select Upload -> Upload Video.',
            Safari51WindowsMultiUploadNotSupported:    'Safari 5.1.x does not support multiselection via \'Browse\' button. Please use drag and drop or select a single file only or use other web browser.',
            FirefoxFolderDropNotSupported:             'Folders drag and drop is available only in Google Chrome 21 and later versions.',
            FirefoxLargeFilesToUpload:                 'In Firefox files over 100 Mb cannot be uploaded together with other files or via drag and drop. The following files are too large:\n\n<b>{0}</b>\n\n'+
                'To upload this file(s) you must select them one by one using "Browse..." button or use other browser.',
            FilesPresentInUploadList:                  'The following file(s) is present in the upload list:\n\n{0}',
			FilesResumeNotInListOrChanged:             'The following file(s) was modified:\n{0}\n\n'+
				'The following file(s) was not among your selection for resume in the upload list:\n{1}\n\nThe upload will start from the begging of each file.',
			FilesResumeNotChanged:                      'The following file(s) was modified:\n{0}',
			FilesResumeNotInList:                      'The following file(s) was not among your selection for resume in the upload list:\n{0}',
			FilesResumeStartFromBegin:                 'The upload will start from the begging of each file.',
            FileUploadFailed:                          'Failed to upload the file.',
            FolderUploadNotAvailedInYourBrowser:       'Folders upload is available only in Google Chrome 21 and later versions.',
            UploadInProgressWarning:                   'One or more files are being uploaded. If you close this page upload will be paused.',
			RetryIn:                                   'Retry in {0}s',

			HttpNotAvailableError:                     'Server is not available.',
            NewName:                                   'New name',
			NewFolderPattern:                          'New Folder',
			CopyPattern:                               'Copy',
			ItemAlreadyExists:                         'Item already exists.',
			FolderAlreadyExists:                       'Folder already exists.',
            DeleteItemsConfirmQuestion:                'Are you sure you want to delete selected item(s)?',
            FileExistsOverwriteConfirmQuestion:        'File "{0}" already exists. Do you want to overwrite it?',
            OperationCannotBePerformed:                'Operation Cannot Be Performed:',
            NonExistentLocation:                       'Location does not exist.',
            MoveFolderToSubfolderRestriction:          'The destination folder is a subfolder of the source folder.',
            MoveFileToSameDirectoryRestriction:        'The source and destination file names are the same.',
            CrossDomainRequestsIssue:                  'Your server may not be configured to allow cross-domain requests.<br/>Please see how to enable cross-domain requests <a target="_blank" href="http://www.webdavsystem.com/ajaxfilebrowser/programming/cross_domain">here</a>.<br/>',
            CrossDomainRequestsIssueTitle:             'Failed to connect to server',
            GetPropertiesError:                        'Properties are not selected.',
            GetVersionsError:                          'Versions are not selected.',
            NotFoundLocation:                          'Location "{0}" not found.'
        },

        Commands: {
            UndoCommand: 'Undo {0}',
			CancelCommand: 'Cancel {0}',
            Names: {
                Load: 'Load',
                Copy: 'Copy',
                CreateFolder: 'Creating Folder',
                Delete: 'Delete',
                LoadFolder: 'Load Folder',
                LoadItem: 'Load Item',
                LoadTree: 'Load Tree',
                Move: 'Move',
                Rename: 'Rename',
                Search: 'Search'
            },
			Process: {
				Load: 'Loading...',
				Copy: 'Copying "{0}"...',
				CreateFolder: 'Create Folder "{0}"...',
				Delete: 'Deleting "{0}"...',
				LoadFolder: 'Loading Folder "{0}"...',
				LoadItem: 'Loading Item "{0}"...',
				LoadTree: 'Loading Tree "{0}"...',
				Move: 'Moving "{0}"...',
				Rename: 'Renaming "{0}"...',
				Search: 'Searching "{0}"...'
			}
        },

        Exceptions: {
            TrySearchByResource:                           'You try to search by resource. Only folders support search.',
            BytesUploadedIsMoreThanTotalFileContentLength: 'Bytes uploaded cannot be more than total file content length.',
            //DestinationLocationNotPassed:                  'Destination URL is not passed.',
            EmptyElementParameter:                         'Element parameter is empty.',
            EmptyUrlProvided: 		                       'Please specify WebDAV server url.',
            //FolderInstanceExpected:                        'ITHit.WebDAV.Client.AjaxFileBrowser.Folder instance object expected as input parameter.',
            //FunctionalityNotSupported:                     'Functionality {0} is not supported by your browser.',
            //HierarchyItemInstanceExpected:                 'ITHit.WebDAV.Client.AjaxFileBrowser.HierarchyItem instance object expected as input parameter.',
            //InterfaceLabelIsNotPassed:                     'Interface label is not passed.',
            //KeyCodeNotSpecified:                           'Key code not specified. Passed: {0}',
            //NonExistentLocation:                           'Location "{0}" does not exist.',
            //ResourceInstanceExpected:                      'ITHit.WebDAV.Client.AjaxFileBrowser.Resource instance object expected as input parameter.',
            SessionNotStarted:                             'Session is not started. Possible reason: ITHit WebDAV AJAX Library is not loaded.',
            //UnexpectedUploadItemState:                     'Unexpected upload item state: {0}',
            UploadProgressInfoInstanceExpected:            'ITHit.WebDAV.Client.AjaxFileBrowser.InternalUploadProgressInfo instance expected.',
            //WrongBaseUrl:                                  'Incorrect URL provided or URl is empty.',
            WrongContentLengthType:                        'File content length is expected to be an integer.',
            //WrongCountAsMaximumUploadTasks:                'Expected integer value above zero as count of maximum upload tasks at the same time. Passed: {0}',
            //WrongCountInputParameters:                     'Wrong count of imput parameters passed.',
            WrongElementIdOrObject:                        'Expected element as string id or object.',
            WrongInterfaceHandler:                         'Wrong interface handler indentifier. Passed: {0}',
            //WrongMenuItemType:                             'Passed wrong menu item type. Passed: {0}',
            //WrongParametrType:                             'Wrong parameter type.',
            //WrongTemplateIndex:                            'Passed wrong template index.',
            WrongUploadedBytesType:                        'Count of uploaded bytes expected to be a integer.',
            WrongUrl:                                      'Passed wrong URL: "{0}".'
            //WrongViewModeIndex:                            'Passed wrong view mode index: "{0}".'
	},

		StatusDescriptions: {}
	},

	// File browser phrases.
	AjaxFileBrowserMobile: {

		ItemInfo: {
			ItemType: 'Item type:',
			Location: 'Location:',
			Size: 'Size:',
			Created: 'Created:',
			Modified: 'Modified:',
			UsedPercent: 'Used: {0}%',
			UsedSpace: 'Used space:',
			TotalSpace: 'Total space:',
			FreeSpace: 'Free space:'
		},
		
		Interface: {

            PullToRefresh: {
                PullToFefresh: 'Pull down to refresh...',
                ReleaseToRefresh: 'Release to refresh...',
                Refreshing: 'Refreshing...'
            },
			
			Buttons: {
				Ok:				'Ok',
				Close:          'Close',
				Back:           'Back',
				Thumbnail:      'Thumbnail',
				Content:        'Content',
				List:           'List',
				Search:         'Search',
				SelectAll:      'Select All',
				ClearSelection: 'Clear Selection',
				NewFolder:      'New Folder',
				Refresh:        'Refresh',
				Edit:           'Edit',
				Upload:         'Upload',
				View:           'View',
				Cut:            'Cut',
				Copy:           'Copy',
				Paste:          'Paste',
				Delete:         'Delete',
                Rename:         'Rename',
                Pause:          'Pause',
                Resume:         'Resume',
                Cancel:         'Cancel',
				UploadVideo:    'Upload Video',
				UploadOther:    'Upload Other'
			},

			SearchItems:                               'Search Items...',

			Cancel:                                    'Cancel',
			Yes:                                       'Yes',
			YesToAll:                                  'Yes to All',
			No:                                        'No',
			NoToAll:                                   'No to All',
			FolderName:                                'Folder name',
			DeleteItem:                                'Delete item'
		},
		
		FileSizes: {
			Bytes: 'Bytes',
			B:     'B',
			GB:    'GB',
			KB:    'KB',
			MB:    'MB'
		},

		Grid: {
			DateModified:   'Date Modified',
			FileTypePrefix: 'File ',
			Name:           'Name',
			Size:           'Size',
			Type:           'Type'
		},
		
		Menu: {
		}
	},
	
	Exceptions: {
		//ObjectExpected: 'Object or null expected.',
		//UndefinedEventHandler: 'Event handler {0}::{1} is undefined.'
	}
};


ITHit.oNS=ITHit.Declare("ITHit.Exceptions");ITHit.oNS.LoggerException=function(_d2,_d3){ITHit.Exceptions.LoggerException.baseConstructor.call(this,_d2,_d3);};ITHit.Extend(ITHit.oNS.LoggerException,ITHit.Exception);ITHit.oNS.LoggerException.prototype.Name="LoggerException";ITHit.oNS=ITHit.Declare("ITHit");ITHit.oNS.LogLevel={All:32,Debug:16,Info:8,Warn:4,Error:2,Fatal:1,Off:0};ITHit.oNS=ITHit.Declare("ITHit");ITHit.oNS.Logger=(function(){var _d4={};var _d5={};var _d6={};for(var _d7 in ITHit.LogLevel){_d4[ITHit.LogLevel[_d7]]=[];_d6[ITHit.LogLevel[_d7]]=[];}var _d8=function(){this.Level=("undefined"!==typeof ITHit.Config.LogLevel)?ITHit.Config.LogLevel:ITHit.LogLevel.Debug;this._IgnoreStartLogging=false;this._IgnoreFinishLogging=false;this._bNextSessFinish=false;this.AddListener=function(_d9,_da){if(_da==ITHit.LogLevel.Off){this.RemoveListener();}var _db=0;var _dc=0;outer:for(var _dd in _d4){for(var i=0;i<_d4[_dd].length;i++){if(_d4[_dd][i]==_d9){_db=_dd;_dc=i;break outer;}}}if(!_db){_d4[_da].push(_d9);_de.add(_da,_d9);}else{if(_da!=_db){_d4[_db].splice(_dc,1);_d4[_da].push(_d9);if(_da>_db){_de.increase(_db,_da,_d9);}else{_de.decrease(_da,_db,_d9);}}}};this.RemoveListener=function(_df){outer:for(var _e0 in _d4){for(var i=0;i<_d4[_e0].length;i++){if(_d4[_e0][i]==_df){_d4[_e0].splice(i,1);_de.del(_e0,_df);break outer;}}}return true;};this.SetLogLevel=function(_e1,_e2){return this.AddListener(_e1,_e2,true);};this.GetLogLevel=function(_e3){for(var _e4 in _d4){for(var i=0;i<_d4[_e4].length;i++){if(_d4[_e4][i]==_e3){return _e4;}}}return false;};this.GetListenersForLogLevel=function(_e5){return _d6[_e5];};this.GetCount=function(_e6){return _d6[_e6].length;};var _de=function(_e7,_e8,iTo,_e9){for(var _ea in ITHit.LogLevel){if(ITHit.LogLevel[_ea]>iTo){continue;}if(!ITHit.LogLevel[_ea]||(_e8>=ITHit.LogLevel[_ea])){continue;}if(_e7){_d6[ITHit.LogLevel[_ea]].push(_e9);}else{for(var i=0;i<_d6[ITHit.LogLevel[_ea]].length;i++){if(_d6[ITHit.LogLevel[_ea]][i]==_e9){_d6[ITHit.LogLevel[_ea]].splice(i,1);}}}}};_de.add=function(iTo,_eb){_de.increase(ITHit.LogLevel.Off,iTo,_eb);};_de.del=function(iTo,_ec){_de.decrease(ITHit.LogLevel.Off,iTo,_ec);};_de.increase=function(_ed,iTo,_ee){_de(true,_ed,iTo,_ee);};_de.decrease=function(_ef,iTo,_f0){_de(false,_ef,iTo,_f0);};};_d8.prototype.WriteResponse=function(_f1){if(_d8.GetCount(ITHit.LogLevel.Info)){var _f2="";if(_f1 instanceof HttpWebResponse){_f2+="\n"+_f1.StatusCode+" "+_f1.StatusDescription+"\n";}_f2+=_f1.ResponseUri+"\n";for(var _f3 in _f1.Headers){_f2+=_f3+": "+_f1.Headers[_f3]+"\n";}_f2+=_f1.GetResponse();this.WriteMessage(_f2);}};_d8.prototype.WriteMessage=function(_f4,_f5){this._IgnoreStartLogging=false;_f5=("undefined"==typeof _f5)?ITHit.LogLevel.Info:parseInt(_f5);if(ITHit.Logger.GetCount(_f5)){var _f6=this.GetListenersForLogLevel(_f5);var _f4=String(_f4).replace(/([^\n])$/,"$1\n");for(var i=0;i<_f6.length;i++){try{_f6[i](_f4,ITHit.LogLevel.Info);}catch(e){if(!_f6[i] instanceof Function){throw new ITHit.Exceptions.LoggerException("Log listener expected function, passed: \""+_f6[i]+"\"",e);}else{throw new ITHit.Exceptions.LoggerException("Message could'nt be logged.",e);}}}}if(this._bNextSessFinish){this._bNextSessFinish=false;this.FinishLogging();}};_d8.prototype.StartLogging=function(){if(this._IgnoreStartLogging){this._IgnoreStartLogging=false;return;}this._IgnoreFinishLogging=false;var _f7=new Date();this.WriteMessage("\n----------------- Started: "+_f7.toUTCString()+" ["+_f7.getTime()+"] -----------------",ITHit.LogLevel.Info);};_d8.prototype.FinishLogging=function(){if(this._IgnoreFinishLogging){this._IgnoreFinishLogging=false;return;}var _f8=new Date();this.WriteMessage("----------------- Finished: "+_f8.toUTCString()+" ["+_f8.getTime()+"] -----------------"+"\n",ITHit.LogLevel.Info);};_d8.prototype.StartRequest=function(){var _f9=new Date();this.WriteMessage("--- Request started ---",ITHit.LogLevel.Info);};_d8.prototype.FinishRequest=function(){var _fa=new Date();this.WriteMessage("--- Request finished ---",ITHit.LogLevel.Info);};_d8.prototype.DeclareFinish=function(){this._bNextSessFinish=true;};_d8.prototype.IgnoreNextStartLogging=function(){this._IgnoreStartLogging=true;};_d8.prototype.IgnoreNextFinishLogging=function(){this._IgnoreFinishLogging=true;};return new _d8();})();ITHit.oNS=ITHit.Declare("ITHit.Exceptions");ITHit.oNS.PhraseException=function(_fb,_fc){ITHit.Exceptions.PhraseException.baseConstructor.call(this,_fb,_fc);};ITHit.Extend(ITHit.oNS.PhraseException,ITHit.Exception);ITHit.oNS.PhraseException.prototype.Name="PhraseException";ITHit.Phrases=(function(){var _fd={};var _fe=function(_ff){this._arguments=_ff;};_fe.prototype.Replace=function(_100){var _101=_100.substr(1,_100.length-2);return ("undefined"!=typeof this._arguments[_101])?this._arguments[_101]:_100;};var _102=function(_103){this._phrase=_103;};_102.prototype.toString=function(){return this._phrase;};_102.prototype.Paste=function(){var _104=this._phrase;if(/\{\d+?\}/.test(_104)){var _105=new _fe(arguments);_104=_104.replace(/\{(\d+?)\}/g,function(args){return _105.Replace(args);});}return _104;};var _106=function(){};_106.prototype.LoadJSON=function(_107,_108){var _109=ITHit.Utils;if(_108&&!_109.IsString(_108)){throw new ITHit.Exceptions.PhraseException("Namespace expected to be a string.");}var _10a=this;if(_108){_10a=ITHit.Declare(_108);}try{var _10b=_107;if(_109.IsString(_10b)){_10b=eval("("+_107+")");}this._AddPhrases(_10b,_10a);}catch(e){throw new ITHit.Exceptions.PhraseException("Wrong text structure.",e);}};_106.prototype.LoadLocalizedJSON=function(_10c,_10d,_10e){var _10f=ITHit.Utils,_110=_10f.IsUndefined,_111=_10f.IsObject;if(!_10c||!_10f.IsObjectStrict(_10c)){throw new ITHit.Exceptions.PhraseException("Default phrases expected to be an JSON object.");}if(_10d&&!_10f.IsObjectStrict(_10d)){throw new ITHit.Exceptions.PhraseException("Default phrases expected to be an JSON object");}var _112;if(_10d){_112={};this._MergePhrases(_112,_10d);this._MergePhrases(_112,_10c);}else{_112=_10c;}this.LoadJSON(_112,_10e);};_106.prototype._MergePhrases=function(dest,_113){var _114=ITHit.Utils,_115=_114.IsUndefined,_116=_114.IsObject;for(var prop in _113){if(!_113.hasOwnProperty(prop)){continue;}if(_115(dest[prop])){dest[prop]=_113[prop];}else{if(_116(dest[prop])){this._MergePhrases(dest[prop],_113[prop]);}}}};_106.prototype._AddPhrases=function(_117,_118){_118=_118||this;for(var _119 in _117){if(("object"!=typeof _117[_119])||!(_117[_119] instanceof Object)){switch(_119){case "_AddPhrases":case "LoadJSON":case "LoadLocalizedJSON":case "_Merge":case "prototype":case "toString":throw new ITHit.Exceptions.PhraseException("\""+_119+"\" is reserved word.");break;}_118[_119]=new _102(_117[_119]);}else{this._AddPhrases(_117[_119],_118[_119]?_118[_119]:(_118[_119]={}));}}};return new _106();})();ITHit.oNS=ITHit.Declare("ITHit.Exceptions");ITHit.oNS.XPathException=function(_11a,_11b){ITHit.Exceptions.XPathException.baseConstructor.call(this,_11a,_11b);};ITHit.Extend(ITHit.oNS.XPathException,ITHit.Exception);ITHit.oNS.XPathException.prototype.Name="XPathException";ITHit.XPath={_component:null,_version:null};ITHit.XPath.evaluate=function(_11c,_11d,_11e,_11f,_120){if(("string"!=typeof _11c)&&!(_11c instanceof String)){throw new ITHit.Exceptions.XPathException("Expression was expected to be a string in ITHit.XPath.eveluate.");}if(!(_11d instanceof ITHit.XMLDoc)){throw new ITHit.Exceptions.XPathException("Element was expected to be an ITHit.XMLDoc object in ITHit.XPath.evaluate.");}if(_11e&&!(_11e instanceof ITHit.XPath.resolver)){throw new ITHit.Exceptions.XPathException("Namespace resolver was expected to be an ITHit.XPath.resolver object in ITHit.XPath.evaluate.");}if(_11f&&!(_11f instanceof ITHit.XPath.result)){throw new ITHit.Exceptions.XPathException("Result expected to be an ITHit.XPath.result object in ITHit.XPath.evaluate.");}_11e=_11e||null;_11f=_11f||null;if(document.implementation.hasFeature("XPath","3.0")&&document.evaluate){var _121=_11d._get();var _122=_121.ownerDocument||_121;if(_11f){_122.evaluate(_11c,_121,_11e,ITHit.XPath.result.UNORDERED_NODE_SNAPSHOT_TYPE,_11f._res);return;}var oRes=new ITHit.XPath.result(_122.evaluate(_11c,_121,_11e,ITHit.XPath.result.UNORDERED_NODE_SNAPSHOT_TYPE,null));if(!_120){return oRes;}else{return oRes.iterateNext();}}else{if(undefined!==window.ActiveXObject){var _121=_11d._get();var _123=false;try{_121.getProperty("SelectionNamespaces");_123=true;}catch(e){}var _124=false;if(3==ITHit.XMLDoc._version){var sXml=_121.xml.replace(/^\s+|\s+$/g,"");var _125="urn:uuid:c2f41010-65b3-11d1-a29f-00aa00c14882/";var _126="cutted";if(-1!=sXml.indexOf(_125)||true){var _127=sXml.replace(_125,_126);var _128=new ITHit.XMLDoc();_128.load(_127);if(_11e){var oNs=_11e.getAll();for(var _129 in oNs){if(_125==oNs[_129]){oNs.add(_129,_126);break;}}}_121=_128._get();_123=true;_124=true;}}if(_123&&_11e&&_11e.length()){var _12a=_11e.getAll();var aNs=[];for(var _129 in _12a){aNs.push("xmlns:"+_129+"='"+_12a[_129]+"'");}_121.setProperty("SelectionNamespaces",aNs.join(" "));}if(_124){_121=_121.documentElement;}try{if(!_120){if(!_11f){return new ITHit.XPath.result(_121.selectNodes(_11c));}else{_11f._res=_121.selectNodes(_11c);return;}}else{var mOut=_121.selectSingleNode(_11c);if(mOut){return new ITHit.XMLDoc(mOut);}else{return mOut;}}}catch(e){if(!_123&&(-1!=e.message.indexOf("Reference to undeclared namespace prefix"))&&_11e&&_11e.length()){var sEl=new ITHit.XMLDoc(_121).toString();var oEl=new ITHit.XMLDoc();oEl.load(sEl);_121=oEl._get();var _12a=_11e.getAll();var aNs=[];for(var _129 in _12a){aNs.push("xmlns:"+_129+"='"+_12a[_129]+"'");}_121.setProperty("SelectionNamespaces",aNs.join(" "));_121=_121.documentElement;if(!_120){if(!_11f){return new ITHit.XPath.result(_121.selectNodes(_11c));}else{_11f._res=_121.selectNodes(_11c);return;}}else{var mOut=_121.selectSingleNode(_11c);if(mOut){return new ITHit.XMLDoc(mOut);}else{return mOut;}}}else{throw new ITHit.Exceptions.XPathException("Evaluation failed for searching \""+_11c+"\".",e);}}}}throw new ITHit.Exceptions.XPathException("XPath support is not implemented for your browser.");};ITHit.XPath.selectSingleNode=function(_12b,_12c,_12d){return ITHit.XPath.evaluate(_12b,_12c,_12d,false,true);};ITHit.XPath.resolver=function(){this._ns={};this._length=0;};ITHit.XPath.resolver.prototype.add=function(_12e,sNs){this._ns[_12e]=sNs;this._length++;};ITHit.XPath.resolver.prototype.remove=function(_12f){delete this._ns[_12f];this._length--;};ITHit.XPath.resolver.prototype.get=function(_130){return this._ns[_130]||null;};ITHit.XPath.resolver.prototype.lookupNamespaceURI=ITHit.XPath.resolver.prototype.get;ITHit.XPath.resolver.prototype.getAll=function(){var oOut={};for(var _131 in this._ns){oOut[_131]=this._ns[_131];}return oOut;};ITHit.XPath.resolver.prototype.length=function(){return this._length;};ITHit.XPath.result=function(_132){this._res=_132;this._i=0;this.length=_132.length?_132.length:_132.snapshotLength;};ITHit.XPath.result.ANY_TYPE=0;ITHit.XPath.result.NUMBER_TYPE=1;ITHit.XPath.result.STRING_TYPE=2;ITHit.XPath.result.BOOLEAN_TYPE=3;ITHit.XPath.result.UNORDERED_NODE_ITERATOR_TYPE=4;ITHit.XPath.result.ORDERED_NODE_ITERATOR_TYPE=5;ITHit.XPath.result.UNORDERED_NODE_SNAPSHOT_TYPE=6;ITHit.XPath.result.ORDERED_NODE_SNAPSHOT_TYPE=7;ITHit.XPath.result.ANY_UNORDERED_NODE_TYPE=8;ITHit.XPath.result.FIRST_ORDERED_NODE_TYPE=9;ITHit.XPath.result.prototype.iterateNext=function(_133){var mOut;if(!_133){if(!this._res.snapshotItem){try{mOut=this._res[this._i++];}catch(e){return null;}}else{mOut=this._res.snapshotItem(this._i++);}}else{mOut=this._res[_133];}if(mOut){return new ITHit.XMLDoc(mOut);}else{return mOut;}};ITHit.XPath.result.prototype.snapshotItem=ITHit.XPath.result.prototype.iterateNext;ITHit.XPath.result.prototype.type=function(){return this._res.resultType;};ITHit.XPath.result.prototype._get=function(){return this._res;};ITHit.oNS=ITHit.Declare("ITHit.Exceptions");ITHit.oNS.XMLDocException=function(_134,_135){ITHit.Exceptions.XMLDocException.baseConstructor.call(this,_134,_135);};ITHit.Extend(ITHit.oNS.XMLDocException,ITHit.Exception);ITHit.oNS.XMLDocException.prototype.Name="XMLDocException";ITHit.XMLDoc=(function(){var _136;var _137=1;var _138=2;var _139=3;var _13a=4;var _13b=5;var _13c=6;var _13d=7;var _13e=8;var _13f=9;var _140=10;var _141=11;var _142=12;var _143=function(_144){this._xml=null;this._encoding=null;if(null!==_144){if(!_144||("object"!=typeof _144)){if(undefined!==window.ActiveXObject){if(_136){this._xml=new window.ActiveXObject(_136);}else{var _145=["Msxml2.DOMDocument.6.0","Msxml2.DOMDocument.4.0","Msxml2.DOMDocument.3.0"];var _146=[6,4,3];for(var i=0;i<_145.length;i++){try{this._xml=new window.ActiveXObject(_145[i]);_143._version=_146[i];_136=_145[i];break;}catch(e){if(3==_146[i]){throw new ITHit.Exception("XML component is not supported.");}}}}}else{if(document.implementation&&document.implementation.createDocument){this._xml=document.implementation.createDocument("","",null);}}if(undefined===this._xml){throw new ITHit.Exceptions.XMLDocException("XML support for current browser is not implemented.");}this._xml.async=false;}else{this._xml=_144;}}else{this._xml=null;return null;}};_143._version=0;_143.prototype.contentEncoding=function(_147){if(undefined!==_147){this._encoding=_147;}return this._encoding;};_143.prototype.load=function(_148){if(!ITHit.Utils.IsString(_148)){throw new ITHit.Exceptions.XMLDocException("String was expected for xml parsing.");}if(!_148){return new _143();}var oDoc;if(undefined!==window.ActiveXObject){try{if(3==_143._version){_148=_148.replace(/(?:urn\:uuid\:c2f41010\-65b3\-11d1\-a29f\-00aa00c14882\/)/g,"cutted");}if(_143._version){this._xml.loadXML(_148);}else{var _149=new _143();if(3==_143._version){_148=_148.replace(/(?:urn\:uuid\:c2f41010\-65b3\-11d1\-a29f\-00aa00c14882\/)/g,"cutted");}_149.load(_148);this._xml=_149._get();}}catch(e){var _14a=e;}}else{if(document.implementation.createDocument){try{var _14b=new DOMParser();oDoc=_14b.parseFromString(_148,"text/xml");this._xml=oDoc;}catch(e){var _14a=e;}}else{throw new ITHit.Exceptions.XMLDocException("Cannot create XML parser object. Support for current browser is not implemented.");}}if(undefined!==_14a){throw new ITHit.Exceptions.XMLDocException("ITHit.XMLDoc.load() method failed.\nPossible reason: syntax error in passed XML string.",_14a);}};_143.prototype.appendChild=function(_14c){if(!_14c instanceof ITHit.XMLDoc){throw ITHit.Exceptions.XMLDocException("Instance of XMLDoc was expected in appendChild method.");}this._xml.appendChild(_14c._get());};_143.prototype.createElement=function(_14d){return new _143(this._xml.createElement(_14d));};_143.prototype.createElementNS=function(sNS,_14e){if(this._xml.createElementNS){var _14f=this._xml.createElementNS(sNS,_14e,"");return new ITHit.XMLDoc(_14f);}else{try{return new _143(this._xml.createNode(_137,_14e,sNS));}catch(e){throw new ITHit.Exceptions.XMLDocException("Node is not created.",e);}}throw new ITHit.Exceptions.XMLDocException("createElementNS for current browser is not implemented.");};_143.prototype.createTextNode=function(_150){return new _143(this._xml.createTextNode(_150));};_143.prototype.getElementById=function(sId){return new _143(this._xml.getElementById(sId));};_143.prototype.getElementsByTagName=function(_151){return new _143(this._xml.getElementsByTagName(_151));};_143.prototype.childNodes=function(){var _152=this._xml.childNodes;var _153=[];for(var i=0;i<_152.length;i++){_153.push(new ITHit.XMLDoc(_152[i]));}return _153;};_143.prototype.getElementsByTagNameNS=function(_154,_155){if(this._xml.getElementsByTagNameNS){var _156=this._xml.getElementsByTagNameNS(_154,_155);}else{var _157=this.toString();var _158=new ITHit.XMLDoc();_158.load(_157);var _159=new ITHit.XPath.resolver();_159.add("a",_154);var oRes=ITHit.XPath.evaluate(("//a:"+_155),_158,_159);var _156=oRes._get();}var aRet=[];for(var i=0;i<_156.length;i++){var _15a=new ITHit.XMLDoc(_156[i]);aRet.push(_15a);}return aRet;};_143.prototype.setAttribute=function(_15b,_15c){this._xml.setAttribute(_15b,_15c);};_143.prototype.hasAttribute=function(_15d){return this._xml.hasAttribute(_15d);};_143.prototype.getAttribute=function(_15e){return this._xml.getAttribute(_15e);};_143.prototype.removeAttribute=function(_15f){this._xml.removeAttribute(_15f);};_143.prototype.hasAttributeNS=function(_160){return this._xml.hasAttribute(_160);};_143.prototype.getAttributeNS=function(_161){return this._xml.getAttribute(_161);};_143.prototype.removeAttributeNS=function(_162){this._xml.removeAttribute(_162);};_143.prototype.removeChild=function(_163){if(!_163 instanceof ITHit.XMLDoc){throw ITHit.Exceptions.XMLDocException("Instance of XMLDoc was expected in ITHit.XMLDoc.removeChild() method.");}this._xml.removeChild(_163);return new ITHit.XMLDoc(_163);};_143.prototype.removeNode=function(_164){if(!_164 instanceof ITHit.XMLDoc){throw ITHit.Exceptions.XMLDocException("Instance of XMLDoc was expected in ITHit.XMLDoc.removeNode() method.");}_164=_164._get();if(_164.removeNode){return new _143(_164.removeNode(true));}else{return new _143(_164.parentNode.removeChild(_164));}};_143.prototype.cloneNode=function(_165){if(undefined===_165){_165=true;}return new ITHit.XMLDoc(this._xml.cloneNode(_165));};_143.prototype.getProperty=function(_166){return this._xml[_166];};_143.prototype.setProperty=function(_167,_168){this._xml[_167]=_168;};_143.prototype.nodeName=function(){return this._xml.nodeName;};_143.prototype.nextSibling=function(){return new ITHit.XMLDoc(this._xml.nextSibling);};_143.prototype.namespaceURI=function(){return this._xml.namespaceURI;};_143.prototype.hasChildNodes=function(){return (this._xml&&this._xml.hasChildNodes());};_143.prototype.firstChild=function(){return new _143(this._xml.firstChild);};_143.prototype.localName=function(){return this._xml.localName||this._xml.baseName;};_143.prototype.nodeValue=function(){var _169="";if(this._xml){_169=this._xml.nodeValue;}if("object"!=typeof _169){return _169;}else{return new ITHit.XMLDoc(_169);}};_143.prototype.nodeType=function(){return this._xml.nodeType;};_143.prototype._get=function(){return this._xml;};_143.prototype.toString=function(_16a){return _143.toString(this._xml,this._encoding,_16a);};_143.toString=function(_16b,_16c,_16d){if(!_16b){throw new ITHit.Exceptions.XMLDocException("ITHit.XMLDoc: XML object expected.");}var _16e="";var _16f=true;if(undefined!==_16b.xml){_16e=_16b.xml.replace(/^\s+|\s+$/g,"");_16f=false;}else{if(document.implementation.createDocument&&(undefined!==XMLSerializer)){_16e=new XMLSerializer().serializeToString(_16b);_16f=false;}}if(_16e){if(_16c){_16c=" encoding=\""+this._encoding+"\"";}else{_16c="";}var sOut=((!_16d)?"<?xml version=\"1.0\""+_16c+"?>":"")+_16e.replace(/^<\?xml[^?]+\?>/,"");return sOut;}if(_16f){throw new ITHit.Exceptions.XMLDocException("XML parser object is not created.");}return _16e;};return _143;})();ITHit.XMLDoc.nodeTypes={NODE_ELEMENT:1,NODE_ATTRIBUTE:2,NODE_TEXT:3,NODE_CDATA_SECTION:4,NODE_ENTITY_REFERENCE:5,NODE_ENTITY:6,NODE_PROCESSING_INSTRUCTION:7,NODE_COMMENT:8,NODE_DOCUMENT:9,NODE_DOCUMENT_TYPE:10,NODE_DOCUMENT_FRAGMENT:11,NODE_NOTATION:12};ITHit.oNS=ITHit.Declare("ITHit.Exceptions");ITHit.oNS.ArgumentException=function(_170,_171){_170+=" Variable name: \""+_171+"\"";ITHit.Exceptions.ArgumentException.baseConstructor.call(this,_170);};ITHit.Extend(ITHit.oNS.ArgumentException,ITHit.Exception);ITHit.oNS.ArgumentException.prototype.Name="ArgumentException";ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS.Depth=function(_172){this.Value=_172;};ITHit.oNS.Depth.Parse=function(_173){var _174=ITHit.WebDAV.Client.Depth;switch(_173.toLowerCase()){case "0":return _174.Zero;break;case "1":return _174.One;break;case "infinity":return _174.Infinity;break;default:throw new ITHit.Exceptions.ArgumentException(ITHit.Phrases.Exceptions.InvalidDepthValue,"sValue");}};ITHit.oNS.Depth.Zero=new ITHit.oNS.Depth(0);ITHit.oNS.Depth.One=new ITHit.oNS.Depth(1);ITHit.oNS.Depth.Infinity=new ITHit.oNS.Depth("Infinity");ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Methods");ITHit.oNS.HttpMethod=function(){};ITHit.oNS=ITHit.Declare("ITHit.Exceptions");ITHit.oNS.ArgumentNullException=function(_175){var _176="Variable \""+_175+"\" nas null value.";ITHit.Exceptions.ArgumentNullException.baseConstructor.call(this,_176);};ITHit.Extend(ITHit.oNS.ArgumentNullException,ITHit.Exception);ITHit.oNS.ArgumentNullException.prototype.Name="ArgumentNullException";ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS.WebDavUtil={};ITHit.oNS.WebDavUtil.VerifyArgumentNotNull=function(_177,_178){if(null===_177){throw new ITHit.Exceptions.ArgumentNullException(_178);}};ITHit.oNS.WebDavUtil.VerifyArgumentNotNullOrEmpty=function(_179,_17a){if((null===_179)||(""===_179)){throw new ITHit.Exceptions.ArgumentNullException(_17a);}};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS.PropertyName=function(_17b,_17c){ITHit.WebDAV.Client.WebDavUtil.VerifyArgumentNotNullOrEmpty(_17b,"sName");this.Name=_17b;this.NamespaceUri=_17c;};ITHit.oNS.PropertyName.prototype.toString=function(){return this.NamespaceUri+":"+this.Name;};ITHit.oNS.PropertyName.prototype.Equals=function(oObj){if(this==oObj){return true;}if(!oObj instanceof ITHit.WebDAV.Client.PropertyName){return false;}return (this.Name===oObj.Name)&&(this.NamespaceUri===oObj.NamespaceUri);};ITHit.oNS.PropertyName.prototype.IsStandardProperty=function(){var _17d=ITHit.WebDAV.Client;var _17e=_17d.PropertyName;var _17f=_17d.DavConstants;if(!_17e.StandardNames){_17e.StandardNames=[_17f.ResourceType,_17f.DisplayName,_17f.CreationDate,_17f.GetLastModified,_17f.GetContentLength,_17f.GetContentType,_17f.GetETag,_17f.IsCollection,_17f.IsFolder,_17f.IsHidden,_17f.SupportedLock,_17f.LockDiscovery,_17f.GetContentLanguage,_17f.Source,_17f.QuotaAvailableBytes,_17f.QuotaUsedBytes,new _17e("Win32FileAttributes","urn:schemas-microsoft-com:")];}for(var i=0;i<_17e.StandardNames.length;i++){if(this.Equals(_17e.StandardNames[i])){return true;}}return false;};ITHit.oNS.PropertyName.prototype.HasDavNamespace=function(){var _180=ITHit.WebDAV.Client;return this.NamespaceUri===_180.DavConstants.NamespaceUri;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client");(function(){var _181=ITHit.WebDAV.Client.PropertyName;var _182="DAV:";ITHit.oNS.DavConstants={NamespaceUri:_182,Comment:new _181("comment",_182),CreationDate:new _181("creationdate",_182),CreatorDisplayName:new _181("creator-displayname",_182),DisplayName:new _181("displayname",_182),GetContentLength:new _181("getcontentlength",_182),GetContentType:new _181("getcontenttype",_182),GetETag:new _181("getetag",_182),GetLastModified:new _181("getlastmodified",_182),IsCollection:new _181("iscollection",_182),IsFolder:new _181("isFolder",_182),IsHidden:new _181("ishidden",_182),ResourceType:new _181("resourcetype",_182),SupportedLock:new _181("supportedlock",_182),LockDiscovery:new _181("lockdiscovery",_182),GetContentLanguage:new _181("getcontentlanguage",_182),Source:new _181("source",_182),QuotaAvailableBytes:new _181("quota-available-bytes",_182),QuotaUsedBytes:new _181("quota-used-bytes",_182),VersionName:new _181("version-name",_182),CheckedIn:new _181("checked-in",_182),CheckedOut:new _181("checked-out",_182),Src:"src",Dst:"dst",Link:"link",Slash:"/",DepndencyFailedCode:424,LockedCode:423,OpaqueLockToken:"opaquelocktoken:",QuotaNotExceeded:new _181("quota-not-exceeded",_182),SufficientDiskSpace:new _181("sufficient-disk-space",_182)};})();ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS.HttpStatus=function(_183,_184){this.Code=_183;this.Description=_184;};ITHit.oNS.HttpStatus.None=new ITHit.oNS.HttpStatus(0,"");ITHit.oNS.HttpStatus.Unauthorized=new ITHit.oNS.HttpStatus(401,"Unauthorized");ITHit.oNS.HttpStatus.OK=new ITHit.oNS.HttpStatus(200,"OK");ITHit.oNS.HttpStatus.Created=new ITHit.oNS.HttpStatus(201,"Created");ITHit.oNS.HttpStatus.NoContent=new ITHit.oNS.HttpStatus(204,"No Content");ITHit.oNS.HttpStatus.PartialContent=new ITHit.oNS.HttpStatus(206,"Partial Content");ITHit.oNS.HttpStatus.MultiStatus=new ITHit.oNS.HttpStatus(207,"Multi-Status");ITHit.oNS.HttpStatus.Redirect=new ITHit.oNS.HttpStatus(278,"Redirect");ITHit.oNS.HttpStatus.BadRequest=new ITHit.oNS.HttpStatus(400,"Bad Request");ITHit.oNS.HttpStatus.NotFound=new ITHit.oNS.HttpStatus(404,"Not Found");ITHit.oNS.HttpStatus.MethodNotAllowed=new ITHit.oNS.HttpStatus(405,"Method Not Allowed");ITHit.oNS.HttpStatus.PreconditionFailed=new ITHit.oNS.HttpStatus(412,"Precondition Failed");ITHit.oNS.HttpStatus.Locked=new ITHit.oNS.HttpStatus(423,"Locked");ITHit.oNS.HttpStatus.DependencyFailed=new ITHit.oNS.HttpStatus(424,"Dependency Failed");ITHit.oNS.HttpStatus.Forbidden=new ITHit.oNS.HttpStatus(403,"Forbidden");ITHit.oNS.HttpStatus.Conflict=new ITHit.oNS.HttpStatus(409,"Conflict");ITHit.oNS.HttpStatus.NotImplemented=new ITHit.oNS.HttpStatus(501,"Not Implemented");ITHit.oNS.HttpStatus.BadGateway=new ITHit.oNS.HttpStatus(502,"Bad gateway");ITHit.oNS.HttpStatus.InsufficientStorage=new ITHit.oNS.HttpStatus(507,"Insufficient Storage");ITHit.oNS.HttpStatus.Parse=function(_185){var _186=_185.split(" ");var _187=parseInt(_186[1]);_186.splice(0,2);return new ITHit.WebDAV.Client.HttpStatus(_187,_186.join(" "));};ITHit.oNS.HttpStatus.prototype.Equals=function(_188){if(!_188||!(_188 instanceof ITHit.WebDAV.Client.HttpStatus)){return false;}return this.Code==_188.Code;};ITHit.oNS.HttpStatus.prototype.IsCreateOk=function(){return this.Equals(ITHit.WebDAV.Client.HttpStatus.Created);};ITHit.oNS.HttpStatus.prototype.IsDeleteOk=function(){var _189=ITHit.WebDAV.Client.HttpStatus;return this.Equals(_189.OK)||this.Equals(_189.NoContent);};ITHit.oNS.HttpStatus.prototype.IsOk=function(){return this.Equals(ITHit.WebDAV.Client.HttpStatus.OK);};ITHit.oNS.HttpStatus.prototype.IsCopyMoveOk=function(){var _18a=ITHit.WebDAV.Client.HttpStatus;return this.Equals(_18a.NoContent)||this.Equals(_18a.Created);};ITHit.oNS.HttpStatus.prototype.IsGetOk=function(){var _18b=ITHit.WebDAV.Client.HttpStatus;return this.Equals(_18b.OK)||this.Equals(_18b.PartialContent);};ITHit.oNS.HttpStatus.prototype.IsPutOk=function(){var _18c=ITHit.WebDAV.Client.HttpStatus;return this.Equals(_18c.OK)||this.Equals(_18c.Created)||this.Equals(_18c.NoContent);};ITHit.oNS.HttpStatus.prototype.IsUnlockOk=function(){var _18d=ITHit.WebDAV.Client.HttpStatus;return this.Equals(_18d.OK)||this.Equals(_18d.NoContent);};ITHit.oNS.HttpStatus.prototype.IsHeadOk=function(){var _18e=ITHit.WebDAV.Client.HttpStatus;return this.Equals(_18e.OK)||this.Equals(_18e.NotFound);};ITHit.oNS.HttpStatus.prototype.IsUpdateOk=function(){var _18f=ITHit.WebDAV.Client.HttpStatus;return this.Equals(_18f.OK)||this.Equals(_18f.None);};ITHit.oNS.HttpStatus.prototype.IsSuccess=function(){return (parseInt(this.Code/100)==2);};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS.Property=function(mOne,mTwo,_190){this.Name;this.Value;var _191=ITHit.WebDAV.Client;switch(arguments.length){case 1:var _192=mOne;_191.WebDavUtil.VerifyArgumentNotNull(_192,"oElement");this.Name=new _191.PropertyName(_192.localName(),_192.namespaceURI());this.Value=_192;break;case 2:var _193=mOne,_194=mTwo;_191.WebDavUtil.VerifyArgumentNotNull(_193,"oName");_191.WebDavUtil.VerifyArgumentNotNull(_194,"sStringValue");this.Name=_193;var _195=new ITHit.XMLDoc(),_196=_195.createElementNS(_193.NamespaceUri,_193.Name);_196.appendChild(_195.createTextNode(_194));this.Value=_196;break;case 3:var _197=mOne,_198=mTwo,_199=_190;_191.WebDavUtil.VerifyArgumentNotNullOrEmpty(_197,"sName");_191.WebDavUtil.VerifyArgumentNotNull(_198,"sValue");_191.WebDavUtil.VerifyArgumentNotNullOrEmpty(_199,"sNameSpace");this.Name=new _191.PropertyName(_197,_199);var _195=new ITHit.XMLDoc(),_196=_195.createElementNS(_199,_197);_196.appendChild(_195.createTextNode(_198));this.Value=_196;break;default:throw ITHit.Exception(ITHit.Phrases.Exceptions.WrongCountPropertyInputParameters.Paste(arguments.length));}};ITHit.oNS.Property.prototype.StringValue=function(){return this.Value.firstChild().nodeValue();};ITHit.oNS.Property.prototype.toString=function(){return this.Name.toString();};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Methods");ITHit.oNS.Propstat=function(_19a){this.PropertiesByNames={};this.Properties=[];this.ResponseDescription="";this.Status="";var _19b=ITHit.WebDAV.Client;var _19c;var _19d=new ITHit.XPath.resolver();_19d.add("d",_19b.DavConstants.NamespaceUri);if(_19c=ITHit.XPath.selectSingleNode("d:responsedescription",_19a,_19d)){this.ResponseDescription=_19c.firstChild().nodeValue();}_19c=ITHit.XPath.selectSingleNode("d:status",_19a,_19d);this.Status=_19b.HttpStatus.Parse(_19c.firstChild().nodeValue());var oRes=ITHit.XPath.evaluate("d:prop/*",_19a,_19d);while(_19c=oRes.iterateNext()){var _19e=new _19b.Property(_19c.cloneNode());var _19f=_19e.Name;if("undefined"==typeof this.PropertiesByNames[_19f]){this.PropertiesByNames[_19f]=_19e;}else{var _1a0=_19c.childNodes();for(var i=0;i<_1a0.length;i++){this.PropertiesByNames[_19f].Value.appendChild(_1a0[i]);}}this.Properties.push(_19e);}};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Methods");ITHit.oNS.Response=function(_1a1,_1a2){this.Href="";this.ResponseDescription="";this.Status="";this.Propstats=[];var _1a3=ITHit.WebDAV.Client;var _1a4=_1a3.Methods;var _1a5;var _1a6=new ITHit.XPath.resolver();_1a6.add("d",_1a3.DavConstants.NamespaceUri);this.Href=ITHit.XPath.selectSingleNode("d:href",_1a1,_1a6).firstChild().nodeValue();if(_1a5=ITHit.XPath.selectSingleNode("d:responsedescription",_1a1,_1a6)){this.ResponseDescription=_1a5.firstChild().nodeValue();}if(_1a5=ITHit.XPath.selectSingleNode("d:status",_1a1,_1a6)){this.Status=_1a3.HttpStatus.Parse(_1a5.firstChild().nodeValue());}var oRes=ITHit.XPath.evaluate("d:propstat",_1a1,_1a6);while(_1a5=oRes.iterateNext()){this.Propstats.push(new _1a4.Propstat(_1a5.cloneNode()));}};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Methods");ITHit.oNS.MultiResponse=function(_1a7,_1a8){this.ResponseDescription="";this.Responses=[];var _1a9=ITHit.WebDAV.Client;var _1aa=_1a9.Methods.Response;var _1ab=new ITHit.XPath.resolver();_1ab.add("d",_1a9.DavConstants.NamespaceUri);var oRes=ITHit.XPath.evaluate("/d:multistatus/d:response",_1a7,_1ab);var _1ac;while((_1ac=oRes.iterateNext())){this.Responses.push(new _1aa(_1ac.cloneNode(),_1a8));}ITHit.XPath.evaluate("/d:multistatus/d:responsedescription",_1a7,_1ab,oRes);if((_1ac=oRes.iterateNext())){this.ResponseDescription=_1ac.firstChild().nodeValue();}};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS.AsyncResult=function(_1ad,_1ae,_1af){this.Result=_1ad;this.IsSuccess=_1ae;this.Error=_1af;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Methods");ITHit.oNS.Propfind=function(_1b0){ITHit.WebDAV.Client.Methods.Propfind.baseConstructor.call(this);this.Response=_1b0;};ITHit.Extend(ITHit.oNS.Propfind,ITHit.oNS.HttpMethod);ITHit.oNS.Propfind.PropfindMode={SelectedProperties:"SelectedProperties",PropertyNames:"PropertyNames"};ITHit.oNS.Propfind.Go=function(_1b1,sUri,_1b2,_1b3,_1b4,_1b5,_1b6){var _1b7=ITHit.WebDAV.Client;var _1b8=_1b7.Methods.Propfind;var _1b9=_1b8.createRequest(_1b1,sUri,_1b2,_1b3,_1b4,_1b5);var self=this;var _1ba=typeof _1b6==="function"?function(_1bb){self._GoCallback(_1b1,sUri,_1bb,_1b6);}:null;var _1bc=_1b9.GetResponse(_1ba);if(typeof _1b6!=="function"){var _1bd=new _1b7.AsyncResult(_1bc,_1bc!=null,null);return this._GoCallback(_1b1,sUri,_1bd,_1b6);}else{return _1b9;}};ITHit.oNS.Propfind._GoCallback=function(_1be,sUri,_1bf,_1c0){var _1c1=ITHit.WebDAV.Client;var _1c2=_1bf;var _1c3=true;var _1c4=null;if(_1bf instanceof ITHit.WebDAV.Client.AsyncResult){_1c2=_1bf.Result;_1c3=_1bf.IsSuccess;_1c4=_1bf.Error;}var _1c5=null;if(_1c3){var _1c6=_1c2.GetResponseStream();ITHit.Logger.FinishRequest();var _1c7=new _1c1.Methods.MultiResponse(_1c6,sUri);var _1c8=_1c1.Methods.Propfind;_1c5=new _1c8(_1c7);}if(typeof _1c0==="function"){var _1c9=new _1c1.AsyncResult(_1c5,_1c3,_1c4);_1c0.call(this,_1c9);}else{return _1c5;}};ITHit.oNS.Propfind.createRequest=function(_1ca,sUri,_1cb,_1cc,_1cd,_1ce){var _1cf=_1ca.CreateRequest(_1ce,sUri);_1cf.Method("PROPFIND");_1cf.Headers.Add("Depth",_1cd.Value);_1cf.Headers.Add("Content-Type","text/xml; charset=\"utf-8\"");_1cf.LogRequestInfo();var _1d0=ITHit.WebDAV.Client;var _1d1=_1d0.Methods;var _1d2=new ITHit.XMLDoc();var _1d3=_1d2.createElementNS(_1d0.DavConstants.NamespaceUri,"propfind");switch(_1cb){case _1d1.Propfind.PropfindMode.SelectedProperties:if(!_1cc||!_1cc.length){var _1d4=_1d2.createElementNS(_1d0.DavConstants.NamespaceUri,"allprop");}else{var _1d4=_1d2.createElementNS(_1d0.DavConstants.NamespaceUri,"prop");for(var i=0;i<_1cc.length;i++){var prop=_1d2.createElementNS(_1cc[i].NamespaceUri,_1cc[i].Name);_1d4.appendChild(prop);}}break;case _1d1.Propfind.PropfindMode.PropertyNames:var _1d4=_1d2.createElementNS(_1d0.DavConstants.NamespaceUri,"propname");break;}_1d3.appendChild(_1d4);_1d2.appendChild(_1d3);_1cf.Body(_1d2);return _1cf;};ITHit.oNS=ITHit.Namespace("ITHit.WebDAV.Client");ITHit.oNS.ResourceType={Folder:"Folder",Resource:"Resource"};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Exceptions");ITHit.oNS.WebDavException=function(_1d5,_1d6){ITHit.WebDAV.Client.Exceptions.WebDavException.baseConstructor.call(this,_1d5,_1d6);};ITHit.Extend(ITHit.oNS.WebDavException,ITHit.Exception);ITHit.oNS.WebDavException.prototype.Name="WebDavException";ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS.IMultistatus=function(){};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS.IMultistatusResponse=function(){};ITHit.oNSClient=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS=ITHit.Declare("Exceptions.Info",ITHit.oNSClient);ITHit.oNS.MultistatusResponse=function(_1d7){this.Href=_1d7.Href;this.Description=_1d7.ResponseDescription;this.Status=_1d7.Status;var _1d8=ITHit.WebDAV.Client;for(var i=0;i<_1d7.Propstats.length;i++){if(_1d7.Propstats[i]!=_1d8.HttpStatus.OK){this.Status=_1d7.Propstats[i];break;}}};ITHit.Extend(ITHit.oNS.MultistatusResponse,ITHit.oNSClient.IMultistatusResponse);ITHit.oNSClient=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS=ITHit.Declare("Exceptions.Info",ITHit.oNSClient);ITHit.oNS.Multistatus=function(_1d9){var _1da=ITHit.WebDAV.Client.Exceptions.Info;_1da.Multistatus.baseConstructor.call(this);this.Description="";this.Responses=[];if(_1d9){this.Description=_1d9.ResponseDescription;for(var i=0;i<_1d9.Responses.length;i++){this.Responses.push(new _1da.MultistatusResponse(_1d9.Responses[i]));}}};ITHit.Extend(ITHit.oNS.Multistatus,ITHit.oNSClient.IMultistatus);ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Exceptions");ITHit.oNS.WebDavHttpException=function(_1db,_1dc,_1dd,_1de,_1df,_1e0){var _1e1=ITHit.WebDAV.Client;var _1e2=_1e1.Exceptions;_1e2.WebDavHttpException.baseConstructor.call(this,_1db,_1df);this.Multistatus=_1dd||new _1e2.Info.Multistatus();this.Status=_1de;this.Uri=_1dc;this.Error=_1e0;};ITHit.Extend(ITHit.oNS.WebDavHttpException,ITHit.oNS.WebDavException);ITHit.oNS.WebDavHttpException.prototype.Name="WebDavHttpException";ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Exceptions");ITHit.oNS.PropertyException=function(_1e3,_1e4,_1e5,_1e6,_1e7,_1e8){var _1e9=ITHit.WebDAV.Client;this.PropertyName=_1e5;_1e9.Exceptions.PropertyException.baseConstructor.call(this,_1e3,_1e4,_1e6,_1e7,_1e8);};ITHit.Extend(ITHit.oNS.PropertyException,ITHit.oNS.WebDavHttpException);ITHit.oNS.PropertyException.prototype.Name="PropertyException";ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Exceptions");ITHit.oNS.PropertyNotFoundException=function(_1ea,_1eb,_1ec,_1ed,_1ee){var _1ef=ITHit.WebDAV.Client;_1ef.Exceptions.PropertyNotFoundException.baseConstructor.call(this,_1ea,_1eb,_1ec,_1ed,_1ef.HttpStatus.NotFound,_1ee);};ITHit.Extend(ITHit.oNS.PropertyNotFoundException,ITHit.oNS.PropertyException);ITHit.oNS.PropertyNotFoundException.prototype.Name="PropertyNotFoundException";ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Exceptions");ITHit.oNS.PropertyForbiddenException=function(_1f0,_1f1,_1f2,_1f3,_1f4){var _1f5=ITHit.WebDAV.Client;_1f5.Exceptions.PropertyForbiddenException.baseConstructor.call(this,_1f0,_1f1,_1f2,_1f3,_1f5.HttpStatus.Forbidden,_1f4);};ITHit.Extend(ITHit.oNS.PropertyForbiddenException,ITHit.oNS.PropertyException);ITHit.oNS.PropertyForbiddenException.prototype.Name="PropertyForbiddenException";ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS.IPropertyMultistatusResponse=function(){ITHit.WebDAV.Client.IPropertyMultistatusResponse.baseConstructor.call(this);};ITHit.Extend(ITHit.oNS.IPropertyMultistatusResponse,ITHit.oNS.IMultistatusResponse);ITHit.oNSClient=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS=ITHit.Declare("Exceptions.Info",ITHit.oNSClient);ITHit.oNS.PropertyMultistatusResponse=function(_1f6,_1f7,_1f8,_1f9){ITHit.WebDAV.Client.Exceptions.Info.PropertyMultistatusResponse.baseConstructor.call(this);this.Href=_1f6;this.Description=_1f7;this.Status=_1f8;this.PropertyName=_1f9;};ITHit.Extend(ITHit.oNS.PropertyMultistatusResponse,ITHit.oNSClient.IPropertyMultistatusResponse);ITHit.oNSClient=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS=ITHit.Declare("Exceptions.Info",ITHit.oNSClient);ITHit.oNS.PropertyMultistatus=function(_1fa){this.Description="";this.Responses=[];if(_1fa){this.Description=_1fa.ResponseDescription;var _1fb=ITHit.WebDAV.Client.Exceptions.Info.PropertyMultistatusResponse;for(var i=0;i<_1fa.Responses.length;i++){var _1fc=_1fa.Responses[i];for(var j=0;j<_1fc.Propstats.length;j++){var _1fd=_1fc.Propstats[j];for(var k=0;k<_1fd.Properties.length;k++){this.Responses.push(new _1fb(_1fc.Href,_1fd.ResponseDescription,_1fd.Status,_1fd.Properties[k].Name));}}}}};ITHit.Extend(ITHit.oNS.PropertyMultistatus,ITHit.oNSClient.IMultistatus);ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS.Encoder={Encode:ITHit.Encode,EncodeURI:ITHit.EncodeURI,Decode:ITHit.Decode,DecodeURI:ITHit.DecodeURI};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Methods");ITHit.oNS.SingleResponse=function(_1fe){this.Status=_1fe.Status;this.ResponseDescription=_1fe.Status.Description;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Methods");ITHit.oNS.ResponseFactory={};ITHit.oNS.ResponseFactory.GetResponse=function(_1ff,_200){var _201=ITHit.WebDAV.Client;var _202=_1ff.GetResponseStream(_1ff);if(!_202||!_1ff.Status.Equals(_201.HttpStatus.MultiStatus)){return new _201.Methods.SingleResponse(_1ff);}else{return new _201.Methods.MultiResponse(_202,_200);}};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Methods");ITHit.oNS.CopyMove=function(_203){ITHit.WebDAV.Client.Methods.CopyMove.baseConstructor.call(this);this.Response=_203;};ITHit.Extend(ITHit.oNS.CopyMove,ITHit.oNS.HttpMethod);ITHit.oNS.CopyMove.Mode={Copy:"Copy",Move:"Move"};ITHit.oNS.CopyMove.Go=function(_204,_205,_206,_207,_208,_209,_20a,_20b,_20c){var _20d=this.createRequest(_204,_205,_206,_207,_208,_209,_20a,_20b,_20c);var _20e=_20d.GetResponse();return this._ProcessResponse(_20e,_206);};ITHit.oNS.CopyMove.GoAsync=function(_20f,_210,_211,_212,_213,_214,_215,_216,_217,_218){var _219=this.createRequest(_20f,_210,_211,_212,_213,_214,_215,_216,_217);var that=this;_219.GetResponse(function(_21a){if(!_21a.IsSuccess){_218(new ITHit.WebDAV.Client.AsyncResult(null,false,_21a.Error));return;}var _21b=that._ProcessResponse(_21a.Result,_211);_218(new ITHit.WebDAV.Client.AsyncResult(_21b,true,null));});return _219;};ITHit.oNS.CopyMove._ProcessResponse=function(_21c,_21d){var _21e=ITHit.WebDAV.Client.Methods.ResponseFactory.GetResponse(_21c,_21d);return new ITHit.WebDAV.Client.Methods.CopyMove(_21e);};ITHit.oNS.CopyMove.createRequest=function(_21f,_220,_221,_222,_223,_224,_225,_226,_227){var _228=ITHit.WebDAV.Client;var _229=_228.Methods;var _22a=_21f.CreateRequest(_227,_221,_226);_222=ITHit.WebDAV.Client.Encoder.EncodeURI(_222).replace(/#/g,"%23").replace(/'/g,"%27");if(/^\//.test(_222)){_222=_227+_222.substr(1);}_22a.Method((_220==_229.CopyMove.Mode.Copy)?"COPY":"MOVE");_22a.Headers.Add("Content-Type","text/xml; charset=\"utf-8\"");_22a.Headers.Add("Destination",ITHit.DecodeHost(_222));_22a.Headers.Add("Overwrite",_225?"T":"F");if(_223&&(_220==_229.CopyMove.Mode.Copy)){if(!_224){_22a.Headers.Add("Depth",_228.Depth.Zero.Value);}}var _22b=new ITHit.XMLDoc();var _22c=_22b.createElementNS(_228.DavConstants.NamespaceUri,"propertybehavior");var _22d=_22b.createElementNS(_228.DavConstants.NamespaceUri,"keepalive");_22d.appendChild(_22b.createTextNode("*"));_22c.appendChild(_22d);_22b.appendChild(_22c);_22a.Body(_22b);return _22a;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Methods");ITHit.oNS.Delete=function(_22e){ITHit.WebDAV.Client.Methods.Delete.baseConstructor.call(this);this.Response=_22e;};ITHit.Extend(ITHit.oNS.Delete,ITHit.oNS.HttpMethod);ITHit.oNS.Delete.Go=function(_22f,_230,_231,_232){var _233=this.createRequest(_22f,_230,_231,_232);var _234=_233.GetResponse();return this._ProcessResponse(_234);};ITHit.oNS.Delete.GoAsync=function(_235,_236,_237,_238,_239){var _23a=this.createRequest(_235,_236,_237,_238);var that=this;_23a.GetResponse(function(_23b){if(!_23b.IsSuccess){_239(new ITHit.WebDAV.Client.AsyncResult(null,false,_23b.Error));return;}var _23c=that._ProcessResponse(_23b.Result);_239(new ITHit.WebDAV.Client.AsyncResult(_23c,true,null));});return _23a;};ITHit.oNS.Delete._ProcessResponse=function(_23d,_23e){var _23f=ITHit.WebDAV.Client.Methods.ResponseFactory.GetResponse(_23d,_23e);ITHit.Logger.FinishRequest();return new ITHit.WebDAV.Client.Methods.Delete(_23f);};ITHit.oNS.Delete.createRequest=function(_240,_241,_242,_243){var _244=_240.CreateRequest(_243,_241,_242);_244.Method("DELETE");return _244;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Methods");ITHit.oNS.Proppatch=function(_245){ITHit.WebDAV.Client.Methods.Proppatch.baseConstructor.call(this);this.Response=_245;};ITHit.Extend(ITHit.oNS.Proppatch,ITHit.oNS.HttpMethod);ITHit.oNS.Proppatch.Go=function(_246,_247,_248,_249,_24a,_24b){var _24c=ITHit.WebDAV.Client;var _24d=_24c.Methods;var _24e=_24d.Proppatch.createRequest(_246,_247,_248,_249,_24a,_24b);var _24f=_24e.GetResponse();ITHit.Logger.FinishRequest();return this._ProcessResponse(_24f);};ITHit.oNS.Proppatch.GoAsync=function(_250,_251,_252,_253,_254,_255,_256){var _257=ITHit.WebDAV.Client;var _258=_257.Methods;var _259=_258.Proppatch.createRequest(_250,_251,_252,_253,_254,_255);var that=this;_259.GetResponse(function(_25a){ITHit.Logger.FinishRequest();if(!_25a.IsSuccess){_256(new ITHit.WebDAV.Client.AsyncResult(null,false,_25a.Error));return;}var _25b=that._ProcessResponse(_25a.Result,_251);_256(new ITHit.WebDAV.Client.AsyncResult(_25b,true,null));});};ITHit.oNS.Proppatch._ProcessResponse=function(_25c,_25d){var _25e=ITHit.WebDAV.Client;var _25f=_25e.Methods;var _260=_25c.GetResponseStream();return new _25f.Proppatch(new _25f.MultiResponse(_260,_25d));};ITHit.oNS.Proppatch.ItemExists=function(aArr){if(aArr&&aArr.length){for(var i=0;i<aArr.length;i++){if(aArr[i]){return true;}}}return false;};ITHit.oNS.Proppatch.createRequest=function(_261,_262,_263,_264,_265,_266){_265=_265||null;var _267=ITHit.WebDAV.Client;var _268=_267.Methods;var _269=_261.CreateRequest(_266,_262,_265);_269.Method("PROPPATCH");_269.Headers.Add("Content-Type","text/xml; charset=\"utf-8\"");var _26a=new ITHit.XMLDoc();var _26b=_26a.createElementNS(_267.DavConstants.NamespaceUri,"propertyupdate");if(_268.Proppatch.ItemExists(_263)){var set=_26a.createElementNS(_267.DavConstants.NamespaceUri,"set");for(var i=0;i<_263.length;i++){if(_263[i]){var prop=_26a.createElementNS(_267.DavConstants.NamespaceUri,"prop");prop.appendChild(_263[i].Value);set.appendChild(prop);}}_26b.appendChild(set);}if(_268.Proppatch.ItemExists(_264)){var _26c=_26a.createElementNS(_267.DavConstants.NamespaceUri,"remove");var prop=_26a.createElementNS(_267.DavConstants.NamespaceUri,"prop");for(var i=0;i<_264.length;i++){if(_264[i]){var elem=_26a.createElementNS(_264[i].NamespaceUri,_264[i].Name);prop.appendChild(elem);}}_26c.appendChild(prop);_26b.appendChild(_26c);}_26a.appendChild(_26b);_269.Body(_26a);return _269;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS.LockScope={Exclusive:"Exclusive",Shared:"Shared"};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS.LockUriTokenPair=function(_26d,_26e){var _26f=ITHit.Namespace("ITHit.WebDAV.Client");_26f.WebDavUtil.VerifyArgumentNotNull(_26d,"href");_26f.WebDavUtil.VerifyArgumentNotNullOrEmpty(_26e,"lockToken");this.Href=_26d;this.LockToken=_26e;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS.LockInfo=function(_270,_271,_272,_273,_274){this.LockScope=_270;this.Deep=_271;this.TimeOut=_273;this.Owner=_272;this.LockToken=_274;};ITHit.oNS.LockInfo.ParseLockInfo=function(_275,_276){var _277=ITHit.WebDAV.Client;var _278=new ITHit.XPath.resolver();_278.add("d",_277.DavConstants.NamespaceUri);var _279;if(!(_279=ITHit.XPath.selectSingleNode("d:lockscope",_275,_278))){throw new _277.Exceptions.WebDavException(ITHit.Phrases.Exceptions.ActiveLockDoesntContainLockscope);}var _27a=_279.firstChild().localName();if(!(_279=ITHit.XPath.selectSingleNode("d:depth",_275,_278))){throw new _277.Exceptions.WebDavException(ITHit.Phrases.Exceptions.ActiveLockDoesntContainDepth);}var _27b=_277.Depth.Parse(_279.firstChild().nodeValue());var _27c=(_27b==_277.Depth.Infinity);var _27d=null;if(_279=ITHit.XPath.selectSingleNode("d:owner",_275,_278)){_27d=_279.firstChild().nodeValue();}var _27e=-1;if(_279=ITHit.XPath.selectSingleNode("d:timeout",_275,_278)){var _27f=_279.firstChild().nodeValue();if("infinite"!=_27f.toLowerCase()){if(-1!=_27f.toLowerCase().indexOf("second-")){_27f=_27f.substr(7);}var _27e=parseInt(_27f);}}var _280=null;if(_279=ITHit.XPath.selectSingleNode("d:locktoken",_275,_278)){var _281=ITHit.XPath.selectSingleNode("d:href",_279,_278).firstChild().nodeValue();_281=_281.replace(_277.DavConstants.OpaqueLockToken,"");_280=new _277.LockUriTokenPair(_276,_281);}return new _277.LockInfo(_27a,_27c,_27d,_27e,_280);};ITHit.oNS.LockInfo.ParseLockDiscovery=function(_282,_283){var _284=ITHit.WebDAV.Client;var _285=[];var _286=_282.getElementsByTagNameNS(_284.DavConstants.NamespaceUri,"activelock");for(var i=0;i<_286.length;i++){_285.push(_284.LockInfo.ParseLockInfo(_286[i],_283));}return _285;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Methods");ITHit.oNS.LockResponse=function(_287,_288){this.ResponseDescriptiono=_287.Status.Description;this.Status=_287.Status;this.LockInfo;var _289=ITHit.WebDAV.Client;var _28a=_287.GetResponseStream();var _28b=new ITHit.XPath.resolver();_28b.add("d",_289.DavConstants.NamespaceUri);var _28c=new _289.Property(ITHit.XPath.selectSingleNode("/d:prop",_28a,_28b));try{var _28d=new _289.LockInfo.ParseLockDiscovery(_28c.Value,_288);if(1!=_28d.length){throw new _289.Exceptions.WebDavException(ITHit.Phrases.UnableToParseLockInfoResponse);}this.LockInfo=_28d[0];}catch(e){throw new _289.Exceptions.PropertyException(ITHit.Phrases.Exceptions.ParsingPropertiesException,_288,_28c.Name,null,_289.HttpStatus.OK,e);}};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Methods");ITHit.oNS.Lock=function(_28e){ITHit.WebDAV.Client.Methods.Lock.baseConstructor.call(this);this.Response=_28e;};ITHit.Extend(ITHit.oNS.Lock,ITHit.oNS.HttpMethod);ITHit.oNS.Lock.Go=function(_28f,_290,_291,_292,_293,_294,_295){var _296=ITHit.WebDAV.Client;var _297=_296.Methods;switch(arguments.length){case 7:var _298=_297.Lock.createRequest(_28f,_290,_291,_292,_293,_294,_295);break;case 5:var _298=_297.Lock.createRequest(_28f,_290,_291,_292,_293);break;default:throw new ITHit.Exception(ITHit.Phrases.Exceptions.LockWrongCountParametersPassed.Paste("Go",arguments.length));}var _299=_298.GetResponse();var _29a=new _297.LockResponse(_299,_290);ITHit.Logger.FinishRequest();return new _297.Lock(_29a);};ITHit.oNS.Lock.createRequest=function(_29b,_29c,_29d,_29e,_29f,_2a0,_2a1){var _2a2=ITHit.WebDAV.Client;switch(arguments.length){case 7:var _2a3=_29e;var _2a4=_29b.CreateRequest(_29f,_29c);_2a4.Method("LOCK");_2a4.Headers.Add("Timeout",(-1==_29d)?"Infinite":"Second-"+parseInt(_29d));_2a4.Headers.Add("Depth",_2a0?_2a2.Depth.Infinity.Value:_2a2.Depth.Zero.Value);_2a4.Headers.Add("Content-Type","text/xml; charset=\"utf-8\"");var _2a5=new ITHit.XMLDoc();var _2a6=_2a2.DavConstants.NamespaceUri;var _2a7=_2a5.createElementNS(_2a6,"lockinfo");var _2a8=_2a5.createElementNS(_2a6,"lockscope");var _2a9=_2a5.createElementNS(_2a6,_2a3.toLowerCase());_2a8.appendChild(_2a9);var _2aa=_2a5.createElementNS(_2a6,"locktype");var _2ab=_2a5.createElementNS(_2a6,"write");_2aa.appendChild(_2ab);var _2ac=_2a5.createElementNS(_2a6,"owner");_2ac.appendChild(_2a5.createTextNode(_2a1));_2a7.appendChild(_2a8);_2a7.appendChild(_2aa);_2a7.appendChild(_2ac);_2a5.appendChild(_2a7);_2a4.Body(_2a5);break;case 5:var _2ad=_29e;var _2a4=_29b.CreateRequest(_29f,_29c,_2ad);_2a4.Method("LOCK");_2a4.Headers.Add("Timeout",(-1==_29d)?"Infinite":"Second-"+parseInt(_29d));_2a4.Body("");break;default:throw new ITHit.Exception(ITHit.Phrases.Exceptions.LockWrongCountParametersPassed.Paste("createRequest",arguments.length));}return _2a4;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Methods");ITHit.oNS.Unlock=function(_2ae){ITHit.WebDAV.Client.Methods.Unlock.baseConstructor.call(this);this.Response=_2ae;};ITHit.Extend(ITHit.oNS.Unlock,ITHit.oNS.HttpMethod);ITHit.oNS.Unlock.Go=function(_2af,_2b0,_2b1,_2b2){var _2b3=ITHit.WebDAV.Client;var _2b4=_2b3.Methods;var _2b5=_2b4.Unlock.createRequest(_2af,_2b0,_2b1,_2b2);var _2b6=_2b5.GetResponse();var _2b7=new _2b4.Unlock(new _2b4.SingleResponse(_2b6));ITHit.Logger.FinishRequest();return _2b7;};ITHit.oNS.Unlock.createRequest=function(_2b8,_2b9,_2ba,_2bb){var _2bc=_2b8.CreateRequest(_2bb,_2b9);_2bc.Method("UNLOCK");_2bc.Headers.Add("Lock-Token","<"+ITHit.WebDAV.Client.DavConstants.OpaqueLockToken+_2ba+">");return _2bc;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS.OptionsInfo=function(_2bd,_2be,_2bf,_2c0,_2c1){this.Features=_2bd;this.MsAuthorViaDav=_2be;this.VersionControl=_2bf;this.Search=_2c0;this.ServerVersion=_2c1;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS.Features={Class1:1,Class2:2,VersionControl:4,CheckoutInPlace:16,VersionHistory:32,Update:64,ResumableUpload:128,ResumableDownload:256};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Methods");ITHit.oNS.Options=function(_2c2){var _2c3=ITHit.WebDAV.Client;_2c3.Methods.Options.baseConstructor.call(this);var sDav=_2c2._Response.GetResponseHeader("dav",true);var _2c4=0;var _2c5=0;if(sDav){if(-1!=sDav.indexOf("2")){_2c4=_2c3.Features.Class1+_2c3.Features.Class2;}else{if(-1!=sDav.indexOf("1")){_2c4=_2c3.Features.Class1;}}if(-1!=sDav.indexOf("version-control")){_2c5=_2c3.Features.VersionControl;}if(-1!=sDav.indexOf("resumable-upload")){_2c4+=_2c3.Features.ResumableUpload;}}var _2c6=false;var _2c7=_2c2._Response.GetResponseHeader("ms-author-via",true);if(_2c7&&(-1!=_2c7.toLowerCase().indexOf("dav"))){_2c6=true;}var _2c8=false;var _2c9=_2c2._Response.GetResponseHeader("allow",true)||"";var _2ca=_2c9.toLowerCase().split(/[^a-z-_]+/);for(var i=0,l=_2ca.length;i<l;i++){if(_2ca[i]==="search"){_2c8=true;break;}}var _2cb=_2c2._Response.GetResponseHeader("x-engine",true);this.ItemOptions=new _2c3.OptionsInfo(_2c4,_2c6,_2c5,_2c8,_2cb);};ITHit.Extend(ITHit.oNS.Options,ITHit.oNS.HttpMethod);ITHit.oNS.Options.Go=function(_2cc,_2cd,_2ce){return ITHit.WebDAV.Client.Methods.Options.GoAsync(_2cc,_2cd,_2ce);};ITHit.oNS.Options.GoAsync=function(_2cf,_2d0,_2d1,_2d2){var _2d3=ITHit.WebDAV.Client;var _2d4=_2d3.Methods;var _2d5=_2d4.Options.createRequest(_2cf,_2d0,_2d1);var self=this;var _2d6=typeof _2d2==="function"?function(_2d7){self._GoCallback(_2cf,_2d0,_2d7,_2d2);}:null;var _2d8=_2d5.GetResponse(_2d6);if(typeof _2d2!=="function"){var _2d9=new _2d3.AsyncResult(_2d8,_2d8!=null,null);return this._GoCallback(_2cf,_2d0,_2d9,_2d2);}else{return _2d5;}};ITHit.oNS.Options._GoCallback=function(_2da,_2db,_2dc,_2dd){var _2de=ITHit.WebDAV.Client;var _2df=_2de.Methods;var _2e0=_2dc;var _2e1=true;var _2e2=null;if(_2dc instanceof ITHit.WebDAV.Client.AsyncResult){_2e0=_2dc.Result;_2e1=_2dc.IsSuccess;_2e2=_2dc.Error;}var _2e3=null;if(_2e1){var _2e3=new _2df.Options(_2e0);ITHit.Logger.FinishRequest();}if(typeof _2dd==="function"){var _2e4=new _2de.AsyncResult(_2e3,_2e1,_2e2);_2dd.call(this,_2e4);}else{return _2e3;}};ITHit.oNS.Options.createRequest=function(_2e5,_2e6,_2e7){var _2e8=_2e5.CreateRequest(_2e7,_2e6);_2e8.Method("OPTIONS");return _2e8;};ITHit.oNS=ITHit.Declare("ITHit.Exceptions");ITHit.oNS.ExpressionException=function(_2e9){ITHit.Exceptions.ExpressionException.baseConstructor.call(this,_2e9);};ITHit.Extend(ITHit.oNS.ExpressionException,ITHit.Exception);ITHit.oNS.ExpressionException.prototype.Name="ExpressionException";ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS.UploadProgressInfo=function(_2ea,_2eb,_2ec,_2ed){if(!ITHit.Utils.IsString(_2ea)||!_2ea){throw new ITHit.Exceptions.ArgumentException(ITHit.Phrases.Exceptions.WrongHref.Paste(),_2ea);}if(!ITHit.Utils.IsInteger(_2eb)){throw new ITHit.Exceptions.ArgumentException(ITHit.Phrases.Exceptions.WrongUploadedBytesType,_2eb);}if(!ITHit.Utils.IsInteger(_2ec)){throw new ITHit.Exceptions.ArgumentException(ITHit.Phrases.Exceptions.WrongContentLengthType,_2ec);}if(_2eb>_2ec){throw new ITHit.Exceptions.ExpressionException(ITHit.Phrases.Exceptions.BytesUploadedIsMoreThanTotalFileContentLength);}this.Href=_2ea;this.BytesUploaded=_2eb;this.TotalContentLength=_2ec;this.LastChunkSaved=_2ed;};ITHit.oNS.UploadProgressInfo.GetUploadProgress=function(_2ee){var _2ef=ITHit.WebDAV.Client;var _2f0=_2ef.UploadProgressInfo;var _2f1=[];if(!_2f0.PropNames){_2f0.PropNames=[new _2ef.PropertyName("bytes-uploaded","ithit"),new _2ef.PropertyName("last-chunk-saved","ithit"),new _2ef.PropertyName("total-content-length","ithit")];}for(var i=0,_2f2;_2f2=_2ee.Responses[i];i++){for(var j=0,_2f3;_2f3=_2f2.Propstats[j];j++){var _2f4=[];for(var k=0,_2f5;_2f5=_2f3.Properties[k];k++){if(_2f5.Name.Equals(_2f0.PropNames[0])){_2f4[0]=_2f5.Value;}else{if(_2f5.Name.Equals(_2f0.PropNames[1])){_2f4[1]=_2f5.Value;}else{if(_2f5.Name.Equals(_2f0.PropNames[2])){_2f4[2]=_2f5.Value;}}}}if(!_2f4[0]||!_2f4[1]||!_2f4[2]){throw new ITHit.Exception(ITHit.Phrases.Exceptions.NotAllPropertiesReceivedForUploadProgress.Paste(_2f2.Href));}_2f1.push(new _2f0(_2f2.Href,parseInt(_2f4[0].firstChild().nodeValue()),parseInt(_2f4[2].firstChild().nodeValue()),_2ef.HierarchyItem.GetDate(_2f4[1].firstChild().nodeValue())));}}return _2f1;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Methods");ITHit.oNS.Report=function(_2f6,_2f7){var _2f8=ITHit.WebDAV.Client;var _2f9=_2f8.Methods;_2f8.Methods.Report.baseConstructor.call(this);this.Response=_2f6;switch(_2f7){case _2f9.Report.ReportType.UploadProgress:return _2f8.UploadProgressInfo.GetUploadProgress(_2f6);}};ITHit.Extend(ITHit.oNS.Report,ITHit.oNS.HttpMethod);ITHit.oNS.Report.ReportType={UploadProgress:"UploadProgress",VersionsTree:"VersionsTree"};ITHit.oNS.Report.Go=function(_2fa,_2fb,_2fc,_2fd,_2fe){return ITHit.WebDAV.Client.Methods.Report.GoAsync(_2fa,_2fb,_2fc,_2fd,_2fe);};ITHit.oNS.Report.GoAsync=function(_2ff,_300,_301,_302,_303,_304){var _305=ITHit.WebDAV.Client;var _306=_305.Methods;if(!_302){_302=_306.Report.ReportType.UploadProgress;}var _307=_306.Report.createRequest(_2ff,_300,_301,_302,_303);var self=this;var _308=typeof _304==="function"?function(_309){self._GoCallback(_2ff,_300,_309,_302,_304);}:null;var _30a=_307.GetResponse(_308);if(typeof _304!=="function"){var _30b=new _305.AsyncResult(_30a,_30a!=null,null);return this._GoCallback(_2ff,_300,_30b,_302,_304);}else{return _307;}};ITHit.oNS.Report._GoCallback=function(_30c,_30d,_30e,_30f,_310){var _311=ITHit.WebDAV.Client;var _312=_311.Methods;var _313=_30e;var _314=true;var _315=null;if(_30e instanceof ITHit.WebDAV.Client.AsyncResult){_313=_30e.Result;_314=_30e.IsSuccess;_315=_30e.Error;}var _316=null;if(_314){var _317=_313.GetResponseStream();ITHit.Logger.FinishRequest();_316=new _312.Report(new _312.MultiResponse(_317,_30d),_30f);}if(typeof _310==="function"){var _318=new _311.AsyncResult(_316,_314,_315);_310.call(this,_318);}else{return _316;}};ITHit.oNS.Report.createRequest=function(_319,_31a,_31b,_31c,_31d){var _31e=ITHit.WebDAV.Client;var _31f=_31e.Methods;var _320=_319.CreateRequest(_31b,_31a);_320.Method("REPORT");_320.Headers.Add("Content-Type","text/xml; charset=\"utf-8\"");var _321=new ITHit.XMLDoc();switch(_31c){case _31f.Report.ReportType.UploadProgress:var _322=_321.createElementNS("ithit","upload-progress");_321.appendChild(_322);break;case _31f.Report.ReportType.VersionsTree:var _323=_321.createElementNS(_31e.DavConstants.NamespaceUri,"version-tree");if(!_31d||!_31d.length){var _324=_321.createElementNS(_31e.DavConstants.NamespaceUri,"allprop");}else{var _324=_321.createElementNS(_31e.DavConstants.NamespaceUri,"prop");for(var i=0;i<_31d.length;i++){var prop=_321.createElementNS(_31d[i].NamespaceUri,_31d[i].Name);_324.appendChild(prop);}}_323.appendChild(_324);_321.appendChild(_323);break;}_320.Body(_321);return _320;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Methods");ITHit.oNS.VersionUpdate=function(_325){ITHit.WebDAV.Client.Methods.VersionUpdate.baseConstructor.call(this);this.Response=_325;};ITHit.Extend(ITHit.oNS.VersionUpdate,ITHit.oNS.HttpMethod);ITHit.oNS.VersionUpdate.Go=function(_326,_327,_328,_329){var _32a=ITHit.WebDAV.Client;var _32b=_32a.Methods;var _32c=_32b.VersionUpdate.createRequest(_326,_327,_328,_329);var _32d=_32c.GetResponse();return this._ProcessResponse(_32d,_327);};ITHit.oNS.VersionUpdate.GoAsync=function(_32e,_32f,_330,_331,_332){var _333=ITHit.WebDAV.Client;var _334=_333.Methods;var _335=_334.VersionUpdate.createRequest(_32e,_32f,_330,_331);var that=this;_335.GetResponse(function(_336){if(!_336.IsSuccess){_332(new ITHit.WebDAV.Client.AsyncResult(null,false,_336.Error));return;}var _337=that._ProcessResponse(_336.Result,_32f);_332(new ITHit.WebDAV.Client.AsyncResult(_337,true,null));});return _335;};ITHit.oNS.VersionUpdate._ProcessResponse=function(_338,_339){var _33a=ITHit.WebDAV.Client.Methods;var _33b=_338.GetResponseStream();return new _33a.VersionUpdate(new _33a.MultiResponse(_33b,_339));};ITHit.oNS.VersionUpdate.createRequest=function(_33c,_33d,_33e,_33f){var _340=ITHit.WebDAV.Client;var _341=_33c.CreateRequest(_33e,_33d);_341.Method("UPDATE");_341.Headers.Add("Content-Type","text/xml; charset=\"utf-8\"");var _342=new ITHit.XMLDoc();var _343=_340.DavConstants.NamespaceUri;var _344=_342.createElementNS(_343,"update");var _345=_342.createElementNS(_343,"version");var _346=_342.createElementNS(_343,"href");_346.appendChild(_342.createTextNode(_33f));_345.appendChild(_346);_344.appendChild(_345);_342.appendChild(_344);_341.Body(_342);return _341;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS.HierarchyItem=function(_347,_348,_349,_34a,_34b,_34c,_34d,_34e,_34f,_350,_351,_352,_353,_354){this.Session=_347;this.Href=_348;this.LastModified=_349;this.DisplayName=_34a;this.CreationDate=_34b;this.ResourceType=_34c;this.SupportedLocks=_34d;this.ActiveLocks=_34e;this.Host=_34f;this.AvailableBytes=_350;this.UsedBytes=_351;this.CheckedIn=_352;this.CheckedOut=_353;this.ServerVersion=_347.sServerEngine;this.Properties=_354;};ITHit.oNS.HierarchyItem.prototype.HasProperty=function(_355){var sKey=_355.toString();return this.Properties.hasOwnProperty(sKey);};ITHit.oNS.HierarchyItem.prototype.GetProperty=function(_356){var sKey=_356.toString();if(!this.Properties.hasOwnProperty(sKey)){throw new ITHit.WebDAV.Client.Exceptions.PropertyNotFoundException("Not found property `"+sKey+"` in resource `"+this.Href+"`.");}return this.Properties[sKey];};ITHit.oNS.HierarchyItem.prototype.Refresh=function(){var item=this.Session.OpenItem(this.Href);this.LastModified=item.LastModified;this.CreationDate=item.CreationDate;this.SupportedLocks=item.SupportedLocks;this.ActiveLocks=item.ActiveLocks;};ITHit.oNS.HierarchyItem.prototype.CopyTo=function(_357,_358,_359,_35a,_35b){_35b=_35b||null;ITHit.Logger.StartLogging();var _35c=this._CopyToGoRequest(_357,_358,_359,_35a,_35b);ITHit.Logger.FinishLogging();var _35d=this._CopyToProcessResponseException(_35c);if(_35d){throw _35d;}};ITHit.oNS.HierarchyItem.prototype.CopyToAsync=function(_35e,_35f,_360,_361,_362,_363){_362=_362||null;ITHit.Logger.StartLogging();var that=this;return this._CopyToGoRequest(_35e,_35f,_360,_361,_362,function(_364){ITHit.Logger.FinishLogging();if(!_364.IsSuccess){_363(new ITHit.WebDAV.Client.AsyncResult(null,false,_364.Error));return;}var _365=that._CopyToProcessResponseException(_364.Result);_363(new ITHit.WebDAV.Client.AsyncResult(null,_365===null,_365));});};ITHit.oNS.HierarchyItem.prototype._CopyToGoRequest=function(_366,_367,_368,_369,_36a,_36b){_36b=_36b||null;var _36c=_36b?"GoAsync":"Go";return ITHit.WebDAV.Client.Methods.CopyMove[_36c](this.Session,ITHit.WebDAV.Client.Methods.CopyMove.Mode.Copy,this.Href,ITHit.WebDAV.Client.HierarchyItem.AppendToUri(_366.Href,_367),(this.ResourceType==ITHit.WebDAV.Client.ResourceType.Folder),_368,_369,_36a,this.Host,_36b);};ITHit.oNS.HierarchyItem.prototype._CopyToProcessResponseException=function(_36d){var _36e=ITHit.WebDAV.Client;var _36f=_36e.Exceptions;var _370=null;if(_36d instanceof _36e.Methods.MultiResponse){var _371=_36d.Responses;for(var i=0,l=_371.length;i<l;i++){if(!_371[i].Status.IsCopyMoveOk()){_370=new _36f.WebDavHttpException(ITHit.Phrases.FailedToCopy,this.Href,new _36f.Info.Multistatus(_36d),_36e.HttpStatus.MultiStatus,null);break;}}}else{if(_36d instanceof _36e.Methods.SingleResponse){var _372=_36d.Status;if(!_372.IsCopyMoveOk()){_370=new _36f.WebDavHttpException(ITHit.Phrases.FailedToCopyWithStatus.Paste(_372.Code,_372.Description),this.Href,null,_372,null);}}}return _370;};ITHit.oNS.HierarchyItem.AppendToUri=function(sUri,_373){return ITHit.WebDAV.Client.HierarchyItem.GetAbsoluteUriPath(sUri)+ITHit.WebDAV.Client.Encoder.EncodeURI(_373);};ITHit.oNS.HierarchyItem.prototype.Delete=function(_374){_374=_374||null;var _375=ITHit.WebDAV.Client.Methods.Delete.Go(this.Session,this.Href,_374,this.Host);var _376=this._DeleteProcessResponseException(_375.Response);if(_376){throw _376;}};ITHit.oNS.HierarchyItem.prototype.DeleteAsync=function(_377,_378){_377=_377||null;var that=this;return ITHit.WebDAV.Client.Methods.Delete.GoAsync(this.Session,this.Href,_377,this.Host,function(_379){if(!_379.IsSuccess){_378(new ITHit.WebDAV.Client.AsyncResult(null,false,_379.Error));return;}var _37a=that._DeleteProcessResponseException(_379.Result);_378(new ITHit.WebDAV.Client.AsyncResult(null,_37a===null,_37a));});};ITHit.oNS.HierarchyItem.prototype._DeleteProcessResponseException=function(_37b){var _37c=null;if(_37b instanceof ITHit.WebDAV.Client.Methods.MultiResponse){_37c=new ITHit.WebDAV.Client.Exceptions.WebDavHttpException(ITHit.Phrases.FailedToDelete,this.Href,new ITHit.WebDAV.Client.Exceptions.Info.Multistatus(_37b),ITHit.WebDAV.Client.HttpStatus.MultiStatus,null);}if(_37b instanceof ITHit.WebDAV.Client.Methods.SingleResponse){if(_37b.Status.IsSuccess()){}else{var _37d=ITHit.Phrases.DeleteFailedWithStatus.Paste(_37b.Status.Code,_37b.Status.Description);_37c=new ITHit.WebDAV.Client.Exceptions.WebDavHttpException(_37d,this.Href,null,_37b.Status,null);}}ITHit.Logger.FinishLogging();return _37c;};ITHit.oNS.HierarchyItem.GetActiveLocks=function(_37e,_37f){var _380=ITHit.WebDAV.Client;var _381=_380.DavConstants.LockDiscovery;for(var i=0;i<_37e.Propstats.length;i++){var _382=_37e.Propstats[i];if(!_382.Status.IsOk()){break;}if("undefined"!=typeof _382.PropertiesByNames[_381]){var _383=_382.PropertiesByNames[_381];try{return _380.LockInfo.ParseLockDiscovery(_383.Value,_37f);}catch(e){break;}}else{break;}}return [];};ITHit.oNS.HierarchyItem.prototype.GetAllProperties=function(){return this.GetPropertyValues(null);};ITHit.oNS.HierarchyItem.prototype.GetAllPropertiesAsync=function(_384){return this.GetPropertyValuesAsync(null,_384);};ITHit.oNS.HierarchyItem.prototype.GetParent=function(){var _385=ITHit.WebDAV.Client;return _385.Folder.Open(this.Session,_385.HierarchyItem.GetFolderParentUri(_385.Encoder.Decode(this.Href)));};ITHit.oNS.HierarchyItem.prototype.GetPropertyNames=function(){var _386=ITHit.WebDAV.Client;var _387=_386.Methods;var _388=_386.HierarchyItem;var _389=_386.Exceptions;var _38a=_387.Propfind.Go(this.Session,this.Href,_387.Propfind.PropfindMode.PropertyNames,null,_386.Depth.Zero,this.Host).Response;for(var i=0;i<_38a.Responses.length;i++){var _38b=_38a.Responses[i];if(_388.HrefEquals(_38b.Href,this.Href)){var _38c=[];for(var j=0;j<_38b.Propstats.length;j++){var _38d=_38b.Propstats[j];if(_38d.Properties.length){if(_38d.Status.IsSuccess()){for(var k=0;k<_38d.Properties.length;k++){var _38e=_38d.Properties[k];if(!_38e.Name.IsStandardProperty()){_38c.push(_38e.Name);}}continue;}if(_38d.Status.Equals(_386.HttpStatus.NotFound)){throw new _389.PropertyNotFoundException(ITHit.Phrases.Exceptions.PropertyNotFound,this.Href,oProppropstat.Properties[0].Name,new _389.Info.PropertyMultistatus(_38a),null);}if(_38d.Status.Equals(_386.HttpStatus.Forbidden)){throw new _389.PropertyForbiddenException(ITHit.Phrases.Exceptions.PropertyForbidden,this.Href,_38d.Properties[0].Name,new _389.Info.PropertyMultistatus(_38a),null);}throw new _389.PropertyException(ITHit.Phrases.Exceptions.PropertyFailed,this.Href,_38d.Properties[0].Name,new _389.Info.PropertyMultistatus(_38a),_38d.Status,null);}}return _38c;}}throw new _389.WebDavException(ITHit.Phrases.ResponseItemNotFound.Paste(this.Href));};ITHit.oNS.HierarchyItem.prototype.GetPropertyValues=function(_38f){_38f=_38f||null;var _390=ITHit.WebDAV.Client;var _391=_390.Methods;ITHit.Logger.StartLogging();var _392=_391.Propfind.Go(this.Session,this.Href,_391.Propfind.PropfindMode.SelectedProperties,_38f,_390.Depth.Zero,this.Host);ITHit.Logger.FinishLogging();return this._GetPropertyValuesProcessResponse(_392);};ITHit.oNS.HierarchyItem.prototype.GetPropertyValuesAsync=function(_393,_394){_393=_393||null;var _395=ITHit.WebDAV.Client;var _396=_395.Methods;ITHit.Logger.StartLogging();var that=this;return _396.Propfind.Go(this.Session,this.Href,_396.Propfind.PropfindMode.SelectedProperties,_393,_395.Depth.Zero,this.Host,function(_397){ITHit.Logger.FinishLogging();if(_397.IsSuccess){try{_397.Result=that._GetPropertyValuesProcessResponse(_397.Result);}catch(oException){_397.Result=null;_397.IsSuccess=false;_397.Error=oException;}}_394(_397);});};ITHit.oNS.HierarchyItem.prototype._GetPropertyValuesProcessResponse=function(_398){var _399=_398.Response;var _39a=ITHit.WebDAV.Client;var _39b=_39a.HierarchyItem;var _39c=_39a.Exceptions;for(var i=0;i<_399.Responses.length;i++){var _39d=_399.Responses[i];if(_39b.HrefEquals(_39d.Href,this.Href)){var _39e=[];for(var j=0;j<_39d.Propstats.length;j++){var _39f=_39d.Propstats[j];if(_39f.Properties.length){if(_39f.Status.IsSuccess()){for(var k=0;k<_39f.Properties.length;k++){var _3a0=_39f.Properties[k];if(!_3a0.Name.IsStandardProperty()){_39e.push(_3a0);}}continue;}if(_39f.Status.Equals(_39a.HttpStatus.NotFound)){throw new _39c.PropertyNotFoundException(ITHit.Phrases.Exceptions.PropertyNotFound,this.Href,_39f.Properties[0].Name,new _39c.Info.PropertyMultistatus(_399),null);}if(_39f.Status.Equals(_39a.HttpStatus.Forbidden)){throw new _39c.PropertyForbiddenException(ITHit.Phrases.Exceptions.PropertyForbidden,ithit.Href,_39f.Properties[0].Name,new _39c.Info.PropertyMultistatus(_399),null);}throw new _39c.PropertyException(ITHit.Phrases.Exceptions.PropertyFailed,this.Href,_39f.Properties[0].Name,new _39c.Info.PropertyMultistatus(_399),_39f.Status,null);}}return _39e;}}throw new _39c.WebDavException(ITHit.Phrases.ResponseItemNotFound.Paste(this.Href));};ITHit.oNS.HierarchyItem.prototype.GetSource=function(){ITHit.Logger.StartLogging();var _3a1=ITHit.WebDAV.Client;var _3a2=_3a1.Methods;var _3a3=_3a1.Exceptions;var _3a4=[_3a1.DavConstants.Source];var _3a5=_3a2.Propfind.Go(this.Session,this.Href,_3a2.Propfind.PropfindMode.SelectedProperties,_3a4,_3a1.Depth.Zero,this.Host).Response;for(var i=0;i<_3a5.Responses.length;i++){var _3a6=_3a5.Responses[i];if(_3a1.HierarchyItem.HrefEquals(_3a6.Href,this.Href)){var _3a7=[];for(var j=0;j<_3a6.Propstats;j++){var _3a8=_3a6.Propstats[j];if(!_3a8.Status.IsOk()){if(_3a8.Status.Equals(_3a1.HttpStatus.NotFound)){ITHit.Logger.FinishLogging();return null;}else{ITHit.Logger.DeclareFinish();throw new _3a3.PropertyForbiddenException(ITHit.Phrases.PropfindFailedWithStatus.Paste(propstat.Status.Description),this.Href,_3a8.Properties[0].Name,new _3a3.Info.Multistatus(_3a5),null);}}for(var k=0;k<_3a8.Properties.length;k++){var _3a9=_3a8.Properties[k];if(_3a9.Name.Equals(_3a1.DavConstants.Source)){var _3aa=_3a9.Value.GetElementsByTagNameNS(DavConstants.NamespaceUri,DavConstants.Link);for(var l=0;l<_3aa.length;l++){var _3ab=_3aa[i];var _3ac=new _3a1.Source(_3ab.GetElementsByTagName(_3a1.DavConstants.NamespaceUri,_3a1.DavConstants.Src)[0].firstChild().nodeValue(),_3ab.GetElementsByTagName(_3a1.DavConstants.NamespaceUri,_3a1.DavConstants.Dst)[0].firstChild().nodeValue());oSources.push(_3ac);}ITHit.Logger.FinishLogging();return oSources;}}}}}ITHit.Logger.DeclareFinish();throw new _3a3.WebDavException(ITHit.Phrases.ResponseItemNotFound.Paste(this.Href));};ITHit.oNS.HierarchyItem.GetSupportedLock=function(_3ad){var _3ae=ITHit.WebDAV.Client;var _3af=_3ae.DavConstants.SupportedLock;for(var i=0;i<_3ad.Propstats.length;i++){var _3b0=_3ad.Propstats[i];if(!_3b0.Status.IsOk()){break;}var out=[];for(var p in _3b0.PropertiesByNames){out.push(p);}if("undefined"!=typeof _3b0.PropertiesByNames[_3af]){var _3b1=_3b0.PropertiesByNames[_3af];try{return _3ae.HierarchyItem.ParseSupportedLock(_3b1.Value);}catch(e){break;}}}return [];};ITHit.oNS.HierarchyItem.ParseSupportedLock=function(_3b2){var _3b3=[];var _3b4=ITHit.WebDAV.Client;var _3b5=_3b4.Methods.Response;var _3b6=new ITHit.XPath.resolver();_3b6.add("d",_3b4.DavConstants.NamespaceUri);var _3b7=null;var _3b8=null;var _3b9=ITHit.XMLDoc.nodeTypes.NODE_ELEMENT;var oRes=ITHit.XPath.evaluate("d:lockentry",_3b2,_3b6);while(_3b7=oRes.iterateNext()){var _3ba=ITHit.XPath.evaluate("d:*",_3b7,_3b6);while(_3b8=_3ba.iterateNext()){if(_3b8.nodeType()==_3b9){var _3bb="";if(_3b8.hasChildNodes()){var _3bc=_3b8.firstChild();while(_3bc){if(_3bc.nodeType()==_3b9){_3bb=_3bc.localName();break;}_3bc=_3bc.nextSibling();}}else{_3bb=_3b8.localName();}switch(_3bb.toLowerCase()){case "shared":_3b3.push(_3b4.LockScope.Shared);break;case "exclusive":_3b3.push(_3b4.LockScope.Exclusive);break;}}}}return _3b3;};ITHit.oNS.HierarchyItem.GetQuotaAvailableBytes=function(_3bd){var _3be=ITHit.WebDAV.Client;var _3bf=_3be.DavConstants.QuotaAvailableBytes;for(var i=0;i<_3bd.Propstats.length;i++){var _3c0=_3bd.Propstats[i];if(!_3c0.Status.IsOk()){break;}if("undefined"!=typeof _3c0.PropertiesByNames[_3bf]){var _3c1=_3c0.PropertiesByNames[_3bf];try{return parseInt(_3c1.Value.firstChild().nodeValue());}catch(e){break;}}}return -1;};ITHit.oNS.HierarchyItem.GetQuotaUsedBytes=function(_3c2){var _3c3=ITHit.WebDAV.Client;var _3c4=_3c3.DavConstants.QuotaUsedBytes;for(var i=0;i<_3c2.Propstats.length;i++){var _3c5=_3c2.Propstats[i];if(!_3c5.Status.IsOk()){break;}if("undefined"!=typeof _3c5.PropertiesByNames[_3c4]){var _3c6=_3c5.PropertiesByNames[_3c4];try{return parseInt(_3c6.Value.firstChild().nodeValue());}catch(e){break;}}}return -1;};ITHit.oNS.HierarchyItem.GetCkeckedIn=function(_3c7){var _3c8=ITHit.WebDAV.Client;var _3c9=_3c8.DavConstants.CheckedIn;for(var i=0;i<_3c7.Propstats.length;i++){var _3ca=_3c7.Propstats[i];if(!_3ca.Status.IsOk()){break;}if("undefined"!=typeof _3ca.PropertiesByNames[_3c9]){var _3cb=_3ca.PropertiesByNames[_3c9];try{return _3c8.HierarchyItem.ParseChecked(_3cb.Value);}catch(e){break;}}}return false;};ITHit.oNS.HierarchyItem.GetCheckedOut=function(_3cc){var _3cd=ITHit.WebDAV.Client;var _3ce=_3cd.DavConstants.CheckedOut;for(var i=0;i<_3cc.Propstats.length;i++){var _3cf=_3cc.Propstats[i];if(!_3cf.Status.IsOk()){break;}if("undefined"!=typeof _3cf.PropertiesByNames[_3ce]){var _3d0=_3cf.PropertiesByNames[_3ce];try{return _3cd.HierarchyItem.ParseChecked(_3d0.Value);}catch(e){break;}}}return false;};ITHit.oNS.HierarchyItem.ParseChecked=function(_3d1){var _3d2=[];var _3d3=ITHit.WebDAV.Client;var _3d4=new ITHit.XPath.resolver();_3d4.add("d",_3d3.DavConstants.NamespaceUri);var _3d5=null;var _3d6=ITHit.XMLDoc.nodeTypes.NODE_ELEMENT;var oRes=ITHit.XPath.evaluate("d:href",_3d1,_3d4);while(_3d5=oRes.iterateNext()){if(_3d5.nodeType()==_3d6){_3d2.push(_3d5.firstChild().nodeValue());}}return _3d2;};ITHit.oNS.HierarchyItem.prototype.GetVersions=function(){ITHit.Logger.StartLogging();var _3d7=ITHit.WebDAV.Client.Methods.Report.Go(this.Session,this.Href,this.Host,ITHit.WebDAV.Client.Methods.Report.ReportType.VersionsTree,this._GetVersionsProperties());ITHit.Logger.FinishLogging();return this._VersionsProcessResponse(_3d7);};ITHit.oNS.HierarchyItem.prototype.GetVersionsAsync=function(_3d8){ITHit.Logger.StartLogging();var that=this;return ITHit.WebDAV.Client.Methods.Report.GoAsync(this.Session,this.Href,this.Host,ITHit.WebDAV.Client.Methods.Report.ReportType.VersionsTree,this._GetVersionsProperties(),function(_3d9){ITHit.Logger.FinishLogging();if(!_3d9.IsSuccess){_3d8(new ITHit.WebDAV.Client.AsyncResult(null,false,_3d9.Error));return;}var _3da=that._VersionsProcessResponse(_3d9.Result);_3d8(new ITHit.WebDAV.Client.AsyncResult(_3da,true,null));});};ITHit.oNS.HierarchyItem.prototype._GetVersionsProperties=function(){var _3db=ITHit.WebDAV.Client.DavConstants;return [_3db.VersionName,_3db.GetContentLength,_3db.CreationDate,_3db.CreatorDisplayName,_3db.Comment];};ITHit.oNS.HierarchyItem.prototype._VersionsProcessResponse=function(_3dc){var _3dd=_3dc.Response;var _3de=[];var _3df=ITHit.WebDAV.Client;var _3e0=_3df.DavConstants;var _3e1=_3df.Exceptions;for(var i=0;i<_3dd.Responses.length;i++){var _3e2=_3dd.Responses[i];var _3e3=[];for(var j=0;j<_3e2.Propstats.length;j++){var _3e4=_3e2.Propstats[j];if(_3e4.Properties.length){if(_3e4.Status.IsSuccess()){for(var k=0;k<_3e4.Properties.length;k++){var _3e5=_3e4.Properties[k];if(_3e0.CreationDate.Equals(_3e4.Properties[k].Name)){_3e5=_3df.HierarchyItem.GetDate(_3e5.StringValue(),"tz");}_3e3.push(_3e5);}continue;}if(_3e4.Status.Equals(_3df.HttpStatus.NotFound)){throw new _3e1.PropertyNotFoundException(ITHit.Phrases.Exceptions.PropertyNotFound,this.Href,_3e4.Properties[0].Name,new _3e1.Info.PropertyMultistatus(_3dd),null);}if(_3e4.Status.Equals(_3df.HttpStatus.Forbidden)){throw new _3e1.PropertyForbiddenException(ITHit.Phrases.Exceptions.PropertyForbidden,this.Href,_3e4.Properties[0].Name,new _3e1.Info.PropertyMultistatus(_3dd),null);}throw new _3e1.PropertyException(ITHit.Phrases.Exceptions.PropertyFailed,this.Href,_3e4.Properties[0].Name,new _3e1.Info.PropertyMultistatus(_3dd),_3e4.Status,null);}}_3e3.push(_3e2.Href);_3de.push(_3e3);}return _3de;};ITHit.oNS.HierarchyItem.prototype.VersionUpdate=function(_3e6){ITHit.Logger.StartLogging();var _3e7=ITHit.WebDAV.Client;var _3e8=_3e7.Methods;var _3e9=_3e8.VersionUpdate.Go(this.Session,this.Href,this.Host,_3e6);var _3ea=_3e9.Response;ITHit.Logger.FinishLogging();return _3ea.Responses[0].Status.IsSuccess();};ITHit.oNS.HierarchyItem.prototype.VersionUpdateAsync=function(_3eb,_3ec){ITHit.Logger.StartLogging();var _3ed=ITHit.WebDAV.Client;var _3ee=_3ed.Methods;return _3ee.VersionUpdate.GoAsync(this.Session,this.Href,this.Host,_3eb,function(_3ef){ITHit.Logger.FinishLogging();if(!_3ef.IsSuccess){_3ec(new ITHit.WebDAV.Client.AsyncResult(false,false,_3ef.Error));return;}var _3f0=_3ef.Result.Response.Responses[0].Status.IsSuccess();_3ec(new ITHit.WebDAV.Client.AsyncResult(_3f0,true,null));});};ITHit.oNS.HierarchyItem.prototype.VersionDelete=function(_3f1){ITHit.Logger.StartLogging();var _3f2=ITHit.WebDAV.Client;var _3f3=_3f2.Methods;_3f3.Delete.Go(this.Session,_3f1,null,this.Host);ITHit.Logger.FinishLogging();};ITHit.oNS.HierarchyItem.prototype.VersionDeleteAsync=function(_3f4,_3f5){ITHit.Logger.StartLogging();return ITHit.WebDAV.Client.Methods.Delete.GoAsync(this.Session,_3f4,null,this.Host,function(_3f6){ITHit.Logger.FinishLogging();if(!_3f6.IsSuccess){_3f5(new ITHit.WebDAV.Client.AsyncResult(false,false,_3f6.Error));return;}_3f5(new ITHit.WebDAV.Client.AsyncResult(true,true,null));});};ITHit.oNS.HierarchyItem.prototype.Lock=function(_3f7,_3f8,_3f9,_3fa){ITHit.Logger.StartLogging();var _3fb=ITHit.WebDAV.Client;var _3fc=_3fb.Methods;var _3fd=_3fc.Lock.Go(this.Session,this.Href,_3fa,_3f7,this.Host,_3f8,_3f9);var _3fe=_3fd.Response;ITHit.Logger.FinishLogging();return _3fe.LockInfo;};ITHit.oNS.HierarchyItem.prototype.MoveTo=function(_3ff,_400,_401,_402){_401=_401||false;_402=_402||null;ITHit.Logger.StartLogging();var _403=this._MoveToGoRequest(_3ff,_400,_401,_402);ITHit.Logger.FinishLogging();var _404=this._MoveToProcessResponseException(_403);if(_404!==null){throw _404;}};ITHit.oNS.HierarchyItem.prototype.MoveToAsync=function(_405,_406,_407,_408,_409){_407=_407||false;_408=_408||null;ITHit.Logger.StartLogging();var that=this;return this._MoveToGoRequest(_405,_406,_407,_408,function(_40a){ITHit.Logger.FinishLogging();if(!_40a.IsSuccess){_409(new ITHit.WebDAV.Client.AsyncResult(null,false,_40a.Error));return;}var _40b=that._MoveToProcessResponseException(_40a.Result);_409(new ITHit.WebDAV.Client.AsyncResult(null,_40b===null,_40b));});};ITHit.oNS.HierarchyItem.prototype._MoveToGoRequest=function(_40c,_40d,_40e,_40f,_410){var _411=ITHit.WebDAV.Client;var _412=_411.Methods;if(!(_40c instanceof _411.Folder)){throw new ITHit.Exception(ITHit.Phrases.Exceptions.FolderWasExpectedAsDestinationForMoving);}var _413=_410?"GoAsync":"Go";return _412.CopyMove[_413](this.Session,_412.CopyMove.Mode.Move,this.Href,_411.HierarchyItem.AppendToUri(_40c.Href,_40d),this.ResourceType,true,_40e,_40f,this.Host,_410);};ITHit.oNS.HierarchyItem.prototype._MoveToProcessResponseException=function(_414){var _415=null;var _416=ITHit.WebDAV.Client;var _417=_416.Methods;var _418=_416.Exceptions;if(_414 instanceof _417.MultiResponse){var _419=_414.Responses;for(var i=0,l=_419.length;i<l;i++){if(!_419[i].Status.IsCopyMoveOk()){_415=new _418.WebDavHttpException(ITHit.Phrases.FailedToMove,this.Href,new _418.Info.Multistatus(_414),_416.HttpStatus.MultiStatus,null);break;}}this.DeletedMoved=true;}else{if(_414 instanceof _417.SingleResponse){var _41a=_414.Status;if(_41a.IsCopyMoveOk()){}else{_415=new _418.WebDavHttpException(ITHit.Phrases.MoveFailedWithStatus.Paste(_41a.Code,_41a.Description),this.Href,null,_41a,null);}}}return _415;};ITHit.oNS.HierarchyItem.prototype.RefreshLock=function(_41b,_41c){ITHit.Logger.StartLogging();var _41d=ITHit.WebDAV.Client;var _41e=_41d.Methods;var _41f=_41e.Lock.Go(this.Session,this.Href,_41c,_41b,this.Host);var _420=_41f.Response;ITHit.Logger.FinishLogging();return _420.LockInfo;};ITHit.oNS.HierarchyItem.prototype.SupportedFeatures=function(){ITHit.Logger.StartLogging();var _421=ITHit.WebDAV.Client.Methods.Options.Go(this.Session,this.Href,this.Host).ItemOptions;ITHit.Logger.FinishLogging();return _421;};ITHit.oNS.HierarchyItem.prototype.Unlock=function(_422){ITHit.Logger.StartLogging();var _423=ITHit.WebDAV.Client;var _424=_423.Methods;var _425=_424.Unlock.Go(this.Session,this.Href,_422,this.Host);if(!_425.Response.Status.IsUnlockOk()){ITHit.Logger.DeclareFinish();throw new _423.Exceptions.WebDavHttpException(ITHit.Phrases.UnlockFailedWithStatus.Paste(_425.Response.Status.Code,_425.Response.Status.Description),this.Href,null,_425.Response.Status,null);}ITHit.Logger.FinishLogging();};ITHit.oNS.HierarchyItem.prototype.UpdateProperties=function(_426,_427,_428){_428=_428||null;ITHit.Logger.StartLogging();var _429=this._GetPropertiesForUpdate(_426);var _42a=this._GetPropertiesForDelete(_427);if(_429.length+_42a.length===0){ITHit.Logger.WriteMessage(ITHit.Phrases.Exceptions.NoPropertiesToManipulateWith);ITHit.Logger.FinishLogging();fCallback(true);return;}var _42b=ITHit.WebDAV.Client.Methods.Proppatch.Go(this.Session,this.Href,_429,_42a,_428,this.Host);this._UpdatePropertiesProcessResponse(_42b);};ITHit.oNS.HierarchyItem.prototype.UpdatePropertiesAsync=function(_42c,_42d,_42e,_42f){_42e=_42e||null;ITHit.Logger.StartLogging();var _430=this._GetPropertiesForUpdate(_42c);var _431=this._GetPropertiesForDelete(_42d);if(_430.length+_431.length===0){ITHit.Logger.WriteMessage(ITHit.Phrases.Exceptions.NoPropertiesToManipulateWith);ITHit.Logger.FinishLogging();_42f(true);return;}var that=this;return ITHit.WebDAV.Client.Methods.Proppatch.GoAsync(this.Session,this.Href,_430,_431,_42e,this.Host,function(_432){ITHit.Logger.FinishLogging();if(!_432.IsSuccess){_42f(new ITHit.WebDAV.Client.AsyncResult(false,false,_432.Error));return;}try{that._UpdatePropertiesProcessResponse(_432.Result);}catch(oException){_42f(new ITHit.WebDAV.Client.AsyncResult(false,false,oException));return;}_42f(new ITHit.WebDAV.Client.AsyncResult(true,true,null));});};ITHit.oNS.HierarchyItem.prototype._GetPropertiesForUpdate=function(_433){var _434=ITHit.WebDAV.Client;var _435=_434.Exceptions;var _436=[];if(_433){for(var i=0;i<_433.length;i++){if((_433[i] instanceof _434.Property)&&_433[i]){if(_433[i].Name.NamespaceUri!=_434.DavConstants.NamespaceUri){_436.push(_433[i]);}else{throw new _435.PropertyException(ITHit.Phrases.Exceptions.AddOrUpdatePropertyDavProhibition.Paste(_433[i]),this.Href,_433[i]);}}else{throw new _435.PropertyException(ITHit.Phrases.Exceptions.PropertyUpdateTypeException);}}}return _436;};ITHit.oNS.HierarchyItem.prototype._GetPropertiesForDelete=function(_437){var _438=ITHit.WebDAV.Client;var _439=_438.Exceptions;var _43a=[];if(_437){for(var i=0;i<_437.length;i++){if((_437[i] instanceof _438.PropertyName)&&_437[i]){if(_437[i].NamespaceUri!=_438.DavConstants.NamespaceUri){_43a.push(_437[i]);}else{throw new _439.PropertyException(ITHit.Phrases.Exceptions.DeletePropertyDavProhibition.Paste(_437[i]),this.Href,_437[i]);}}else{throw new _439.PropertyException(ITHit.Phrases.Exceptions.PropertyDeleteTypeException);}}}return _43a;};ITHit.oNS.HierarchyItem.prototype._UpdatePropertiesProcessResponse=function(_43b){var _43c=ITHit.WebDAV.Client;var _43d=_43c.Exceptions;var _43e=_43b.Response;if(_43e){var _43f=new _43d.Info.PropertyMultistatus(_43e);for(var i=0;i<_43f.Responses.length;i++){var _440=_43f.Responses[i];if(!_440.Status.IsSuccess()){ITHit.Logger.DeclareFinish();throw new _43d.PropertyException(ITHit.Phrases.FailedToUpdateProp,this.Href,_440.PropertyName,_43f,_43c.HttpStatus.MultiStatus,null);}}}};ITHit.oNS.HierarchyItem.prototype.GetUploadProgress=function(_441){ITHit.Logger.StartLogging();var _442=ITHit.WebDAV.Client;var _443=this.Href;if(undefined!==_441){if(this.ResourceType==_442.ResourceType.Resource){throw new _442.Exceptions.WebDavException(ITHit.Phrases.Exceptions.ReportOnResourceItemWithParameterCalled);}_443=_442.HierarchyItem.AppendToUri(this.Href,_441);}ITHit.Logger.IgnoreNextStartLogging();return this.Session.GetUploadProgress(_443);};ITHit.oNS.HierarchyItem.prototype.VersionControlled=function(){return this.CheckedIn!==false||this.CheckedOut!==false;};ITHit.oNS.HierarchyItem.GetResourceType=function(_444){var _445=ITHit.WebDAV.Client;var _446=_445.HierarchyItem.GetProperty(_444,_445.DavConstants.ResourceType);var _447=_445.ResourceType.Resource;if(_446.Value.getElementsByTagNameNS(_445.DavConstants.NamespaceUri,"collection").length>0){_447=_445.ResourceType.Folder;}return _447;};ITHit.oNS.HierarchyItem.HasProperty=function(_448,_449){for(var i=0;i<_448.Propstats.length;i++){var _44a=_448.Propstats[i];for(var j=0;j<_44a.Properties.length;j++){var _44b=_44a.Properties[j];if(_44b.Name.Equals(_449)){return true;}}}return false;};ITHit.oNS.HierarchyItem.GetProperty=function(_44c,_44d){for(var i=0;i<_44c.Propstats.length;i++){var _44e=_44c.Propstats[i];for(var j=0;j<_44e.Properties.length;j++){var _44f=_44e.Properties[j];if(_44f.Name.Equals(_44d)){return _44f;}}}throw new ITHit.WebDAV.Client.Exceptions.PropertyNotFoundException(ITHit.Phrases.Exceptions.PropertyNotFound,_44c.Href,_44d,null,null);};ITHit.oNS.HierarchyItem.GetCustomProperties=function(_450){var _451=[ITHit.WebDAV.Client.DavConstants.ResourceType,ITHit.WebDAV.Client.DavConstants.DisplayName,ITHit.WebDAV.Client.DavConstants.CreationDate,ITHit.WebDAV.Client.DavConstants.GetLastModified,ITHit.WebDAV.Client.DavConstants.GetContentType,ITHit.WebDAV.Client.DavConstants.GetContentLength,ITHit.WebDAV.Client.DavConstants.SupportedLock,ITHit.WebDAV.Client.DavConstants.LockDiscovery,ITHit.WebDAV.Client.DavConstants.QuotaAvailableBytes,ITHit.WebDAV.Client.DavConstants.QuotaUsedBytes,ITHit.WebDAV.Client.DavConstants.CheckedIn,ITHit.WebDAV.Client.DavConstants.CheckedOut];var _452={};for(var i=0;i<_450.Propstats.length;i++){var _453=_450.Propstats[i];for(var i2=0;i2<_453.Properties.length;i2++){var _454=_453.Properties[i2];var _455=false;for(var i3=0;i3<_451.length;i3++){if(_454.Name.Equals(_451[i3])){_455=true;}}if(_455){continue;}_452[_454.toString()]=_454.Value.firstChild().nodeValue();}}return _452;};ITHit.oNS.HierarchyItem.GetDisplayName=function(_456){var _457=ITHit.WebDAV.Client;var _458=_457.HierarchyItem.GetProperty(_456,_457.DavConstants.DisplayName).Value;var _459;if(_458.hasChildNodes()){_459=_458.firstChild().nodeValue();}else{_459=_457.Encoder.Decode(_457.HierarchyItem.GetLastName(_456.Href));}return _459;};ITHit.oNS.HierarchyItem.GetLastModified=function(_45a){var _45b=ITHit.WebDAV.Client;if(!_45b.HierarchyItem.GetProperty(_45a,_45b.DavConstants.GetLastModified)){return _45b.HierarchyItem.GetDate();}var _45c=_45b.HierarchyItem.GetProperty(_45a,_45b.DavConstants.GetLastModified);return _45b.HierarchyItem.GetDate(_45c.Value.firstChild().nodeValue(),"rfc1123");};ITHit.oNS.HierarchyItem.GetContentType=function(_45d){var _45e=ITHit.WebDAV.Client;var _45f=null;var _460=_45e.HierarchyItem.GetProperty(_45d,_45e.DavConstants.GetContentType).Value;if(_460.hasChildNodes()){_45f=_460.firstChild().nodeValue();}return _45f;};ITHit.oNS.HierarchyItem.GetContentLength=function(_461){var _462=ITHit.WebDAV.Client;var _463=0;var _464=_462.HierarchyItem.GetProperty(_461,_462.DavConstants.GetContentLength).Value;if(_464.hasChildNodes()){_463=parseInt(_464.firstChild().nodeValue());}return _463;};ITHit.oNS.HierarchyItem.GetCreationDate=function(_465){var _466=ITHit.WebDAV.Client;if(!_466.HierarchyItem.GetProperty(_465,_466.DavConstants.CreationDate)){return _466.HierarchyItem.GetDate();}var _467=_466.HierarchyItem.GetProperty(_465,_466.DavConstants.CreationDate);return _466.HierarchyItem.GetDate(_467.Value.firstChild().nodeValue(),"tz");};ITHit.oNS.HierarchyItem.GetDate=function(_468,_469){var _46a;var i=0;if("tz"==_469){i++;}if(!_468){return new Date(0);}for(var e=i+1;i<=e;i++){if(0==i%2){var _46a=new Date(_468);if(!isNaN(_46a)){break;}}else{var _46b=_468.match(/([\d]{4})\-([\d]{2})\-([\d]{2})T([\d]{2}):([\d]{2}):([\d]{2})(\.[\d]+)?((?:Z)|(?:[\+\-][\d]{2}:[\d]{2}))/);if(_46b&&_46b.length>=7){_46b.shift();var _46a=new Date(_46b[0],_46b[1]-1,_46b[2],_46b[3],_46b[4],_46b[5]);var _46c=6;if(("undefined"!=typeof _46b[_46c])&&(-1!=_46b[_46c].indexOf("."))){_46a.setMilliseconds(_46b[_46c].replace(/[^\d]/g,""));}_46c++;if(("undefined"!=typeof _46b[_46c])&&("-00:00"!=_46b[_46c])&&(-1!=_46b[_46c].search(/(?:\+|-)/))){var _46d=_46b[_46c].slice(1).split(":");var _46e=parseInt(_46d[1])+(60*_46d[0]);if("+"==_46b[_46c][0]){_46a.setMinutes(_46a.getMinutes()-_46e);}else{_46a.setMinutes(_46a.getMinutes()+_46e);}_46c++;}_46a.setMinutes(_46a.getMinutes()+(-1*_46a.getTimezoneOffset()));break;}}}if(!_46a||isNaN(_46a)){_46a=new Date(0);}return _46a;};ITHit.oNS.HierarchyItem.GetAbsoluteUriPath=function(_46f){return _46f.replace(/\/?$/,"/");};ITHit.oNS.HierarchyItem.GetRelativePath=function(_470){return _470.replace(/^[a-z]+\:\/\/[^\/]+\//,"/");};ITHit.oNS.HierarchyItem.GetLastName=function(_471){var _472=ITHit.WebDAV.Client.HierarchyItem.GetRelativePath(_471).replace(/\/$/,"");return _472.match(/[^\/]*$/)[0];};ITHit.oNS.HierarchyItem.HrefEquals=function(_473,_474){var _475=ITHit.WebDAV.Client;var _476=_475.HierarchyItem.GetRelativePath;var _477=_475.Encoder.Decode;var iPos=_474.search(/\?[^\/]+$/);if(-1!=iPos){_474=_474.substr(0,iPos);}var iPos=_474.search(/\?[^\/]+$/);if(-1!=iPos){_474=_474.substr(0,iPos);}return _476(_477(_473)).replace(/\/$/,"")==_476(_477(_474)).replace(/\/$/,"");};ITHit.oNS.HierarchyItem.GetFolderParentUri=function(_478){var _479=ITHit.WebDAV.Client;var _47a=_479.HierarchyItem.GetAbsoluteUriPath(_478);_47a=_47a.substr(0,_47a.length-2);return _47a.substr(0,_47a.lastIndexOf("/")+1);};ITHit.oNS.HierarchyItem.GetHost=function(_47b){var _47c;if(/^https?\:\/\//.test(_47b)){_47c=_47b.match(/^https?\:\/\/[^\/]+/)[0]+"/";}else{_47c=location.protocol+"//"+location.host+"/";}return _47c;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Methods");ITHit.oNS.Put=function(_47d){ITHit.WebDAV.Client.Methods.Put.baseConstructor.call(this);this.Response=_47d;};ITHit.Extend(ITHit.oNS.Put,ITHit.oNS.HttpMethod);ITHit.oNS.Put.GoUpload=function(_47e,_47f,_480,_481,_482,_483){var _484=ITHit.WebDAV.Client.Methods.Put;var _485=_484.createRequest(_47e,_47f,_480,_481,_482,_483);var _486=_485.GetResponse();ITHit.Logger.FinishRequest();return new _484(_486);};ITHit.oNS.Put.createRequest=function(_487,_488,_489,_48a,_48b,_48c){var _48d=_487.CreateRequest(_48c,_488,_48b);_48d.Method("PUT");if(""!=_489){_48d.Headers.Add("Content-Type",_489);}_48d.Body(_48a);return _48d;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Methods");ITHit.oNS.Get=function(_48e){ITHit.WebDAV.Client.Methods.Put.baseConstructor.call(this);this.Response=_48e;};ITHit.Extend(ITHit.oNS.Get,ITHit.oNS.HttpMethod);ITHit.oNS.Get.Go=function(_48f,_490,_491,_492,_493){var _494=ITHit.WebDAV.Client.Methods.Get;var _495=_494.createRequest(_48f,_490,_491,_492,_493);var _496=_495.GetResponse();ITHit.Logger.FinishRequest();return new _494(_496._Response.BodyText);};ITHit.oNS.Get.createRequest=function(_497,_498,_499,_49a,_49b){var _49c=_497.CreateRequest(_49b,_498);_49c.Method("GET");_49c.Headers.Add("Translate","f");if("undefined"!=typeof _499){var _49d=_499;if(_499>=0){if(("undefined"!=typeof _49a)&&(_49a>=0)){_49d+="-"+_49a;}else{_49d+="-";}}else{_49d=String(_49d);}_49c.Headers.Add("Range","bytes="+_49d);}return _49c;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Methods");ITHit.oNS.CancelUpload=function(_49e){ITHit.WebDAV.Client.Methods.CancelUpload.baseConstructor.call(this);this.Response=_49e;};ITHit.Extend(ITHit.oNS.CancelUpload,ITHit.oNS.HttpMethod);ITHit.oNS.CancelUpload.Go=function(_49f,_4a0,_4a1,_4a2){return ITHit.WebDAV.Client.Methods.CancelUpload.GoAsync(_49f,_4a0,_4a1,_4a2);};ITHit.oNS.CancelUpload.GoAsync=function(_4a3,_4a4,_4a5,_4a6,_4a7){var _4a8=ITHit.WebDAV.Client;var _4a9=_4a8.Methods;var _4aa=_4a9.CancelUpload.createRequest(_4a3,_4a4,_4a5,_4a6);var self=this;var _4ab=typeof _4a7==="function"?function(_4ac){self._GoCallback(_4a3,_4a4,_4ac,_4a7);}:null;var _4ad=_4aa.GetResponse(_4ab);if(typeof _4a7!=="function"){var _4ae=new _4a8.AsyncResult(_4ad,_4ad!=null,null);return this._GoCallback(_4a3,_4a4,_4ae,_4a7);}else{return _4aa;}};ITHit.oNS.CancelUpload._GoCallback=function(_4af,_4b0,_4b1,_4b2){var _4b3=ITHit.WebDAV.Client;var _4b4=_4b3.Methods;var _4b5=_4b1;var _4b6=true;var _4b7=null;if(_4b1 instanceof ITHit.WebDAV.Client.AsyncResult){_4b5=_4b1.Result;_4b6=_4b1.IsSuccess;_4b7=_4b1.Error;}var _4b8=null;if(_4b6){_4b8=new _4b4.CancelUpload(new _4b4.SingleResponse(_4b5));}ITHit.Logger.FinishRequest();if(typeof _4b2==="function"){var _4b9=new _4b3.AsyncResult(_4b8,_4b6,_4b7);_4b2.call(this,_4b9);}else{return _4b8;}};ITHit.oNS.CancelUpload.createRequest=function(_4ba,_4bb,_4bc,_4bd){var _4be=_4ba.CreateRequest(_4bd,_4bb,_4bc);_4be.Method("CANCELUPLOAD");return _4be;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.DocManager");ITHit.oNS.JavaOpen=function(sUrl,_4bf,_4c0,_4c1,_4c2){if(_4bf==null){if(!_4c1){var s=sUrl.lastIndexOf("/");_4bf=(s!=-1)?sUrl.substr(0,s+1):"/";}else{_4bf=sUrl;}}if(_4c0==null){_4c0="/plugins/ITHitMountOpenDocument.jar";}if(_4c2==null){_4c2=window.document.body;}var _4c3=_4c1?"folder":"file";if(document.mountAppletOpenDocs!=null){document.mountAppletOpenDocs.parentElement.outerHTML="";}var _4c4={nodeName:"div",style:{width:"0px",height:"0px",position:"absolute",overflow:"hidden",top:"-1000px",left:"-1000px"}};var _4c5=ITHit.Utils.CreateDOMElement(_4c4);_4c2.appendChild(_4c5);var _4c6;if(ITHit.DetectBrowser.IE){_4c6="<object name=\"mountAppletOpenDocs\""+" classid=\"clsid:8AD9C840-044E-11D1-B3E9-00805F499D93\""+" codebase=\"http://java.sun.com/update/1.6.0/jinstall-6u26-windows-i586.cab#Version=1,6,0,0\""+" width=\"0\" height=\"0\""+">"+"  <param name=\"archive\" value=\""+_4c0+"\">"+"  <param name=\"code\" value=\"MODApplet.class\">"+"  <param name=\""+_4c3+"\" value=\""+sUrl+"\">"+"  <param name=\"mountUrl\" value=\""+_4bf+"\">"+"</object>";}else{_4c6="<embed name=\"mountAppletOpenDocs\""+" type=\"application/x-java-applet;version=1.6\""+" pluginspage = \"http://www.java.com/en/download/\""+" width=\"0\" height=\"0\""+" archive=\""+_4c0+"\""+" code=\"MODApplet.class\""+" "+_4c3+"=\""+sUrl+"\""+" mountUrl=\""+_4bf+"\""+">";}_4c5.innerHTML=_4c6;};ITHit.oNS.JavaEditDocument=function(_4c7,_4c8,_4c9,_4ca){ITHit.WebDAV.Client.DocManager.JavaOpen(_4c7,_4c8,_4c9,false,_4ca);};ITHit.oNS.JavaOpenFolderInOsFileManager=function(_4cb,_4cc,_4cd,_4ce){ITHit.WebDAV.Client.DocManager.JavaOpen(_4cb,_4cc,_4cd,true,_4ce);};ITHit.oNS.OpenFolderInOsFileManager=function(_4cf,_4d0,_4d1,_4d2){if(_4d2==null){_4d2=window.document.body;}if(ITHit.DetectBrowser.IE&&(ITHit.DetectBrowser.IE<11)){if(_4d2._httpFolder==null){var span={nodeName:"span",style:{display:"none",behavior:"url(#default#httpFolder)"}};_4d2._httpFolder=ITHit.Utils.CreateDOMElement(span);_4d2.appendChild(_4d2._httpFolder);}var res=_4d2._httpFolder.navigate(_4cf);return (res=="OK");}else{ITHit.WebDAV.Client.DocManager.JavaOpenFolderInOsFileManager(_4cf,_4d0,_4d1,_4d2);}};ITHit.oNS.IsMicrosoftOfficeAvailable=function(){if(ITHit.DetectBrowser.IE){try{new ActiveXObject("SharePoint.OpenDocuments");return true;}catch(e){}}else{var _4d3=navigator.plugins;var _4d4=ITHit.DetectBrowser.Mac?"SharePoint Browser Plug-in":"Microsoft Office";for(var i=0;i<_4d3.length;i++){if(_4d3[i].name.indexOf(_4d4)==0){return true;}}}return false;};ITHit.oNS.IsMicrosoftOfficeDocument=function(_4d5){var ext=ITHit.Trim(_4d5.substr(_4d5.lastIndexOf(".")+1));if(!ext){return false;}return (ITHit.WebDAV.Client.DocManager.FileFormats.MsOfficeEditExtensions.join("|").indexOf(ext)!=-1);};ITHit.oNS.GetMsOfficeVersion=function(){if(ITHit.DetectBrowser.IE){try{new ActiveXObject("SharePoint.OpenDocuments.5");return 2013;}catch(e){}}else{var _4d6=-1;var _4d7=navigator.plugins;for(var i=0;i<_4d7.length;i++){if(_4d7[i].name.indexOf("Microsoft Office")==0){var _4d8=_4d7[i].name.substr("Microsoft Office ".length,4);var _4d9=parseInt(_4d8);if(_4d9>_4d6){_4d6=_4d9;}}}return _4d6;}return null;};ITHit.oNS.GetSharePointOpenDocumentsCtrl=function(_4da){if(_4da==null){_4da=window.document.body;}if(_4da._sharePointOpenDocuments==null){if(ITHit.DetectBrowser.IE){try{_4da._sharePointOpenDocuments=new ActiveXObject("SharePoint.OpenDocuments");}catch(e){}}else{var _4db={nodeName:"object",type:"application/x-sharepoint",style:{visibility:"hidden"},width:"0",height:"0"};_4da._sharePointOpenDocuments=ITHit.Utils.CreateDOMElement(_4db);_4da.appendChild(_4da._sharePointOpenDocuments);}}return _4da._sharePointOpenDocuments;};ITHit.oNS.GetMsOfficeSchemaByExtension=function(sExt){sExt=sExt.toLowerCase();switch(sExt){case "docx":case "doc":case "docm":case "dot":case "dotm":case "dotx":case "odt":return "ms-word";case "xltx":case "xltm":case "xlt":case "xlsx":case "xlsm":case "xlsb":case "xls":case "xll":case "xlam":case "xla":case "ods":return "ms-excel";case "pptx":case "pptm":case "ppt":case "ppsx":case "ppsm":case "pps":case "ppam":case "ppa":case "potx":case "potm":case "pot":case "odp":return "ms-powerpoint";case "accdb":case "mdb":return "ms-access";case "xsn":case "xsf":return "ms-infopath";case "pub":return "ms-publisher";case "vstx":case "vstm":case "vst":case "vssx":case "vssm":case "vssm":case "vss":case "vsl":case "vsdx":case "vsdm":case "vsd":case "vdw":return "ms-visio";case "mpp":case "mpt":return "ms-project";}};ITHit.oNS.ShowMicrosoftOfficeWarning=function(){var oNS=ITHit.WebDAV.Client.DocManager;if((oNS.GetMsOfficeVersion()<2013)||ITHit.DetectBrowser.Chrome){oNS.GetSharePointOpenDocumentsCtrl();}};ITHit.oNS.MicrosoftOfficeEditDocument=function(_4dc){var oNS=ITHit.WebDAV.Client.DocManager;try{if((oNS.GetMsOfficeVersion()>=2013)&&!ITHit.DetectBrowser.Chrome){var ext=ITHit.Trim(_4dc.substr(_4dc.lastIndexOf(".")+1));var url=oNS.GetMsOfficeSchemaByExtension(ext)+":ofe|u|"+_4dc;window.location.href=url;}else{var sho=oNS.GetSharePointOpenDocumentsCtrl();if(sho){if(!sho.EditDocument(_4dc)){return false;}}}}catch(e){return false;}return true;};ITHit.oNS.FileFormats={ProtectedExtentions:[],MsOfficeEditExtensions:["docx","doc","docm","dot","dotm","dotx","odt","xltx","xltm","xlt","xlsx","xlsm","xlsb","xls","xll","xlam","xla","ods","pptx","pptm","ppt","ppsx","ppsm","pps","ppam","ppa","potx","potm","pot","odp","accdb","mdb","xsn","xsf","pub","vstx","vstm","vst","vssx","vssm","vssm","vss","vsl","vsdx","vsdm","vsd","vdw","mpp","mpt"]};ITHit.oNS.EditDocument=function(_4dd,_4de){var oNs=ITHit.WebDAV.Client.DocManager;if(oNs.IsMicrosoftOfficeAvailable()&&oNs.IsMicrosoftOfficeDocument(_4dd)){return oNs.MicrosoftOfficeEditDocument(_4dd);}else{oNs.JavaEditDocument(_4dd,null,_4de);return true;}return false;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS.Resource=function(_4df,_4e0,_4e1,_4e2,_4e3,_4e4,_4e5,_4e6,_4e7,_4e8,_4e9,_4ea,_4eb,_4ec,_4ed){var _4ee=ITHit.WebDAV.Client;_4ee.Resource.baseConstructor.call(this,_4df,_4e0,_4e1,_4e2,_4e3,_4ee.ResourceType.Resource,_4e6,_4e7,_4e8,_4e9,_4ea,_4eb,_4ec,_4ed);this.ContentLength=_4e5;this.ContentType=_4e4;};ITHit.Extend(ITHit.oNS.Resource,ITHit.oNS.HierarchyItem);ITHit.oNS.Resource.Open=function(_4ef,_4f0){ITHit.Logger.StartLogging();var _4f1=ITHit.WebDAV.Client;var _4f2=_4f1.DavConstants;var _4f3=_4f1.Methods;var _4f4=_4f1.HierarchyItem;_4f0=ITHit.WebDAV.Client.Encoder.EncodeURI(_4f0);var _4f5=_4f1.HierarchyItem.GetHost(_4f0);var _4f6=[_4f2.ResourceType,_4f2.DisplayName,_4f2.CreationDate,_4f2.GetLastModified,_4f2.GetContentLength,_4f2.GetContentType,_4f2.SupportedLock,_4f2.LockDiscovery,_4f2.QuotaAvailableBytes,_4f2.QuotaUsedBytes,_4f2.CheckedIn,_4f2.CheckedOut];var _4f7=_4f3.Propfind.Go(_4ef,_4f0,_4f3.Propfind.PropfindMode.SelectedProperties,_4f6,_4f1.Depth.Zero,_4f5).Response;for(var i=0;i<_4f7.Responses.length;i++){var _4f8=_4f7.Responses[i];if(_4f4.HrefEquals(_4f8.Href,_4f0)){var _4f9=_4f4.GetResourceType(_4f8);if(_4f9!=_4f1.ResourceType.Resource){throw new _4f1.Exceptions.WebDavException(ITHit.Phrases.ResponseResourceWrongType.Paste(_4f0));}var _4fa=new _4f1.Resource(_4ef,_4f0,_4f4.GetLastModified(_4f8),_4f4.GetDisplayName(_4f8),_4f4.GetCreationDate(_4f8),_4f4.GetContentType(_4f8),_4f4.GetContentLength(_4f8),_4f4.GetSupportedLock(_4f8),_4f4.GetActiveLocks(_4f8,_4f0),_4f5,_4f4.GetQuotaAvailableBytes(_4f8),_4f4.GetQuotaUsedBytes(_4f8),_4f4.GetCkeckedIn(_4f8),_4f4.GetCheckedOut(_4f8));ITHit.Logger.FinishLogging();return _4fa;}}ITHit.Logger.DeclareFinish();throw new _4f1.Exceptions.NotFoundException(ITHit.Phrases.ResourceNotFound.Paste(_4f0));};ITHit.oNS.Resource.prototype.ReadContent=function(_4fb,_4fc){ITHit.Logger.StartLogging();var _4fd;if(_4fb&&_4fc){_4fd=_4fb+_4fc-1;}var _4fe=ITHit.WebDAV.Client.Methods.Get.Go(this.Session,this.Href,_4fb,_4fd,this.Host);ITHit.Logger.FinishLogging();return _4fe.Response;};ITHit.oNS.Resource.prototype.WriteContent=function(_4ff,_500,_501){ITHit.Logger.StartLogging();_501=_501||"";var _502=ITHit.WebDAV.Client;var _503=_502.Methods.Put.GoUpload(this.Session,this.Href,_501,_4ff,_500,this.Host).Response;if(!_503.Status.Equals(_502.HttpStatus.OK)&&!_503.Status.Equals(_502.HttpStatus.NoContent)){ITHit.Logger.DeclareFinish();throw new _502.Exceptions.WebDavHttpException(ITHit.Phrases.Exceptions.FailedToWriteContentToFile,this.Href,null,_503.Status,null);}ITHit.Logger.FinishLogging();};ITHit.oNS.Resource.prototype.CancelUpload=function(_504){ITHit.Logger.StartLogging();var _505=ITHit.WebDAV.Client;var _506=_505.Methods.CancelUpload.Go(this.Session,this.Href,_504,this.Host);ITHit.Logger.FinishLogging();};ITHit.oNS.Resource.prototype.EditDocument=function(_507){ITHit.WebDAV.Client.DocManager.EditDocument(this.Href,_507);};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Methods");ITHit.oNS.Mkcol=function(_508){ITHit.WebDAV.Client.Methods.Mkcol.baseConstructor.call(this);this.Response=_508;};ITHit.Extend(ITHit.oNS.Mkcol,ITHit.oNS.HttpMethod);ITHit.oNS.Mkcol.Go=function(_509,_50a,_50b,_50c){var _50d=this.createRequest(_509,_50a,_50b,_50c);var _50e=_50d.GetResponse();var _50f=new ITHit.WebDAV.Client.Methods.SingleResponse(_50e);return new ITHit.WebDAV.Client.Methods.Mkcol(_50f);};ITHit.oNS.Mkcol.GoAsync=function(_510,_511,_512,_513,_514){var _515=this.createRequest(_510,_511,_512,_513);_515.GetResponse(function(_516){if(!_516.IsSuccess){_514(new ITHit.WebDAV.Client.AsyncResult(null,false,_516.Error));return;}var _517=new ITHit.WebDAV.Client.Methods.SingleResponse(_516.Result);var _518=new ITHit.WebDAV.Client.Methods.Mkcol(_517);_514(new ITHit.WebDAV.Client.AsyncResult(_518,true,null));});return _515;};ITHit.oNS.Mkcol.createRequest=function(_519,_51a,_51b,_51c){var _51d=_519.CreateRequest(_51c,_51a,_51b);_51d.Method("MKCOL");return _51d;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Methods");ITHit.oNS.Head=function(_51e){ITHit.WebDAV.Client.Methods.Head.baseConstructor.call(this);this.IsOK=_51e;ITHit.Logger.FinishLogging();};ITHit.Extend(ITHit.oNS.Head,ITHit.oNS.HttpMethod);ITHit.oNS.Head.Go=function(_51f,_520,_521){var _522=ITHit.WebDAV.Client;var _523=_522.Methods;var _524=_523.Head.createRequest(_51f,_520,_521);try{var _525=_524.GetResponse();ITHit.Logger.FinishRequest();return new _523.Head(_525.Status.Equals(_522.HttpStatus.OK));}catch(e){if(e instanceof _522.Exceptions.NotFoundException){ITHit.Logger.FinishLogging();return new _523.Head(false);}else{throw e;}}};ITHit.oNS.Head.createRequest=function(_526,_527,_528){var _529=_526.CreateRequest(_528,_527);_529.Method("HEAD");return _529;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS.SearchQuery=function(_52a){this.Phrase=_52a;this.SelectProperties=[];this.EnableLike=true;this.LikeProperties=[ITHit.WebDAV.Client.DavConstants.DisplayName];this.EnableContains=true;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Methods");ITHit.oNS.Search=function(_52b){ITHit.WebDAV.Client.Methods.Search.baseConstructor.call(this);this.Response=_52b;};ITHit.Extend(ITHit.oNS.Search,ITHit.oNS.HttpMethod);ITHit.oNS.Search.Go=function(_52c,_52d,_52e,_52f){var _530=this._createRequest(_52c,_52d,_52e,_52f);var _531=_530.GetResponse();return this._ProcessResponse(_531);};ITHit.oNS.Search.GoAsync=function(_532,_533,_534,_535,_536){var _537=this._createRequest(_532,_533,_534,_535);var that=this;_537.GetResponse(function(_538){if(!_538.IsSuccess){_536(new ITHit.WebDAV.Client.AsyncResult(null,false,_538.Error));return;}var _539=that._ProcessResponse(_538.Result,_533);_536(new ITHit.WebDAV.Client.AsyncResult(_539,true,null));});return _537;};ITHit.oNS.Search._ProcessResponse=function(_53a,sUri){ITHit.Logger.FinishRequest();var _53b=_53a.GetResponseStream();var _53c=new ITHit.WebDAV.Client.Methods.MultiResponse(_53b,sUri);return new ITHit.WebDAV.Client.Methods.Search(_53c);};ITHit.oNS.Search._createRequest=function(_53d,_53e,_53f,_540){var _541=_53d.CreateRequest(_53f,_53e);_541.Method("SEARCH");var _542=new ITHit.XMLDoc();var _543=ITHit.WebDAV.Client.DavConstants;var _544=_543.NamespaceUri;var _545=_542.createElementNS(_544,"prop");if(_540.SelectProperties&&_540.SelectProperties.length>0){for(var i=0;i<_540.SelectProperties.length;i++){_545.appendChild(_542.createElementNS(_540.SelectProperties[i].NamespaceUri,_540.SelectProperties[i].Name));}}else{_545.appendChild(_544,"allprop");}var _546=_542.createElementNS(_544,"select");_546.appendChild(_545);var _547=null;if(_540.EnableLike){var _548=_542.createElementNS(_544,"prop");if(_540.LikeProperties&&_540.LikeProperties.length>0){for(var i=0;i<_540.LikeProperties.length;i++){_548.appendChild(_542.createElementNS(_540.LikeProperties[i].NamespaceUri,_540.LikeProperties[i].Name));}}var _549=_542.createElementNS(_544,"literal");_549.appendChild(_542.createTextNode(_540.Phrase));_547=_542.createElementNS(_544,"like");_547.appendChild(_548);_547.appendChild(_549);}var _54a=null;if(_540.EnableContains){_54a=_542.createElementNS(_544,"contains");_54a.appendChild(_542.createTextNode(_540.Phrase));}var _54b=_542.createElementNS(_544,"where");if(_547&&_54a){var eOr=_542.createElementNS(_544,"or");eOr.appendChild(_547);eOr.appendChild(_54a);_54b.appendChild(eOr);}else{if(_547){_54b.appendChild(_547);}else{if(_54a){_54b.appendChild(_54a);}}}var _54c=_542.createElementNS(_544,"basicsearch");_54c.appendChild(_546);_54c.appendChild(_54b);var _54d=_542.createElementNS(_544,"searchrequest");_54d.appendChild(_54c);_542.appendChild(_54d);_541.Body(_542);return _541;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS.Folder=function(_54e,_54f,_550,_551,_552,_553,_554,_555,_556,_557,_558,_559,_55a){var _55b=ITHit.WebDAV.Client;_55b.Folder.baseConstructor.call(this,_54e,_54f,_550,_551,_552,_55b.ResourceType.Folder,_553,_554,_555,_556,_557,_558,_559,_55a);};ITHit.Extend(ITHit.oNS.Folder,ITHit.oNS.HierarchyItem);ITHit.oNS.Folder.prototype.CreateFolder=function(_55c,_55d){ITHit.Logger.StartLogging();_55d=_55d||null;var _55e=ITHit.WebDAV.Client;var _55f=_55e.HierarchyItem.AppendToUri(this.Href,_55c);var _560=_55e.Methods.Mkcol.Go(this.Session,_55f,_55d,this.Host).Response;if(!_560.Status.Equals(_55e.HttpStatus.Created)){ITHit.Logger.DeclareFinish();throw new _55e.Exceptions.WebDavHttpException(ITHit.Phrases.Exceptions.FailedCreateFolder,_55f,null,_560.Status,null);}ITHit.Logger.IgnoreNextStartLogging();return _55e.Folder.Open(this.Session,_55e.Encoder.DecodeURI(_55f));};ITHit.oNS.Folder.prototype.CreateResource=function(_561,_562,_563){ITHit.Logger.StartLogging();_562=_562||null;_563=("undefined"!=typeof _563)?_563:"";var _564=ITHit.WebDAV.Client;var _565=_564.HierarchyItem.AppendToUri(this.Href,_561);ITHit.Logger.IgnoreNextStartLogging();ITHit.Logger.IgnoreNextFinishLogging();var _566=_564.Methods.Put.GoUpload(this.Session,_565,"",_563,_562,this.Host).Response;if(!_566.Status.Equals(_564.HttpStatus.Created)&&!_566.Status.Equals(_564.HttpStatus.OK)){ITHit.Logger.DeclareFinish();throw new _564.Exceptions.WebDavHttpException(ITHit.Phrases.Exceptions.FailedCreateResource,_565,null,_566.Status,null);}ITHit.Logger.IgnoreNextStartLogging();return _564.Resource.Open(this.Session,_565);};ITHit.oNS.Folder.prototype.CreateLockNull=function(_567,_568,_569,_56a,_56b){ITHit.Logger.StartLogging();var _56c=ITHit.WebDAV.Client;var _56d=_56c.Methods;var _56e=_56c.HierarchyItem.AppendToUri(this.Href,_567);var _56f=_56d.Lock.Go(this.Session,_56e,_56b,_568,this.Host,_569,_56a);var _570=_56f.Response;ITHit.Logger.FinishLogging();return _570.LockInfo;};ITHit.oNS.Folder.prototype.GetChildren=function(_571,_572){_571=_571||false;_572=_572||[];return this._GetChildren(_571,_572);};ITHit.oNS.Folder.prototype.GetChildrenAsync=function(_573,_574,_575){_573=_573||false;if(typeof _574==="function"){_575=_574;_574=[];}else{_574=_574||[];_575=_575||function(){};}return this._GetChildren(_573,_574,_575);};ITHit.oNS.Folder.prototype._GetChildrenProperties=function(_576){var _577=ITHit.WebDAV.Client;var _578=_577.DavConstants;var _579=[_578.ResourceType,_578.DisplayName,_578.CreationDate,_578.GetLastModified,_578.GetContentType,_578.GetContentLength,_578.SupportedLock,_578.LockDiscovery,_578.QuotaAvailableBytes,_578.QuotaUsedBytes,_578.CheckedIn,_578.CheckedOut];var _57a=[];for(var i=0,l=_576.length;i<l;i++){var _57b=_576[i];var _57c=false;for(var i2=0,l2=_579.length;i2<l2;i2++){if(_57b.Equals(_579[i2])){_57c=true;break;}}if(!_57c){_57a.push(_57b);}}return {All:_579.concat(_57a),Additional:_57a};};ITHit.oNS.Folder.prototype._GetChildren=function(_57d,_57e,_57f){ITHit.Logger.StartLogging();var _580=ITHit.WebDAV.Client;var _581=_580.Methods;var _582=this._GetChildrenProperties(_57e);var self=this;var _583=typeof _57f==="function"?function(_584){self._GetChildrenCallback(_584,_582.Additional,_57f);}:null;var _585=_57d?_580.Depth.Infinity:_580.Depth.One;var _586=_581.Propfind.Go(this.Session,this.Href,_581.Propfind.PropfindMode.SelectedProperties,_582.All,_585,this.Host,_583);if(typeof _57f!=="function"){var _587=new _580.AsyncResult(_586,_586!=null,null);return this._GetChildrenCallback(_587,_582.Additional,_57f);}else{return _586;}};ITHit.oNS.Folder.prototype._GetChildrenCallback=function(_588,_589,_58a){var _58b=ITHit.WebDAV.Client;var _58c=_58b.HierarchyItem;var _58d=_588;var _58e=true;var _58f=null;if(_588 instanceof ITHit.WebDAV.Client.AsyncResult){_58d=_588.Result;_58e=_588.IsSuccess;_58f=_588.Error;}var _590=null;if(_58e){_590=this._ProcessChildrenResponse(_58d,_589);ITHit.Logger.FinishLogging();}if(typeof _58a==="function"){var _591=new _58b.AsyncResult(_590,_58e,_58f);_58a.call(this,_591);}else{return _590;}};ITHit.oNS.Folder.prototype._ProcessChildrenResponse=function(_592,_593){var _594=_592.Response;var _595=ITHit.WebDAV.Client;var _596=_595.HierarchyItem;var _597=[];for(var i=0;i<_594.Responses.length;i++){var _598=_594.Responses[i];if(_596.HrefEquals(_598.Href,this.Href)){continue;}if(_598.Status&&!_598.Status.IsOk()){continue;}var _599=_596.GetCustomProperties(_598);for(var i2=0,l2=_593.length;i2<l2;i2++){var sKey=_593[i2].toString();if(!_596.HasProperty(_598,_593[i2])){_599[sKey]=null;}}var _59a=_596.GetResourceType(_598);if(_59a==_595.ResourceType.Folder){_597.push(new _595.Folder(this.Session,_598.Href,_596.GetLastModified(_598),_596.GetDisplayName(_598),_596.GetCreationDate(_598),_596.GetSupportedLock(_598),_596.GetActiveLocks(_598,_598.Href),this.Host,_596.GetQuotaAvailableBytes(_598),_596.GetQuotaUsedBytes(_598),_596.GetCkeckedIn(_598),_596.GetCheckedOut(_598),_599));}else{_597.push(new _595.Resource(this.Session,_598.Href,_596.GetLastModified(_598),_596.GetDisplayName(_598),_596.GetCreationDate(_598),_596.GetContentType(_598),_596.GetContentLength(_598),_596.GetSupportedLock(_598),_596.GetActiveLocks(_598,_598.Href),this.Host,_596.GetQuotaAvailableBytes(_598),_596.GetQuotaUsedBytes(_598),_596.GetCkeckedIn(_598),_596.GetCheckedOut(_598),_599));}}return _597;};ITHit.oNS.Folder.Open=function(_59b,_59c){return this._Open(_59b,_59c);};ITHit.oNS.Folder.OpenAsync=function(_59d,_59e,_59f){return this._Open(_59d,_59e,_59f);};ITHit.oNS.Folder._Open=function(_5a0,_5a1,_5a2){ITHit.Logger.StartLogging();var _5a3=ITHit.WebDAV.Client;var _5a4=_5a3.Methods;var _5a5=_5a1.split("?");_5a5[0]=_5a5[0].replace(/\/?$/,"/");_5a1=_5a3.Encoder.EncodeURI(_5a5.join("?"));var _5a6=_5a3.HierarchyItem.GetHost(_5a1);var _5a7=[_5a3.DavConstants.ResourceType,_5a3.DavConstants.DisplayName,_5a3.DavConstants.CreationDate,_5a3.DavConstants.GetLastModified,_5a3.DavConstants.SupportedLock,_5a3.DavConstants.LockDiscovery,_5a3.DavConstants.QuotaAvailableBytes,_5a3.DavConstants.QuotaUsedBytes,_5a3.DavConstants.CheckedIn,_5a3.DavConstants.CheckedOut];var self=this;var _5a8=typeof _5a2==="function"?function(_5a9){self._OpenCallback(_5a0,_5a1,_5a9,_5a2);}:null;var _5aa=_5a4.Propfind.Go(_5a0,_5a1,_5a4.Propfind.PropfindMode.SelectedProperties,_5a7,_5a3.Depth.Zero,_5a6,_5a8);if(typeof _5a2!=="function"){var _5ab=new _5a3.AsyncResult(_5aa,_5aa!=null,null);return this._OpenCallback(_5a0,_5a1,_5ab,_5a2);}else{return _5aa;}};ITHit.oNS.Folder._OpenCallback=function(_5ac,_5ad,_5ae,_5af){var _5b0=ITHit.WebDAV.Client;var _5b1=_5b0.HierarchyItem;var _5b2=_5b0.HierarchyItem.GetHost(_5ad);var _5b3=_5ae;var _5b4=true;var _5b5=null;if(_5ae instanceof ITHit.WebDAV.Client.AsyncResult){_5b3=_5ae.Result;_5b4=_5ae.IsSuccess;_5b5=_5ae.Error;}var _5b6=null;if(_5b4){var _5b7=_5b3.Response;for(var i=0;i<_5b7.Responses.length;i++){var _5b8=_5b7.Responses[i];if(_5b1.HrefEquals(_5b8.Href,_5ad)){var _5b9=_5b1.GetResourceType(_5b8);if(_5b9!=_5b0.ResourceType.Folder){throw new _5b0.Exceptions.WebDavException(ITHit.Phrases.ResponseFolderWrongType.Paste(_5ad));}_5b6=new _5b0.Folder(_5ac,_5ad,_5b1.GetLastModified(_5b8),_5b1.GetDisplayName(_5b8),_5b1.GetCreationDate(_5b8),_5b1.GetSupportedLock(_5b8),_5b1.GetActiveLocks(_5b8,_5ad),_5b2,_5b1.GetQuotaAvailableBytes(_5b8),_5b1.GetQuotaUsedBytes(_5b8),_5b1.GetCkeckedIn(_5b8),_5b1.GetCheckedOut(_5b8));ITHit.Logger.FinishLogging();break;}}}ITHit.Logger.DeclareFinish();if(_5b6!=null){if(typeof _5af==="function"){var _5ba=new _5b0.AsyncResult(_5b6,_5b4,_5b5);_5af.call(this,_5ba);}else{return _5b6;}}else{_5b5=new _5b0.Exceptions.NotFoundException(ITHit.Phrases.FolderNotFound.Paste(_5ad));if(typeof _5af==="function"){var _5ba=new _5b0.AsyncResult(_5b6,false,_5b5);_5af.call(this,_5ba);}else{throw _5b5;}}};ITHit.oNS.Folder.prototype.GetFolder=function(_5bb){ITHit.Logger.StartLogging();ITHit.Logger.IgnoreNextStartLogging();return this.Session.OpenFolder(ITHit.WebDAV.Client.HierarchyItem.AppendToUri(this.Href,_5bb));};ITHit.oNS.Folder.prototype.GetResource=function(_5bc){ITHit.Logger.StartLogging();ITHit.Logger.IgnoreNextStartLogging();return this.Session.OpenResource(ITHit.WebDAV.Client.HierarchyItem.AppendToUri(this.Href,_5bc));};ITHit.oNS.Folder.prototype.GetItem=function(_5bd){ITHit.Logger.StartLogging();ITHit.Logger.IgnoreNextStartLogging();return this.Session.OpenItem(ITHit.WebDAV.Client.HierarchyItem.AppendToUri(this.Href,_5bd));};ITHit.oNS.Folder.prototype.ItemExists=function(_5be){ITHit.Logger.StartLogging();var _5bf=ITHit.WebDAV.Client;var _5c0=_5bf.Methods;try{return _5c0.Head.Go(this.Session,_5bf.HierarchyItem.AppendToUri(this.Href,_5be),this.Host).IsOK;}catch(e){if(e instanceof _5bf.Exceptions.MethodNotAllowedException){var _5c1=[_5bf.DavConstants.DisplayName];try{_5c0.Propfind.Go(this.Session,_5bf.HierarchyItem.AppendToUri(this.Href,_5be),_5c0.Propfind.PropfindMode.SelectedProperties,_5c1,_5bf.Depth.Zero,this.Host);}catch(e1){if(e1 instanceof _5bf.Exceptions.NotFoundException){ITHit.Logger.FinishLogging();return false;}else{throw e1;}}ITHit.Logger.FinishLogging();return true;}else{throw e;}}};ITHit.oNS.Folder.prototype.SearchByQuery=function(_5c2){ITHit.Logger.StartLogging();var _5c3=this._GetChildrenProperties(_5c2.SelectProperties||[]);_5c2.SelectProperties=_5c3.All;var _5c4=ITHit.WebDAV.Client.Methods.Search.Go(this.Session,this.Href,this.Host,_5c2);ITHit.Logger.FinishLogging();return this._SearchProcessResponse(_5c4,_5c3.Additional);};ITHit.oNS.Folder.prototype.SearchByQueryAsync=function(_5c5,_5c6){ITHit.Logger.StartLogging();var that=this;var _5c7=this._GetChildrenProperties(_5c5.SelectProperties||[]);_5c5.SelectProperties=_5c7.All;return ITHit.WebDAV.Client.Methods.Search.GoAsync(this.Session,this.Href,this.Host,_5c5,function(_5c8){ITHit.Logger.FinishLogging();if(!_5c8.IsSuccess){_5c6(new ITHit.WebDAV.Client.AsyncResult(null,false,_5c8.Error));return;}var _5c9=that._SearchProcessResponse(_5c8.Result,_5c7.Additional);_5c6(new ITHit.WebDAV.Client.AsyncResult(_5c9,true,null));});};ITHit.oNS.Folder.prototype.Search=function(_5ca,_5cb){var _5cc=new ITHit.WebDAV.Client.SearchQuery(_5ca);_5cc.SelectProperties=_5cb||[];return this.SearchByQuery(_5cc);};ITHit.oNS.Folder.prototype.SearchAsync=function(_5cd,_5ce,_5cf){var _5d0=new ITHit.WebDAV.Client.SearchQuery(_5cd);_5d0.SelectProperties=_5ce||[];return this.SearchByQueryAsync(_5d0,_5cf);};ITHit.oNS.Folder.prototype._SearchProcessResponse=function(_5d1,_5d2){return this._ProcessChildrenResponse(_5d1,_5d2);};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Methods");ITHit.oNS.GetItem=function(_5d3,_5d4,_5d5){ITHit.Logger.StartLogging();var _5d6=ITHit.WebDAV.Client;var _5d7=_5d6.DavConstants;var _5d8=_5d6.Methods;_5d4=_5d6.Encoder.EncodeURI(_5d4);var _5d9=_5d6.HierarchyItem.GetHost(_5d4);var _5da=[_5d7.ResourceType,_5d7.DisplayName,_5d7.CreationDate,_5d7.GetLastModified,_5d7.GetContentLength,_5d7.GetContentType,_5d7.SupportedLock,_5d7.LockDiscovery,_5d7.QuotaAvailableBytes,_5d7.QuotaUsedBytes];var self=this;var _5db=typeof _5d5==="function"?function(_5dc){self._GetItemCallback(_5d3,_5d4,_5d9,_5dc,_5d5);}:null;var _5dd=_5d8.Propfind.Go(_5d3,_5d4,_5d8.Propfind.PropfindMode.SelectedProperties,_5da,_5d6.Depth.Zero,_5d9,_5db);if(typeof _5d5!=="function"){var _5de=new _5d6.AsyncResult(_5dd,_5dd!=null,null);return this._GetItemCallback(_5d3,_5d4,_5d9,_5de,_5d5);}else{return _5dd;}};ITHit.oNS._GetItemCallback=function(_5df,_5e0,_5e1,_5e2,_5e3){var _5e4=ITHit.WebDAV.Client;var _5e5=_5e4.HierarchyItem;var _5e6=_5e2;var _5e7=true;var _5e8=null;if(_5e2 instanceof ITHit.WebDAV.Client.AsyncResult){_5e6=_5e2.Result;_5e7=_5e2.IsSuccess;_5e8=_5e2.Error;}var _5e9=null;if(_5e7){var _5ea=_5e6.Response;for(var i=0;i<_5ea.Responses.length;i++){var _5eb=_5ea.Responses[i];if(_5e5.HrefEquals(_5eb.Href,_5e0)){var _5ec=_5e5.GetResourceType(_5eb);if(_5ec==_5e4.ResourceType.Resource){_5e9=new _5e4.Resource(_5df,_5e0,_5e5.GetLastModified(_5eb),_5e5.GetDisplayName(_5eb),_5e5.GetCreationDate(_5eb),_5e5.GetContentType(_5eb),_5e5.GetContentLength(_5eb),_5e5.GetSupportedLock(_5eb),_5e5.GetActiveLocks(_5eb,_5e0),_5e1,_5e5.GetQuotaAvailableBytes(_5eb),_5e5.GetQuotaUsedBytes(_5eb));}else{if(_5ec==_5e4.ResourceType.Folder){_5e9=new _5e4.Folder(_5df,_5e0,_5e5.GetLastModified(_5eb),_5e5.GetDisplayName(_5eb),_5e5.GetCreationDate(_5eb),_5e5.GetSupportedLock(_5eb),_5e5.GetActiveLocks(_5eb,_5e0),_5e1,_5e5.GetQuotaAvailableBytes(_5eb),_5e5.GetQuotaUsedBytes(_5eb));}else{throw new _5e4.Exceptions.WebDavException(ITHit.Phrases.Exceptions.UnknownResourceType);}}ITHit.Logger.FinishLogging();break;}}}ITHit.Logger.DeclareFinish();if(_5e9!=null){if(typeof _5e3==="function"){var _5ed=new _5e4.AsyncResult(_5e9,_5e7,_5e8);_5e3.call(this,_5ed);}else{return _5e9;}}else{_5e8=new _5e4.Exceptions.NotFoundException(ITHit.Phrases.ResponseItemNotFound.Paste(_5e0),_5e0);if(typeof _5e3==="function"){var _5ed=new _5e4.AsyncResult(_5e9,false,_5e8);_5e3.call(this,_5ed);}else{throw _5e8;}}};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Methods");ITHit.oNS.Undelete=function(_5ee){var _5ef=ITHit.WebDAV.Client;_5ef.Methods.Undelete.baseConstructor.call(this);return true;};ITHit.Extend(ITHit.oNS.Undelete,ITHit.oNS.HttpMethod);ITHit.oNS.Undelete.Go=function(_5f0,_5f1,_5f2){var _5f3=ITHit.WebDAV.Client;var _5f4=_5f3.Methods;var _5f5=_5f4.Undelete.createRequest(_5f0,_5f1,_5f2);var _5f6=_5f5.GetResponse();ITHit.Logger.FinishRequest();var _5f7=new _5f4.Report(_5f6);return _5f7;};ITHit.oNS.Undelete.createRequest=function(_5f8,_5f9,_5fa){var _5fb=_5f8.CreateRequest(_5fa,_5f9);_5fb.Method("UNDELETE");return _5fb;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS.WebDavResponse=function(_5fc,_5fd){if(ITHit.Logger.Level>=ITHit.LogLevel.Info){ITHit.Logger.WriteMessage(ITHit.Phrases.wdrs.status.Paste(_5fc.Status,_5fc.StatusDescription));ITHit.Logger.WriteMessage(ITHit.Trim(_5fc.Headers));var _5fe=[];for(var _5ff in _5fc.Headers){_5fe.push(_5ff+":"+_5fc.Headers[_5ff]);}ITHit.Logger.WriteMessage(_5fe.join("\n"));}this._Response=_5fc;this.RequestMethod=_5fd;this.Status=new ITHit.WebDAV.Client.HttpStatus(_5fc.Status,_5fc.StatusDescription);};ITHit.oNS.WebDavResponse.prototype.Headers=function(){return this._Response.Headers;};ITHit.oNS.WebDavResponse.prototype.GetResponseStream=function(){var _600=ITHit.WebDAV.Client.WebDavResponse.ignoreXmlByMethodAndStatus;var oOut=null;if(this._Response.BodyXml&&!(_600[this.RequestMethod]&&_600[this.RequestMethod][this._Response.Status])){oOut=new ITHit.XMLDoc(this._Response.BodyXml);}if((ITHit.Logger.Level>=ITHit.LogLevel.Debug)&&(this.RequestMethod.toUpperCase()!="GET")){if(oOut){ITHit.Logger.WriteMessage(String(oOut),ITHit.LogLevel.Debug);}else{if(this._Response.BodyText){ITHit.Logger.WriteMessage(this._Response.BodyText,ITHit.LogLevel.Debug);}}}return oOut;};ITHit.oNS.WebDavResponse.ignoreXmlByMethodAndStatus={"DELETE":{200:true},"COPY":{201:true,204:true},"MOVE":{201:true,204:true}};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Methods");ITHit.oNS.ErrorResponse=function(_601,_602){this.ResponseDescription="";this.Properties=[];var _603=ITHit.WebDAV.Client,_604=_603.Methods.Response,_605=new _603.PropertyName("responsedescription",_603.DavConstants.NamespaceUri);var _606=new ITHit.XPath.resolver();_606.add("d",_603.DavConstants.NamespaceUri);var oRes=ITHit.XPath.evaluate("/d:error/*",_601,_606);var _607;while(_607=oRes.iterateNext()){var _608=new _603.Property(_607.cloneNode());if(_605.Equals(_608.Name)){this.ResponseDescription=_608.StringValue();continue;}this.Properties.push(_608);}};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Exceptions");ITHit.oNS.UnauthorizedException=function(_609,_60a,_60b){var _60c=ITHit.WebDAV.Client;_60c.Exceptions.UnauthorizedException.baseConstructor.call(this,_609,_60a,null,_60c.HttpStatus.Unauthorized,_60b);};ITHit.Extend(ITHit.oNS.UnauthorizedException,ITHit.oNS.WebDavHttpException);ITHit.oNS.UnauthorizedException.prototype.Name="UnauthorizedException";ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Exceptions");ITHit.oNS.BadRequestException=function(_60d,_60e,_60f,_610,_611){var _612=ITHit.WebDAV.Client;_612.Exceptions.BadRequestException.baseConstructor.call(this,_60d,_60e,_60f,_612.HttpStatus.BadRequest,_611,_610);};ITHit.Extend(ITHit.oNS.BadRequestException,ITHit.oNS.WebDavHttpException);ITHit.oNS.BadRequestException.prototype.Name="BadRequestException";ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Exceptions");ITHit.oNS.ConflictException=function(_613,_614,_615,_616,_617){var _618=ITHit.WebDAV.Client;_618.Exceptions.ConflictException.baseConstructor.call(this,_613,_614,_615,_618.HttpStatus.Conflict,_617,_616);};ITHit.Extend(ITHit.oNS.ConflictException,ITHit.oNS.WebDavHttpException);ITHit.oNS.ConflictException.prototype.Name="ConflictException";ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Exceptions");ITHit.oNS.LockedException=function(_619,_61a,_61b,_61c,_61d){var _61e=ITHit.WebDAV.Client;_61e.Exceptions.LockedException.baseConstructor.call(this,_619,_61a,_61b,_61e.HttpStatus.Locked,_61d,_61c);};ITHit.Extend(ITHit.oNS.LockedException,ITHit.oNS.WebDavHttpException);ITHit.oNS.LockedException.prototype.Name="LockedException";ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Exceptions");ITHit.oNS.ForbiddenException=function(_61f,_620,_621,_622,_623){var _624=ITHit.WebDAV.Client;_624.Exceptions.ForbiddenException.baseConstructor.call(this,_61f,_620,_621,_624.HttpStatus.Forbidden,_623,_622);};ITHit.Extend(ITHit.oNS.ForbiddenException,ITHit.oNS.WebDavHttpException);ITHit.oNS.ForbiddenException.prototype.Name="ForbiddenException";ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Exceptions");ITHit.oNS.MethodNotAllowedException=function(_625,_626,_627,_628,_629){var _62a=ITHit.WebDAV.Client;_62a.Exceptions.MethodNotAllowedException.baseConstructor.call(this,_625,_626,_627,_62a.HttpStatus.MethodNotAllowed,_629,_628);};ITHit.Extend(ITHit.oNS.MethodNotAllowedException,ITHit.oNS.WebDavHttpException);ITHit.oNS.MethodNotAllowedException.prototype.Name="MethodNotAllowedException";ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Exceptions");ITHit.oNS.NotImplementedException=function(_62b,_62c,_62d,_62e,_62f){var _630=ITHit.WebDAV.Client;_630.Exceptions.NotImplementedException.baseConstructor.call(this,_62b,_62c,_62d,_630.HttpStatus.NotImplemented,_62f,_62e);};ITHit.Extend(ITHit.oNS.NotImplementedException,ITHit.oNS.WebDavHttpException);ITHit.oNS.NotImplementedException.prototype.Name="NotImplementedException";ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Exceptions");ITHit.oNS.NotFoundException=function(_631,_632,_633){var _634=ITHit.WebDAV.Client;_634.Exceptions.NotFoundException.baseConstructor.call(this,_631,_632,null,_634.HttpStatus.NotFound,_633);};ITHit.Extend(ITHit.oNS.NotFoundException,ITHit.oNS.WebDavHttpException);ITHit.oNS.NotFoundException.prototype.Name="NotFoundException";ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Exceptions");ITHit.oNS.PreconditionFailedException=function(_635,_636,_637,_638,_639){var _63a=ITHit.WebDAV.Client;_63a.Exceptions.PreconditionFailedException.baseConstructor.call(this,_635,_636,_637,_63a.HttpStatus.PreconditionFailed,_639,_638);};ITHit.Extend(ITHit.oNS.PreconditionFailedException,ITHit.oNS.WebDavHttpException);ITHit.oNS.PreconditionFailedException.prototype.Name="PreconditionFailedException";ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Exceptions");ITHit.oNS.DependencyFailedException=function(_63b,_63c,_63d,_63e,_63f){var _640=ITHit.WebDAV.Client;_640.Exceptions.DependencyFailedException.baseConstructor.call(this,_63b,_63c,_63d,_640.HttpStatus.DependencyFailed,_63f,_63e);};ITHit.Extend(ITHit.oNS.DependencyFailedException,ITHit.oNS.WebDavHttpException);ITHit.oNS.DependencyFailedException.prototype.Name="DependencyFailedException";ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Exceptions");ITHit.oNS.InsufficientStorageException=function(_641,_642,_643,_644,_645){var _646=ITHit.WebDAV.Client;_646.Exceptions.InsufficientStorageException.baseConstructor.call(this,_641,_642,_643,_646.HttpStatus.InsufficientStorage,_644,_645);};ITHit.Extend(ITHit.oNS.InsufficientStorageException,ITHit.oNS.WebDavHttpException);ITHit.oNS.InsufficientStorageException.prototype.Name="InsufficientStorageException";ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Exceptions");ITHit.oNS.QuotaNotExceededException=function(_647,_648,_649,_64a,_64b){var _64c=ITHit.WebDAV.Client;_64c.Exceptions.QuotaNotExceededException.baseConstructor.call(this,_647,_648,_649,_64c.HttpStatus.InsufficientStorage,_64a,_64b);};ITHit.Extend(ITHit.oNS.QuotaNotExceededException,ITHit.oNS.InsufficientStorageException);ITHit.oNS.QuotaNotExceededException.prototype.Name="QuotaNotExceededException";ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Exceptions");ITHit.oNS.SufficientDiskSpaceException=function(_64d,_64e,_64f,_650,_651){var _652=ITHit.WebDAV.Client;_652.Exceptions.SufficientDiskSpaceException.baseConstructor.call(this,_64d,_64e,_64f,_652.HttpStatus.InsufficientStorage,_650,_651);};ITHit.Extend(ITHit.oNS.SufficientDiskSpaceException,ITHit.oNS.InsufficientStorageException);ITHit.oNS.SufficientDiskSpaceException.prototype.Name="SufficientDiskSpaceException";ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.Exceptions.Parsers");ITHit.oNS.InsufficientStorage=function(_653,_654,_655,_656,_657){var _658="InsufficientStorageException",_659=ITHit.WebDAV.Client;if(1==_656.Properties.length){var _65a=_656.Properties[0].Name;if(_65a.Equals(_659.DavConstants.QuotaNotExceeded)){_658="QuotaNotExceededException";}else{if(_65a.Equals(_659.DavConstants.SufficientDiskSpace)){_658="SufficientDiskSpaceException";}}}return new _659.Exceptions[_658]((_656.Description||_653),_654,_655,_657,_656);};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS.IError=function(){};ITHit.oNSClient=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS=ITHit.Declare("Exceptions.Info",ITHit.oNSClient);ITHit.oNS.Error=function(_65b){var _65c=ITHit.WebDAV.Client.Exceptions.Info;_65c.Error.baseConstructor.call(this);this.Description="";this.Properties=[];this.BodyText="";if(_65b){this.Description=_65b.ResponseDescription;this.Properties=_65b.Properties;}};ITHit.Extend(ITHit.oNS.Error,ITHit.oNSClient.IError);ITHit.Phrases.LoadJSON(ITHit.Temp.WebDAV_Phrases);ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS.WebDavRequest={};(function(){var _65d=function(_65e){this.Headers=_65e;};_65d.prototype.Add=function(_65f,_660){this.Headers[_65f]=_660;};_65d.prototype.GetAll=function(){return this.Headers;};var _661=function(sUri,_662,_663){ITHit.Logger.StartRequest();this._Href=sUri;this._Method="GET";this._Headers={};this._Body="";this._User=_662;this._Password=_663;this.Headers=new _65d(this._Headers);this.PreventCaching=null;this.OnProgress=null;this._XMLRequest=null;this._ClassId="ITHit.WebDAV.Client.WebDavSession.WebDavRequest_"+_661._Counter++;};_661._Counter=0;ITHit.oNS.WebDavRequest.Create=function(sUri,_664,_665,_666,_667){if(/^\//.test(sUri)){sUri=_667+sUri.substr(1);}var _668=new _661(sUri,_665,_666);var _669=ITHit.WebDAV.Client;if("string"==typeof _664){if(_664){_668.Headers.Add("If","(<"+_669.DavConstants.OpaqueLockToken+_664+">)");}}else{if((_664 instanceof Array)&&_664.length){var _66a="";var _66b=true;for(var i=0;i<_664.length;i++){_669.WebDavUtil.VerifyArgumentNotNull(_664[i],"lockToken");_66a+=(_66b?"":" ")+"(<"+_669.DavConstants.OpaqueLockToken+_664[i].LockToken+">)";_66b=false;}_668.Headers.Add("If",_66a);}}return _668;};_661.prototype.Method=function(_66c){if(undefined!==_66c){this._Method=_66c;}return this._Method;};_661.prototype.Body=function(_66d){if(undefined!==_66d){this._Body=_66d;}return this._Body;};_661.prototype.Abort=function(){if(this._XMLRequest!==null){this._XMLRequest.Abort();}};_661.prototype.GetResponse=function(_66e){var _66f=typeof _66e==="function";var _670=this._Href;if((ITHit.Config.PreventCaching&&this.PreventCaching===null)||this.PreventCaching===true){var _671=_670.indexOf("?")!==-1?"&":"?";var _672=_671+"nocache="+new Date().getTime();if(_670.indexOf("#")!==-1){_670.replace(/#/g,_672+"#");}else{_670+=_672;}}_670=_670.replace(/#/g,"%23");var _673=new ITHit.HttpRequest(_670,this._Method,this._Headers,String(this._Body));var _674=ITHit.Events.DispatchEvent(this,"OnBeforeRequestSend",_673);if(!_674||!(_674 instanceof ITHit.HttpResponse)){_673.User=(null===_673.User)?this._User:_673.User;_673.Password=(null===_673.Password)?this._Password:_673.Password;ITHit.Logger.WriteMessage(_673.Method+" "+_673.Href);var _675=_673.Headers;for(var _676 in _675){ITHit.Logger.WriteMessage(_676+": "+_675[_676]);}_673.Body=String(_673.Body)||"";if(("PUT"!=_673.Method.toUpperCase())&&_673.Body){ITHit.Logger.WriteMessage(_673.Body);}this._XMLRequest=new ITHit.XMLRequest(_673,_66f);}if(_66f){if(this._XMLRequest!==null){var self=this;this._XMLRequest.OnData=function(_677){var _678=null;var _679=true;var _67a=null;try{_678=self._onGetResponse(_673,_677);_679=true;}catch(e){_67a=e;_679=false;}var _67b=new ITHit.WebDAV.Client.AsyncResult(_678,_679,_67a);_66e.call(this,_67b);};this._XMLRequest.OnError=function(_67c){var _67d=new ITHit.WebDAV.Client.Exceptions.WebDavHttpException(_67c.message,_670,null,null,_67c);var _67e=new ITHit.WebDAV.Client.AsyncResult(null,false,_67d);_66e.call(this,_67e);};this._XMLRequest.OnProgress=function(_67f){if(typeof self.OnProgress==="function"){self.OnProgress(_67f);}};this._XMLRequest.Send();}else{var _680=this._onGetResponse(_673,_674);_66e.call(this,_680);}}else{if(this._XMLRequest!==null){this._XMLRequest.Send();_674=this._XMLRequest.GetResponse();}var _680=this._onGetResponse(_673,_674);return _680;}};_661.prototype._onGetResponse=function(_681,_682){var _683=ITHit.WebDAV.Client;ITHit.Events.DispatchEvent(this,"OnResponse",_682);var _684=new _683.HttpStatus(_682.Status,_682.StatusDescription);if(_682.Status==_683.HttpStatus.Redirect.Code){window.location.replace(_682.Headers["Location"]);}if(!_684.IsSuccess()){throw _661.ProcessWebException(_682);}return new _683.WebDavResponse(_682,_681.Method);};_661.ProcessWebException=function(_685){var _686=ITHit.WebDAV.Client,_687=_686.HttpStatus,_688=_686.Exceptions,_689=null,_68a="";if(_685.BodyXml&&_685.BodyXml.childNodes.length){_689=new ITHit.XMLDoc(_685.BodyXml);_68a=String(_689);}ITHit.Logger.WriteMessage("\n"+_685.Status+" "+_685.StatusDescription);var _68b=[];for(var _68c in _685.Headers){_68b.push(_68c+":"+_685.Headers[_68c]);}ITHit.Logger.WriteMessage(_68b.join("\n"));ITHit.Logger.WriteMessage(_68a?_68a:_685.BodyText);var _68d=null,_68e=null;if(_689){var _68f=new _686.Methods.ErrorResponse(_689,_685.Href);_68e=new _688.Info.Error(_68f);var _690=new _686.Methods.MultiResponse(_689,_685.Href);_68d=new _688.Info.Multistatus(_690);}else{_68e=new _688.Info.Error();_68e.BodyText=_685.BodyText;}var _691=null,_692;switch(_685.Status){case _687.Unauthorized.Code:_692=new _688.UnauthorizedException(ITHit.Phrases.Exceptions.Unauthorized,_685.Href,_691);break;case _687.Conflict.Code:_692=new _688.ConflictException(ITHit.Phrases.Exceptions.Conflict,_685.Href,_68d,_68e,_691);break;case _687.Locked.Code:_692=new _688.LockedException(ITHit.Phrases.Exceptions.Locked,_685.Href,_68d,_68e,_691);break;case _687.BadRequest.Code:_692=new _688.BadRequestException(ITHit.Phrases.Exceptions.BadRequest,_685.Href,_68d,_68e,_691);break;case _687.Forbidden.Code:_692=new _688.ForbiddenException(ITHit.Phrases.Exceptions.Forbidden,_685.Href,_68d,_68e,_691);break;case _687.MethodNotAllowed.Code:_692=new _688.MethodNotAllowedException(ITHit.Phrases.Exceptions.MethodNotAllowed,_685.Href,_68d,_68e,_691);break;case _687.NotImplemented.Code:_692=new _688.NotImplementedException(ITHit.Phrases.Exceptions.MethodNotAllowed,_685.Href,_68d,_68e,_691);break;case _687.NotFound.Code:_692=new _688.NotFoundException(ITHit.Phrases.Exceptions.NotFound,_685.Href,_691);break;case _687.PreconditionFailed.Code:_692=new _688.PreconditionFailedException(ITHit.Phrases.Exceptions.PreconditionFailed,_685.Href,_68d,_68e,_691);break;case _687.DependencyFailed.Code:_692=new _688.DependencyFailedException(ITHit.Phrases.Exceptions.DependencyFailed,_685.Href,_68d,_68e,_691);break;case _687.InsufficientStorage.Code:_692=_688.Parsers.InsufficientStorage(ITHit.Phrases.Exceptions.InsufficientStorage,_685.Href,_68d,_68e,_691);break;default:if(_68a){_68a="\n"+ITHit.Phrases.ServerReturned+"\n----\n"+_68a+"\n----\n";}_692=new _688.WebDavHttpException(ITHit.Phrases.Exceptions.Http+_68a,_685.Href,_68d,new _686.HttpStatus(_685.Status,_685.StatusDescription),_691,_68e);break;}ITHit.Logger.FinishLogging();return _692;};_661.prototype.LogRequestInfo=function(){if(ITHit.Logger.LogLevel<=ITHit.LogLevel.Info){ITHit.Logger.WriteMessage(oRequest._Method+" "+oRequest._Href);var _693=oRequest._Headers;for(var _694 in _693){ITHit.Logger.WriteMessage(_694+" : "+_693[_694]);}}};_661.prototype.toString=function(){return this._ClassId;};return this;})();ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client");ITHit.oNS.WebDavSession=function(){this.sServerEngine=null;this.bIisDetected=null;this._User="";this._Pass="";this._ClassId="ITHit.WebDAV.Client.WebDavSession_"+ITHit.WebDAV.Client.WebDavSession._Counter++;};ITHit.oNS.WebDavSession.Version="1.7.0.1230";ITHit.oNS.WebDavSession._Counter=0;ITHit.oNS.WebDavSession.prototype.OpenResource=function(_695){var _696=ITHit.WebDAV.Client;ITHit.Logger.StartLogging();ITHit.Logger.IgnoreNextStartLogging();return _696.Resource.Open(this,_695);};ITHit.oNS.WebDavSession.prototype.OpenFolder=function(_697){var _698=ITHit.WebDAV.Client;ITHit.Logger.StartLogging();ITHit.Logger.IgnoreNextStartLogging();return _698.Folder.Open(this,_697);};ITHit.oNS.WebDavSession.prototype.OpenFolderAsync=function(_699,_69a){_69a=_69a||function(){};var _69b=ITHit.WebDAV.Client;ITHit.Logger.StartLogging();ITHit.Logger.IgnoreNextStartLogging();_69b.Folder.OpenAsync(this,_699,_69a);};ITHit.oNS.WebDavSession.prototype.OpenItem=function(_69c){var _69d=ITHit.WebDAV.Client.Methods;ITHit.Logger.StartLogging();ITHit.Logger.IgnoreNextStartLogging();return _69d.GetItem(this,_69c);};ITHit.oNS.WebDavSession.prototype.OpenItemAsync=function(_69e,_69f){_69f=_69f||function(){};var _6a0=ITHit.WebDAV.Client.Methods;ITHit.Logger.StartLogging();ITHit.Logger.IgnoreNextStartLogging();return _6a0.GetItem(this,_69e,_69f);};ITHit.oNS.WebDavSession.prototype.CreateRequest=function(_6a1,_6a2,_6a3){var _6a4=ITHit.WebDAV.Client;if("undefined"==typeof _6a3){_6a3=[];}var _6a5=_6a4.WebDavRequest.Create(_6a2,_6a3,this._User,this._Pass,_6a1);ITHit.Events.AddListener(_6a5,"OnBeforeRequestSend","OnBeforeRequestSendHandler",this);ITHit.Events.AddListener(_6a5,"OnResponse","OnResponseHandler",this);return _6a5;};ITHit.oNS.WebDavSession.prototype.OnBeforeRequestSendHandler=function(_6a6,_6a7){ITHit.Events.RemoveListener(_6a7,"OnBeforeRequestSend","OnBeforeRequestSendHandler",this);return ITHit.Events.DispatchEvent(this,"OnBeforeRequestSend",_6a6);};ITHit.oNS.WebDavSession.prototype.OnResponseHandler=function(_6a8,_6a9){var _6a9=arguments[arguments.length-1];if(this.sServerEngine===null){this.sServerEngine=_6a8.GetResponseHeader("x-engine",true);}if(this.bIisDetected===null){var _6aa=_6a8.GetResponseHeader("server",true);this.bIisDetected=(/^Microsoft-IIS\//i.test(_6aa));}ITHit.Events.RemoveListener(_6a9,"OnResponse","OnResponseHandler",this);return ITHit.Events.DispatchEvent(this,"OnResponse",_6a8);};ITHit.oNS.WebDavSession.prototype.GetUploadProgress=function(_6ab){var _6ac=ITHit.WebDAV.Client;ITHit.Logger.StartLogging();ITHit.Logger.IgnoreNextStartLogging();var _6ab=_6ac.Encoder.EncodeURI(_6ab);var _6ad=_6ac.Methods.Report.Go(this,_6ab,_6ac.HierarchyItem.GetHost(_6ab));ITHit.Logger.FinishLogging();return _6ad;};ITHit.oNS.WebDavSession.prototype.GetUploadProgressAsync=function(_6ae,_6af){var _6b0=ITHit.WebDAV.Client;ITHit.Logger.StartLogging();ITHit.Logger.IgnoreNextStartLogging();var _6ae=_6b0.Encoder.EncodeURI(_6ae);var _6b1=_6b0.Methods.Report.GoAsync(this,_6ae,_6b0.HierarchyItem.GetHost(_6ae),null,null,_6af);ITHit.Logger.FinishLogging();return _6b1;};ITHit.oNS.WebDavSession.prototype.GetSupportedFeaturesAsync=function(_6b2,_6b3){var _6b4=ITHit.WebDAV.Client;ITHit.Logger.StartLogging();ITHit.Logger.IgnoreNextStartLogging();var _6b5=_6b4.Methods.Options.GoAsync(this,_6b2,_6b4.HierarchyItem.GetHost(_6b2),_6b3);ITHit.Logger.FinishLogging();return _6b5;};ITHit.oNS.WebDavSession.prototype.DeleteAsync=function(_6b6,_6b7,_6b8){var _6b9=ITHit.WebDAV.Client;ITHit.Logger.StartLogging();ITHit.Logger.IgnoreNextStartLogging();var _6ba=_6b9.Methods.Delete.GoAsync(this,_6b6,_6b7,_6b9.HierarchyItem.GetHost(_6b6),_6b8);ITHit.Logger.FinishLogging();return _6ba;};ITHit.oNS.WebDavSession.prototype.CancelUploadAsync=function(_6bb,_6bc,_6bd){var _6be=ITHit.WebDAV.Client;ITHit.Logger.StartLogging();ITHit.Logger.IgnoreNextStartLogging();var _6bf=_6be.Methods.CancelUpload.GoAsync(this,_6bb,_6bc,_6be.HierarchyItem.GetHost(_6bb),_6bd);ITHit.Logger.FinishLogging();return _6bf;};ITHit.oNS.WebDavSession.prototype.CreateFolderAsync=function(_6c0,_6c1,_6c2){var _6c3=ITHit.WebDAV.Client;ITHit.Logger.StartLogging();ITHit.Logger.IgnoreNextStartLogging();var _6c4=_6c3.Methods.Mkcol.GoAsync(this,_6c0,_6c1,_6c3.HierarchyItem.GetHost(_6c0),_6c2);ITHit.Logger.FinishLogging();return _6c4;};ITHit.oNS.WebDavSession.prototype.Undelete=function(_6c5){var _6c6=ITHit.WebDAV.Client;ITHit.Logger.StartLogging();ITHit.Logger.IgnoreNextStartLogging();var _6c5=_6c6.Encoder.EncodeURI(_6c5),_6c7=_6c6.Methods.Undelete.Go(this,_6c5,_6c6.HierarchyItem.GetHost(_6c5));ITHit.Logger.FinishLogging();return _6c7;};ITHit.oNS.WebDavSession.prototype.SetCredentials=function(_6c8,_6c9){this._User=_6c8;this._Pass=_6c9;};ITHit.oNS.WebDavSession.prototype.GetIisDetected=function(){return this.bIisDetected;};ITHit.oNS.WebDavSession.prototype.toString=function(){return this._ClassId;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions");ITHit.oNS.AjaxFileBrowserException=function(_6ca,_6cb){ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException.baseConstructor.call(this,_6ca,_6cb);};ITHit.Extend(ITHit.oNS.AjaxFileBrowserException,ITHit.Exception);ITHit.oNS.AjaxFileBrowserException.prototype.Name="AjaxFileBrowserException";ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.AjaxFileBrowser");ITHit.oNS.UrlUtils=function(sUrl){var _6cc=ITHit.WebDAV.Client;var _6cd=_6cc.AjaxFileBrowser.UrlUtils;if(!sUrl){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException(ITHit.Phrases.AjaxFileBrowser.Exceptions.WrongBaseUrl.Paste(String(sUrl)));}_6cd.CheckUrlSchema(sUrl);var sUrl=ITHit.WebDAV.Client.Encoder.Decode(sUrl.replace(/\/?$/,"/"));this.BasePath=_6cd.GetRelativePath(sUrl);this.Host=_6cd.GetHost(sUrl);};ITHit.oNS.UrlUtils.CheckUrlSchema=function(sUrl){if(!/^http[s]?:\/\/(?:[^\/]+[\/]?)*$/.test(sUrl)){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException(ITHit.Phrases.AjaxFileBrowser.Exceptions.WrongBaseUrl.Paste(String(sUrl)));}};ITHit.oNS.UrlUtils.GetHost=function(sUrl){var _6ce=sUrl.match(/^(http[s]?:\/\/[^\/]+)/);if(!_6ce){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException(ITHit.Phrases.AjaxFileBrowser.Exceptions.WrongBaseUrl.Paste(String(sUrl)));}return _6ce[0]+"/";};ITHit.oNS.UrlUtils.prototype.CheckUrlAgainstBase=function(sUrl,_6cf){return true;if(0!==sUrl.indexOf(this.BasePath)){if(!_6cf){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException(ITHit.Phrases.AjaxFileBrowser.Exceptions.WrongUrl.Paste(sUrl));}else{return false;}}return true;};ITHit.oNS.UrlUtils.GetRelativePath=function(sUrl,_6d0){if(/^http[s]?\:/.test(sUrl)){sUrl=sUrl.replace(/^http[s]?\:\/\/[^\/]+\/?/,"/");}if(ITHit.Utils.IsUndefined(_6d0)){return sUrl;}else{return ITHit.WebDAV.ClientAjaxFileBrowser.UrlUtils.GetRelativePath(sUrl)+_6d0;}};ITHit.oNS.UrlUtils.prototype.GetRelativePath=ITHit.oNS.UrlUtils.GetRelativePath;ITHit.oNS.UrlUtils.prototype.GetAbsolutePath=function(sUrl){if(/https?\:\/\//.test(sUrl)){return sUrl;}var _6d1=ITHit.WebDAV.Client.AjaxFileBrowser;if(!/^\//.test(sUrl)){throw new _6d1.Exceptions.AjaxFileBrowserException(ITHit.Phrases.AjaxFileBrowser.Exceptions.WrongUrl.Paste(sUrl));}return this.Host+_6d1.UrlUtils.GetRelativePath(sUrl).substr(1);};ITHit.oNS.UrlUtils.GetFileName=function(sUrl){var _6d2=sUrl.lastIndexOf("/"),_6d3=sUrl.lastIndexOf("\\"),_6d4=sUrl;if(-1!=_6d2){_6d4=_6d4.substr(_6d2+1);}else{if(-1!=_6d3){_6d4=_6d4.substr(_6d3+1);}}return _6d4;};ITHit.oNS.UrlUtils.GetDirName=function(sUrl){var iPos=sUrl.lastIndexOf("/")+1||sUrl.lastIndexOf("\\")+1;if(iPos){return sUrl.substr(0,iPos);}return sUrl;};ITHit.oNS.UrlUtils.IsAbsolutePath=function(sUrl){if(/https?\:\/\//.test(sUrl)){return true;}return false;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.AjaxFileBrowser");ITHit.oNS.Utils={FixPNG:function(_6d5){var src,_6d6;if(/MSIE (5\.5|6).+Win/.test(navigator.userAgent)){if(_6d5.tagName=="IMG"){if(/\.png$/.test(_6d5.src)){if(_6d5.onload){_6d6=_6d5.onload;_6d5.onload=null;}src=_6d5.src;_6d5.src=ITHit.WebDAV.Client.AjaxFileBrowser.Utils.GetBlankGifPath();}}else{src=_6d5.currentStyle.backgroundImage.match(/url\("(.+\.png)"\)/i);if(src){src=src[1];_6d5.runtimeStyle.backgroundImage="none";}}if(src){if(_6d6){var _6d7=setTimeout(function(){ITHit.WebDAV.Client.AjaxFileBrowser.Controller.IconNotFound(_6d5);},300);_6d5.onfilterchange=function(_6d8){clearTimeout(_6d7);_6d6(_6d8);};}_6d5.runtimeStyle.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+src+"',sizingMethod='scale')";}}},GetBlankGifPath:function(){return "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";}};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.AjaxFileBrowser");ITHit.oNS.FileFormats={ProtectedExtentions:[],MsOfficeEditExtensions:["docx","doc","docm","dot","dotm","dotx","odt","xltx","xltm","xlt","xlsx","xlsm","xlsb","xls","xll","xlam","xla","ods","pptx","pptm","ppt","ppsx","ppsm","pps","ppam","ppa","potx","potm","pot","odp","accdb","mdb","xsn","xsf","pub","vstx","vstm","vst","vssx","vssm","vssm","vss","vsl","vsdx","vsdm","vsd","vdw","mpp","mpt"]};ITHit.WebDAV.Client.AjaxFileBrowser.HierarchyItem=function(_6d9){this.DisplayName=_6d9.DisplayName;this.Href=ITHit.WebDAV.Client.AjaxFileBrowser.UrlUtils.GetRelativePath(ITHit.WebDAV.Client.Encoder.Decode(_6d9.Href));this.ResourceType=_6d9.ResourceType;this.CreationDate=_6d9.CreationDate;this.LastModified=_6d9.LastModified;this.Item=_6d9;if(_6d9 instanceof ITHit.WebDAV.Client.Folder){this.Href=this.Href.replace(/\/?$/,"/");}};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.AjaxFileBrowser");ITHit.oNS.Folder=function(_6da){var _6db=ITHit.WebDAV.Client.AjaxFileBrowser;if(!(_6da instanceof ITHit.WebDAV.Client.Folder)){throw new _6db.Exception("ITHit.WebDAV.Client.Folder class instance expected.");}_6db.Folder.baseConstructor.call(this,_6da);};ITHit.Extend(ITHit.oNS.Folder,ITHit.oNS.HierarchyItem);ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.AjaxFileBrowser");ITHit.oNS.Resource=function(_6dc){var _6dd=ITHit.WebDAV.Client.AjaxFileBrowser;if(!(_6dc instanceof ITHit.WebDAV.Client.Resource)){throw new _6dd.Exception("ITHit.WebDAV.Client.Resource class instance expected.");}_6dd.Resource.baseConstructor.call(this,_6dc);this.ContentLength=_6dc.ContentLength;};ITHit.Extend(ITHit.oNS.Resource,ITHit.oNS.HierarchyItem);ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.AjaxFileBrowser");ITHit.oNS.Filter=function(_6de,_6df,_6e0){this._Controller=_6de;this._Collection=_6df;this.ShowFolders=_6e0||false;this._FileExtensions={only:{},except:{}};this._FileFilterFlag=0;this._ClassId="ITHit.WebDAV.Client.AjaxFileBrowser.Filter_"+ITHit.WebDAV.Client.AjaxFileBrowser.Filter._Counter++;};ITHit.oNS.Filter._Counter=0;ITHit.oNS.Filter.prototype.ShowFolders=function(_6e1){this.ShowFolders=_6e1||false;};ITHit.oNS.Filter.prototype.SetShowOnlyFileExtensions=function(_6e2){this._FileExtensions.only={};if(!_6e2){this._FileFilterFlag=0;return;}this.SetShowExceptFileExtensions();var _6e3=ITHit.Utils.IsArray(_6e2)?_6e2:[_6e2];for(var i=0,l=_6e3.length;i<l;i++){if(!ITHit.Utils.IsUndefined(this._FileExtensions.only[_6e3[i]])){continue;}this._FileExtensions.only[_6e3[i]]=true;}this._FileFilterFlag=1;};ITHit.oNS.Filter.prototype.GetShowOnlyFileExtensions=function(){var aOut=[];for(var sExt in this._FileExtensions.only){aOut.push(sExt);}return aOut;};ITHit.oNS.Filter.prototype.SetShowExceptFileExtensions=function(_6e4){this._FileExtensions.except={};if(!_6e4){this._FileFilterFlag=0;return;}this.SetShowOnlyFileExtensions();var _6e5=ITHit.Utils.IsArray(_6e4)?_6e4:[_6e4];for(var i=0,l=_6e5.length;i<l;i++){if(!ITHit.Utils.IsUndefined(this._FileExtensions.except[_6e5[i]])){continue;}this._FileExtensions.except[_6e5[i]]=true;}this._FileFilterFlag=2;};ITHit.oNS.Filter.prototype.GetShowExceptFileExtensions=function(){var aOut=[];for(var sExt in this._FileExtensions.except){aOut.push(sExt);}return aOut;};ITHit.oNS.Filter.prototype.Run=function(_6e6){var _6e7={"Folders":[],"Resources":[],ShowFolders:this.ShowFolders};if(_6e6){for(var i=0;i<_6e6.length;i++){if(_6e6[i].ResourceType!=this._Collection){if(this.FileCheck(_6e6[i].DisplayName)){if(!(_6e6[i] instanceof ITHit.WebDAV.Client.AjaxFileBrowser.Resource)){_6e6[i]=new ITHit.WebDAV.Client.AjaxFileBrowser.Resource(_6e6[i]);}_6e7["Resources"].push(_6e6[i]);}}else{if(!(_6e6[i] instanceof ITHit.WebDAV.Client.AjaxFileBrowser.Folder)){_6e6[i]=new ITHit.WebDAV.Client.AjaxFileBrowser.Folder(_6e6[i]);}_6e7["Folders"].push(_6e6[i]);}}}var func=function(a,b){return a.DisplayName.localeCompare(b.DisplayName);};_6e7.Folders.sort(func);_6e7.Resources.sort(func);return _6e7;};ITHit.oNS.Filter.prototype.FileCheck=function(_6e8){switch(this._FileFilterFlag){case 0:return true;case 1:var sExt=_6e8.substr(_6e8.lastIndexOf(".")+1);return this._FileExtensions.only[sExt]||false;case 2:var sExt=_6e8.substr(_6e8.lastIndexOf(".")+1);return !this._FileExtensions.except[sExt];}};ITHit.oNS.Filter.prototype.toString=function(){return this._ClassId;};(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.CopyMoveManager",function(){},{_Controller:null,_Action:null,_ItemUrls:null,_CurrentCommand:null,constructor:function(_6e9){this._Controller=_6e9;this._ItemUrls=[];},CopyItems:function(_6ea){this.Clear();this._Action=self.ACTION_COPY;this._ItemUrls=[].concat(_6ea);ITHit.Events.DispatchEvent(this,"OnUpdateItems");},CutItems:function(_6eb){this.Clear();this._Action=self.ACTION_MOVE;this._ItemUrls=[].concat(_6eb);ITHit.Events.DispatchEvent(this,"OnUpdateItems");},Clear:function(){this._ItemUrls=[];this._CurrentCommand=null;ITHit.Events.DispatchEvent(this,"OnUpdateItems");},GetItemsLength:function(){return this._ItemUrls.length;},GetAction:function(){return this._Action;},PasteTo:function(_6ec){if(!_6ec){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException(ITHit.Phrases.AjaxFileBrowser.Exceptions.DestinationLocationNotPassed);}if(this._ItemUrls.length===0){return;}if(this._Action===self.ACTION_COPY&&this._ItemUrls.length===1&&this._ItemUrls[0]===_6ec){_6ec=_6ec.replace(/[^\/]+\/?$/,"");}var _6ed=this._Action===self.ACTION_MOVE?"MoveQueueCommand":"CopyQueueCommand";this._CurrentCommand=this._Controller.Commands.Create(_6ed,{HrefList:this._ItemUrls,ToFolderHref:_6ec,OnOverwrite:ITHit.Utils.MakeScopeClosure(this,"_OnOverwrite"),OnSuccess:ITHit.Utils.MakeScopeClosure(this,"_OnFinish")});this._CurrentCommand.Execute();},SetOverwriteAction:function(_6ee){if(this._CurrentCommand===null){return;}var _6ef=this._CurrentCommand;if(_6ee===self.OVERWRITE_CANCEL){if(this._Action===self.ACTION_MOVE){this.Clear();}ITHit.Events.DispatchEvent(this,"OnCancel",[this._ItemUrls,_6ef.ToFolderHref,this._Action]);}_6ef.SetOverwriteAction(_6ee);},_OnOverwrite:function(_6f0){ITHit.Events.DispatchEvent(this,"OnOverwrite",[_6f0]);},_OnFinish:function(){if(this._Action===self.ACTION_MOVE){ITHit.Events.DispatchEvent(this,"OnMoveComplete",[this._ItemUrls,this._CurrentCommand.ToFolderHref,this._Action]);this.Clear();}else{ITHit.Events.DispatchEvent(this,"OnCopyComplete",[this._ItemUrls,this._CurrentCommand.ToFolderHref,this._Action]);}}},{ACTION_COPY:"copy",ACTION_MOVE:"move",OVERWRITE_CANCEL:"cancel",OVERWRITE_ASK:"ask",OVERWRITE_YES:"yes",OVERWRITE_NO:"no",OVERWRITE_YES_ALL:"yes_all",OVERWRITE_NO_ALL:"no_all"});})();ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.AjaxFileBrowser.HistoryNavigation");ITHit.oNS.HistoryAPIAdapter=function(){if(!ITHit.WebDAV.Client.AjaxFileBrowser.HistoryNavigation.HistoryAPIAdapter.CheckSupport()){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException(ITHit.Phrases.AjaxFileBrowser.Exceptions.FunctionalityNotSupported.Paste("History API"));}this._ClassId="ITHit.WebDAV.Client.AjaxFileBrowser.HistoryNavigation.HistoryAPIAdapter_"+ITHit.WebDAV.Client.AjaxFileBrowser.HistoryNavigation.HistoryAPIAdapter._Counter++;window.onpopstate=ITHit.Utils.MakeScopeClosure(this,"OnPopstateHandler");};ITHit.oNS.HistoryAPIAdapter._Counter=0;ITHit.oNS.HistoryAPIAdapter.CheckSupport=function(){return !ITHit.Utils.IsUndefined(history.pushState);};ITHit.oNS.HistoryAPIAdapter.prototype.Set=function(url){try{history.pushState({Url:url},"","#"+url);}catch(e){if(typeof window.console!=="undefined"){console.error(e);}}};ITHit.oNS.HistoryAPIAdapter.prototype.Replace=function(url){try{history.replaceState({Url:url},"","#"+url);}catch(e){if(typeof window.console!=="undefined"){console.error(e);}}};ITHit.oNS.HistoryAPIAdapter.prototype.OnPopstateHandler=function(_6f1){ITHit.Events.DispatchEvent(this,"OnHistoryChange",[_6f1.state?_6f1.state.Url:document.location.hash.replace("#","")]);};ITHit.oNS.HistoryAPIAdapter.prototype.Destroy=function(){window.onpopstate=null;ITHit.Events.RemoveAllListeners(this);};ITHit.oNS.HistoryAPIAdapter.prototype.toString=function(){return this._ClassId;};(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.HistoryNavigation.HashChangeAdapter",null,{ChangeFlag:null,_StopEvent:null,constructor:function(){if(!ITHit.WebDAV.Client.AjaxFileBrowser.HistoryNavigation.HashChangeAdapter.CheckSupport()){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException(ITHit.Phrases.AjaxFileBrowser.Exceptions.FunctionalityNotSupported.Paste("onhashchange"));}if(ITHit.DetectBrowser.IE&&(ITHit.DetectBrowser.IE<=8)){this._StopEvent=function(e){ITHit.Events.Stop(e);};}window.onhashchange=ITHit.Utils.MakeScopeClosure(this,"OnHashChangeHandler");},Set:function(url){this.ChangeFlag=true;document.location.hash=url;},OnHashChangeHandler:function(_6f2){if(this.ChangeFlag){this.ChangeFlag=false;return false;}try{var _6f3;if(this._StopEvent){_6f3=window.onunload;window.onunload=this._StopEvent;}ITHit.Events.DispatchEvent(this,"OnHistoryChange",[document.location.hash.replace("#","")]);if(this._StopEvent){window.onunload=_6f3;}}catch(e){alert(e);}},Destroy:function(){window.onhashchange=null;ITHit.Events.RemoveAllListeners(this);}},{CheckSupport:function(){return "onhashchange" in window;}});})();ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.AjaxFileBrowser.HistoryNavigation");ITHit.oNS.HashIntervalAdapter=function(){this.Hash=document.location.hash;this._StopEvent=null;this._ClassId="ITHit.WebDAV.Client.AjaxFileBrowser.HistoryNavigation.HashIntervalAdapter_"+ITHit.WebDAV.Client.AjaxFileBrowser.HistoryNavigation.HashIntervalAdapter._Counter++;this.ChangeFlag;if(ITHit.DetectBrowser.IE&&(ITHit.DetectBrowser.IE<=8)){this._StopEvent=function(e){ITHit.Events.Stop(e);};}this._Inerval=setInterval(ITHit.Utils.MakeScopeClosure(this,"_CheckHashChange"),700);};ITHit.oNS.HashIntervalAdapter._Counter=0;ITHit.oNS.HashIntervalAdapter.CheckSupport=function(){return true;};ITHit.oNS.HashIntervalAdapter.prototype._CheckHashChange=function(){var _6f4=document.location.hash;if(this.Hash!=_6f4){this.Hash=_6f4;this.OnHashchangeHandler(_6f4);}};ITHit.oNS.HashIntervalAdapter.prototype.Set=function(url){this.ChangeFlag=true;document.location.hash=url;};ITHit.oNS.HashIntervalAdapter.prototype.OnHashchangeHandler=function(hash){if(this.ChangeFlag){this.ChangeFlag=false;return false;}var _6f5;if(this._StopEvent){_6f5=window.onunload;window.onunload=this._StopEvent;}ITHit.Events.DispatchEvent(this,"OnHistoryChange",[hash.replace("#","")]);if(this._StopEvent){window.onunload=_6f5;}};ITHit.oNS.HashIntervalAdapter.prototype.Destroy=function(){clearInterval(this._Inerval);ITHit.Events.RemoveAllListeners(this);};ITHit.oNS.HashIntervalAdapter.prototype.toString=function(){return this._ClassId;};(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.HistoryNavigation.HistoryController",null,{HistoryAdapter:null,_Enabled:true,_LastHistoryHash:null,_HistoryHashList:null,_FlagSkipNextChangeEvent:null,constructor:function(){this._HistoryHashList=[];var _6f6=["HistoryAPIAdapter","HashChangeAdapter","HashIntervalAdapter"];var _6f7=ITHit.WebDAV.Client.AjaxFileBrowser.HistoryNavigation;for(var i=0,l=_6f6.length;i<l;i++){if(_6f7[_6f6[i]].CheckSupport()){this.HistoryAdapter=new _6f7[_6f6[i]]();break;}}ITHit.Events.AddListener(this.HistoryAdapter,"OnHistoryChange","_OnHistoryChangeHandler",this);},SetEnabled:function(_6f8){this._Enabled=_6f8;},GetLength:function(){return this._HistoryHashList.length;},SetHash:function(_6f9){var _6fa=self.ParseHash(_6f9);switch(_6fa.Type){case "search":this.SetSearchQuery(_6fa.SearchQuery,_6fa.Url);break;case "url":this.SetUrl(_6fa.Url);break;}this._TriggerHistoryEvents(_6f9);},SetUrl:function(sUrl){sUrl=ITHit.WebDAV.Client.Encoder.Encode(sUrl);this._SetHashInternal(sUrl);},UpdateCurrentUrl:function(sUrl){sUrl=ITHit.WebDAV.Client.Encoder.Encode(sUrl);this._ReplaceHashInternal(sUrl);},SetSearchQuery:function(_6fb,sUrl){sUrl=ITHit.WebDAV.Client.Encoder.Encode(sUrl);_6fb=_6fb.replace(":","");_6fb=ITHit.WebDAV.Client.Encoder.Encode(_6fb);this._SetHashInternal("search:"+_6fb+":"+sUrl);},Back:function(){history.back();},Forward:function(){history.forward();},Destroy:function(){this.HistoryAdapter.Destroy();ITHit.Events.RemoveAllListeners(this);},_SetHashInternal:function(_6fc){if(this._LastHistoryHash===_6fc){return;}this._LastHistoryHash=_6fc;this._SaveInList(_6fc);if(this._Enabled){this.HistoryAdapter.Set(_6fc);}ITHit.Events.DispatchEvent(this,"OnSetHash",[_6fc]);},_ReplaceHashInternal:function(_6fd){this._LastHistoryHash=_6fd;this._HistoryHashList[(this._HistoryHashList.length||-1)-1]=_6fd;if(this.HistoryAdapter.Replace){this.HistoryAdapter.Replace(_6fd);}else{this._FlagSkipNextChangeEvent=true;history.back();if(this._Enabled){this.HistoryAdapter.Set(_6fd);}}},_SaveInList:function(_6fe){if(this._HistoryHashList.length===0||this._HistoryHashList[this._HistoryHashList.length-1]!==_6fe){this._HistoryHashList.push(_6fe);}},_OnHistoryChangeHandler:function(_6ff){if(!this._Enabled||this._FlagSkipNextChangeEvent){this._FlagSkipNextChangeEvent=false;return;}this._TriggerHistoryEvents(_6ff);},_TriggerHistoryEvents:function(_700){this._LastHistoryHash=_700;this._SaveInList(_700);var _701=self.ParseHash(_700);switch(_701.Type){case "search":ITHit.Events.DispatchEvent(this,"OnSearchQueryChange",[_701.SearchQuery,_701.Url]);break;case "url":ITHit.Events.DispatchEvent(this,"OnUrlChange",[_701.Url]);break;}ITHit.Events.DispatchEvent(this,"OnSetHash",[_700]);}},{ParseHash:function(_702){_702=ITHit.WebDAV.Client.Encoder.Decode(_702);if(_702.indexOf("search:")===0){var _703=/search:([^:]+):?(.+)?/.exec(_702);if(_703){return {Type:"search",SearchQuery:ITHit.WebDAV.Client.Encoder.Decode(_703[1]),Url:ITHit.WebDAV.Client.Encoder.Decode(_703[2]||"")};}}return {Type:"url",Url:ITHit.WebDAV.Client.Encoder.Decode(_702)};}});})();ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.AjaxFileBrowser");ITHit.oNS.Session=function(_704){var _705=ITHit.WebDAV.Client.AjaxFileBrowser;try{this._Session=new ITHit.WebDAV.Client.WebDavSession();}catch(e){if("The trial period has expired."==e){ITHit.WebDAV.Client.AjaxFileBrowser.Render.Dialog.TrialPeriodExpired();}else{throw e;}}this.Host=_704;this.Instances={Folder:_705.Folder,Resource:_705.Resource,HierItem:_705.HierarchyItem};this._ClassId="ITHit.WebDAV.Client.AjaxFileBrowser.Session_"+ITHit.WebDAV.Client.AjaxFileBrowser.Session._Counter++;};ITHit.oNS.Session._Counter=0;ITHit.oNS.Session.prototype.GetWebDavSession=function(){return this._Session;};ITHit.oNS.Session.prototype._AlertException=function(e,_706){switch(_706){case "Session.OpenFolder":return;}var _707=this._GetMessageFromException(e,_706);if(ITHit.WebDAV.Client.AjaxFileBrowser.Render.Dialog){ITHit.WebDAV.Client.AjaxFileBrowser.Render.Dialog.ShowMessage(_707);}else{if(typeof window.console!=="undefined"){console.error("TODO",_707);}}};ITHit.oNS.Session.prototype._GetMessageFromException=function(e,_708){var _709=[];_709.push(ITHit.Phrases.AjaxFileBrowser.Interface.OperationCannotBePerformed);_709.push(_708);if(e instanceof ITHit.WebDAV.Client.Exceptions.WebDavHttpException){_709.push(e.Message+" "+e.Status.Code+" "+e.Status.Description);for(var i=0,l=e.Multistatus.Responses.length;i<l;i++){var _70a=e.Multistatus.Responses[i];_709.push(_70a.Message+" "+_70a.Status.Code+" "+_70a.Status.Description);}}else{_709.push(e.message);}return _709.join("\n");};ITHit.oNS.Session.prototype.GetAbsolutePath=function(sUrl,_70b){sUrl=this.Host+sUrl.substr(1);if(_70b){return sUrl;}return ITHit.WebDAV.Client.Encoder.Encode(sUrl);};ITHit.oNS.Session.prototype.OpenItem=function(sUrl){try{var _70c=this.GetAbsolutePath(sUrl,true);var _70d=this._Session.OpenItem(_70c);}catch(e){this._AlertException(e,"Session.OpenItem");return false;}if(_70d instanceof ITHit.WebDAV.Client.Folder){return new this.Instances.Folder(_70d);}else{return new this.Instances.Resource(_70d);}};ITHit.oNS.Session.prototype.CreateFolderAsync=function(sUrl,_70e,_70f){return this._Session.CreateFolderAsync(sUrl,_70e,_70f);};ITHit.oNS.Session.prototype.GetUploadProgress=function(sUrl){return this._Session.GetUploadProgress(sUrl);};ITHit.oNS.Session.prototype.GetUploadProgressAsync=function(sUrl,_710){return this._Session.GetUploadProgressAsync(sUrl,_710);};ITHit.oNS.Session.prototype.GetSupportedFeaturesAsync=function(sUrl,_711){return this._Session.GetSupportedFeaturesAsync(sUrl,_711);};ITHit.oNS.Session.prototype.DeleteAsync=function(sUrl,_712,_713){return this._Session.DeleteAsync(sUrl,_712,_713);};ITHit.oNS.Session.prototype.CancelUploadAsync=function(sUrl,_714,_715){return this._Session.CancelUploadAsync(sUrl,_714,_715);};ITHit.oNS.Session.prototype.ItemExists=function(sUrl){try{this._Session.OpenItem(ITHit.WebDAV.Client.Encoder.Encode(sUrl));return true;}catch(e){if(e instanceof ITHit.WebDAV.Client.Exceptions.NotFoundException){return false;}this._AlertException(e,"Session.ItemExists");return false;}};ITHit.oNS.Session.prototype.ItemExistsAsync=function(sUrl,_716){try{return this._Session.OpenItemAsync(ITHit.WebDAV.Client.Encoder.Encode(sUrl),function(_717){if(_716){var _718=new ITHit.WebDAV.Client.AsyncResult(_717.IsSuccess,_717.IsSuccess,_717.Error);_716.call(this,_718);}});}catch(e){this._AlertException(e,"Session.ItemExists");}};ITHit.oNS.Session.prototype.CancelUpload=function(_719){if(!(_719 instanceof this.Instances.Resource)){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException(ITHit.Phrases.Exceptions.ResourceInstanceExpected);}try{return _719.Item.CancelUpload();}catch(e){return false;}};ITHit.oNS.Session.prototype.SetCredentials=function(user,pass){return this._Session.SetCredentials(user,pass);};ITHit.oNS.Session.prototype.GetIisDetected=function(){return this._Session.GetIisDetected();};ITHit.oNS.Session.prototype.Undelete=function(sUrl){try{return this._Session.Undelete(sUrl);}catch(e){return false;}};ITHit.oNS.Session.prototype.toString=function(){return this._ClassId;};(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.ItemsCollection",null,{_Items:null,_IsEnabled:true,_MaxSize:null,constructor:function(){this._Items={};this._MaxSize=ITHit.DetectDevice.Mobile?2000:10000;},IsEnabled:function(){return this._IsEnabled;},SetEnabled:function(_71a){this._IsEnabled=!!_71a;},SetMaxSize:function(_71b){this._MaxSize=_71b;},Set:function(_71c,_71d){var _71e=this.Has(_71c);this._CheckToClear();if(this.IsEnabled()){this._Items[_71c]=_71d;}ITHit.Events.DispatchEvent(this,_71e?"OnChange":"OnAdd",[_71c,_71d]);ITHit.Events.DispatchEvent(this,"OnSet",[_71c,_71d]);},SetDeprecated:function(_71f){delete this._Items[_71f];ITHit.Events.DispatchEvent(this,"OnDeprecated",[_71f]);},Has:function(_720){return this._Items.hasOwnProperty(_720);},Get:function(_721){return this._Items[_721]||null;},GetSize:function(){var _722=0;for(var sUrl in this._Items){if(!this._Items.hasOwnProperty(sUrl)){continue;}_722+=ITHit.Utils.IsArray(this._Items[sUrl])?this._Items[sUrl].length:1;}return _722;},CleanItems:function(_723){var _724=0;for(var sUrl in this._Items){if(!this._Items.hasOwnProperty(sUrl)){continue;}_724+=ITHit.Utils.IsArray(this._Items[sUrl])?this._Items[sUrl].length:1;delete this._Items[sUrl];if(_724>=_723){break;}}},Remove:function(_725){delete this._Items[_725];ITHit.Events.DispatchEvent(this,"OnRemove",[_725]);},RemoveAll:function(){var _726=this._Items;this._Items={};for(var sUrl in _726){if(_726.hasOwnProperty(sUrl)){}}},_CheckToClear:function(){var _727=this.GetSize();if(_727>this._MaxSize){this.CleanItems(_727-this._MaxSize);}}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.ProgressInfo",null,{_Complete:0,_Total:0,constructor:function(_728,_729){this._Complete=_728;this._Total=_729;},GetComplete:function(){return this._Complete;},GetTotal:function(){return this._Total;},GetPercent:function(){if(!this._Total){return 0;}return Math.round((this._Complete*100/this._Total)*10)/10;},GetText:function(){return this._Complete+"/"+this._Total;}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.RequestsProgressInfo",ITHit.WebDAV.Client.AjaxFileBrowser.Commands.ProgressInfo,{_XhrProgresses:null,constructor:function(_72a){this._XhrProgresses=_72a;for(var i=0,l=this._XhrProgresses.length;i<l;i++){var _72b=this._XhrProgresses[i];if(_72b.loaded===_72b.total){continue;}this._Complete+=_72b.loaded;this._Total+=_72b.total;}},GetText:function(){return this.GetPercent()+"%";}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.BaseCommand",null,{OnSuccess:null,OnError:null,OnFinish:null,OnAbort:null,OnUndo:null,_CommandsController:null,_CommandsCollection:null,_Status:null,_Errors:null,_SessionRequests:null,_SessionProgresses:null,_ProgressTriggerTimeout:null,constructor:function(_72c,_72d,_72e){_72e=_72e||{};this._CommandsController=_72c;this._CommandsCollection=_72d;this._Status=self.STATUS_CREATED;this._Errors=[];for(var key in _72e){if(_72e.hasOwnProperty(key)&&!ITHit.Utils.IsUndefined(this[key])){this[key]=_72e[key];}}this._Initialize();},GetTitle:function(){return ITHit.Phrases.AjaxFileBrowser.Commands.Names.Load;},GetProcessTitle:function(){return ITHit.Phrases.AjaxFileBrowser.Commands.Process.Load;},GetUniqueId:function(){return this.toString();},IsEditable:function(){return false;},IsCreated:function(){return this._Status===self.STATUS_CREATED;},IsFinish:function(){return this._Status===self.STATUS_FINISH||this._Status===self.STATUS_CANCELLED||this._Status===self.STATUS_ABORTED;},IsProcess:function(){return this._Status===self.STATUS_PROCESS;},IsCancelled:function(){return this._Status===self.STATUS_CANCELLED||this._Status===self.STATUS_ABORTED;},GetCommandsController:function(){return this._CommandsController;},SetUpdatedUrl:function(sUrl,_72f){switch(_72f){case self.UPDATE_TYPE_ADD:if(this._CommandsController.FoldersCollection.Has(sUrl)&&this._CommandsController.FoldersCollection.Get(sUrl)===null){this._CommandsController.FoldersCollection.Remove(sUrl);}if(this._CommandsController.ResourcesCollection.Has(sUrl)&&this._CommandsController.ResourcesCollection.Get(sUrl)===null){this._CommandsController.ResourcesCollection.Remove(sUrl);}break;case self.UPDATE_TYPE_CHANGE:this._CommandsCollection.AddLazyUpdateUrl(sUrl);break;case self.UPDATE_TYPE_REMOVE:this._CommandsController.FoldersCollection.Remove(sUrl);this._CommandsController.ResourcesCollection.Remove(sUrl);break;}var _730=ITHit.WebDAV.Client.HierarchyItem.GetFolderParentUri(sUrl);this._CommandsCollection.AddLazyUpdateUrl(_730);},AddError:function(_731){this._Errors.push(_731);},SetErrors:function(_732){this._Errors=_732;},HasErrors:function(){return this._Errors.length>0;},GetErrors:function(){return this._Errors;},HaveErrorHandlers:function(){return this.OnError!==null;},Execute:function(){},UnExecute:function(){},Abort:function(){},_Initialize:function(){},_TriggerFinish:function(){},_TriggerAbort:function(){},_TriggerFinishUnExecute:function(){}},{STATUS_CREATED:"created",STATUS_PROCESS:"process",STATUS_FINISH:"finish",STATUS_ABORTED:"aborted",STATUS_CANCELLED:"cancelled",UPDATE_TYPE_ADD:"add",UPDATE_TYPE_CHANGE:"change",UPDATE_TYPE_REMOVE:"remove",GetNameFromHref:function(_733){var _734=/([^\/]+)\/?$/.exec(_733);return _734!==null?_734[1]:_733;}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.QueueCommand",ITHit.WebDAV.Client.AjaxFileBrowser.Commands.BaseCommand,{_Commands:null,_RunPosition:0,constructor:function(){this._Commands=[];this._super.apply(this,arguments);},GetTitle:function(){var _735=this._Commands[this._RunPosition-1]||this._Commands[0];return _735?_735.GetTitle():this._super();},GetProcessTitle:function(){var _736=this._Commands[this._RunPosition-1]||this._Commands[0];return _736?_736.GetProcessTitle():this._super();},IsEditable:function(){var _737=false;for(var i=0,l=this._Commands.length;i<l;i++){if(this._Commands[i].IsEditable()){_737=true;}}return _737;},Add:function(_738){this._Commands.push(_738);var that=this;ITHit.Events.AddListener(_738,"OnFinish",function(){that._AfterExecuteItem(_738,function(){if(_738.HasErrors()){that.AppendCommandErrors(_738);that._TriggerFinish();}else{that._ExecuteTryNext();}});},this);ITHit.Events.AddListener(_738,"OnAbort",function(){that.AppendCommandErrors(_738);that.Abort();},this);ITHit.Events.AddListener(_738,"OnUndo",function(){that._AfterUnExecuteItem(_738,function(){that.AppendCommandErrors(_738);that._UnExecuteTryNext();});},this);},AppendCommandErrors:function(_739){var _73a=_739.GetErrors();for(var i=0,l=_73a.length;i<l;i++){this.AddError(_73a[i]);}},GetLength:function(){return this._Commands.length;},Execute:function(){this._Status=self.STATUS_PROCESS;ITHit.Events.DispatchEvent(this,"OnStart");this._ExecuteTryNext();},_ExecuteTryNext:function(){if(!this.IsProcess()){return;}var _73b=Math.min(this._RunPosition,this._Commands.length);var _73c=new ITHit.WebDAV.Client.AjaxFileBrowser.Commands.ProgressInfo(_73b,this._Commands.length);ITHit.Events.DispatchEvent(this,"OnProgress",[_73c]);if(this._RunPosition>this._Commands.length){this._TriggerFinish();return;}this._RunPosition++;var _73d=this._Commands[this._RunPosition-1];if(!_73d||this.HasErrors()){this._TriggerFinish();return;}var that=this;this._BeforeExecuteItem(_73d,function(){if(_73d.HasErrors()){that.AppendCommandErrors(_73d);that._TriggerFinish();}else{_73d.Execute();}});},UnExecute:function(){this._Errors=[];this.Abort();this._UnExecuteTryNext();},Abort:function(){this._Status=self.STATUS_CANCELLED;for(var i=0,l=this._Commands.length;i<l;i++){if(this._Commands[i].IsProcess()){this._Commands[i].Abort();}}this._TriggerAbort();},_UnExecuteTryNext:function(){if(this._Status!==self.STATUS_CANCELLED){return;}var _73e=Math.min(this._RunPosition,this._Commands.length);var _73f=new ITHit.WebDAV.Client.AjaxFileBrowser.Commands.ProgressInfo(_73e,this._Commands.length);ITHit.Events.DispatchEvent(this,"OnProgress",[_73f]);if(this._RunPosition<1){this._TriggerFinishUnExecute();return;}this._RunPosition--;var _740=this._Commands[this._RunPosition-1]||null;if(!_740){this._TriggerFinishUnExecute();return;}this._BeforeUnExecuteItem(_740,function(){_740.UnExecute();});},_TriggerFinish:function(){if(!this.IsProcess()){return;}this._Status=self.STATUS_FINISH;var _741=[];for(var i=0,l=this._Commands.length;i<l;i++){if(this._Commands[i].IsFinish()){_741.push(this._Commands[i]);}}if(ITHit.Utils.IsFunction(this.OnFinish)){this.OnFinish(_741,this._Errors);}ITHit.Events.DispatchEvent(this,"OnFinish",[_741,this._Errors]);if(this.HasErrors()){if(ITHit.Utils.IsFunction(this.OnError)){this.OnError(this._Errors);}ITHit.Events.DispatchEvent(this,"OnError",[this._Errors]);}else{if(ITHit.Utils.IsFunction(this.OnSuccess)){this.OnSuccess(_741);}ITHit.Events.DispatchEvent(this,"OnSuccess",[_741]);}this._super();},_TriggerAbort:function(){var _742=[];var _743=[];for(var i=0,l=this._Commands.length;i<l;i++){if(this._Commands[i].IsCancelled()){_743.push(this._Commands[i]);}else{if(this._Commands[i].IsFinish()){_742.push(this._Commands[i]);}}}if(ITHit.Utils.IsFunction(this.OnFinish)){this.OnFinish(_742,this._Errors);}ITHit.Events.DispatchEvent(this,"OnFinish",[_742,this._Errors]);if(ITHit.Utils.IsFunction(this.OnAbort)){this.OnAbort(_743);}ITHit.Events.DispatchEvent(this,"OnAbort",[_743]);this._super();},_BeforeExecuteItem:function(_744,_745){_745();},_AfterExecuteItem:function(_746,_747){_747();},_BeforeUnExecuteItem:function(_748,_749){_749();},_AfterUnExecuteItem:function(_74a,_74b){_74b();}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.BaseRequestCommand",ITHit.WebDAV.Client.AjaxFileBrowser.Commands.BaseCommand,{_SessionRequests:null,_SessionProgresses:null,_ProgressTriggerTimeout:null,constructor:function(_74c,_74d,_74e){_74e=_74e||{};this._SessionRequests=[];this._SessionProgresses=[];this._super(_74c,_74d,_74e);},Execute:function(){if(this.IsProcess()){return;}this._Status=self.STATUS_PROCESS;ITHit.Events.DispatchEvent(this,"OnStart");this._ExecuteInternal();},UnExecute:function(){if(this.IsCreated()){return;}this._AbortSessionRequests();this._UnExecuteInternal();},Abort:function(){if(!this.IsProcess()){return;}this._Status=self.STATUS_ABORTED;this._AbortSessionRequests();this._TriggerAbort();},_AbortSessionRequests:function(){for(var i=0,l=this._SessionRequests.length;i<l;i++){if(this._SessionRequests[i]){this._SessionRequests[i].Abort();delete this._SessionRequests[i];delete this._SessionProgresses[i];}}},AddSessionRequest:function(_74f){if(!_74f){return;}var _750=this._SessionRequests.length;this._SessionRequests[_750]=_74f;var that=this;_74f.OnProgress=function(_751){that._OnAnyProgress(_750,_751);};},_OnAnyProgress:function(_752,_753){this._SessionProgresses[_752]=_753;var that=this;if(this._ProgressTriggerTimeout){clearTimeout(this._ProgressTriggerTimeout);}this._ProgressTriggerTimeout=setTimeout(function(){if(!that.IsProcess()){return;}var _754=[];for(var i in that._SessionProgresses){if(that._SessionProgresses.hasOwnProperty(i)){_754.push(that._SessionProgresses[i]);}}var _755=new ITHit.WebDAV.Client.AjaxFileBrowser.Commands.RequestsProgressInfo(_754);ITHit.Events.DispatchEvent(that,"OnProgress",[_755]);},10);},_ExecuteInternal:function(){},_UnExecuteInternal:function(){},_DestroyEvents:function(){},_TriggerFinish:function(){if(!this.IsProcess()){return;}this._Status=self.STATUS_FINISH;if(ITHit.Utils.IsFunction(this.OnFinish)){this.OnFinish(arguments,this._Errors);}ITHit.Events.DispatchEvent(this,"OnFinish",[arguments,this._Errors]);if(this.HasErrors()){if(ITHit.Utils.IsFunction(this.OnError)){this.OnError(this._Errors);}ITHit.Events.DispatchEvent(this,"OnError",[this._Errors]);}else{if(ITHit.Utils.IsFunction(this.OnSuccess)){this.OnSuccess.apply(this,arguments);}ITHit.Events.DispatchEvent(this,"OnSuccess",arguments);}this._DestroyEvents();this._super();},_TriggerAbort:function(){if(ITHit.Utils.IsFunction(this.OnFinish)){this.OnFinish(arguments,this._Errors);}ITHit.Events.DispatchEvent(this,"OnFinish",[[],this._Errors]);if(ITHit.Utils.IsFunction(this.OnAbort)){this.OnAbort(arguments);}ITHit.Events.DispatchEvent(this,"OnAbort",arguments);this._DestroyEvents();this._super();},_TriggerFinishUnExecute:function(){if(ITHit.Utils.IsFunction(this.OnUndo)){this.OnUndo(arguments);}ITHit.Events.DispatchEvent(this,"OnUndo",arguments);this._super();}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.CopyCommand",ITHit.WebDAV.Client.AjaxFileBrowser.Commands.BaseRequestCommand,{Href:null,ToFolderHref:null,NewName:null,Overwrite:false,_Item:null,_FolderItem:null,GetTitle:function(){return ITHit.Phrases.AjaxFileBrowser.Commands.Names.Copy;},GetProcessTitle:function(){var _756=self.GetNameFromHref(this.Href);return ITHit.Phrases.AjaxFileBrowser.Commands.Process.Copy.Paste(_756);},IsEditable:function(){return true;},GetFutureUrl:function(){var _757=this.Href.substr(this.Href.length-1,1)==="/";return this.ToFolderHref+this.NewName+(_757?"/":"");},_Initialize:function(){if(this.Href===null||this.ToFolderHref===null){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Params `Href`, `ToFolderHref` is required in Copy/Move Command.");}this.Href=this._CommandsController.NormalizeUrl(this.Href);this.ToFolderHref=this._CommandsController.NormalizeFolderUrl(this.ToFolderHref);if(this.NewName===null){var _758=/([^\/]+)\/?$/.exec(this.Href);if(_758===null){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Cannot parse item name in href `"+this.Href+"`");}this.NewName=_758[1];}},_ExecuteInternal:function(){var that=this;ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadItemCommand.LoadInline(this,this.Href,false,function(_759){that._Item=_759;ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadItemCommand.LoadInline(that,that.ToFolderHref,false,function(_75a){that._FolderItem=_75a;if(that.Href===that.GetFutureUrl()){that._CheckAndAppendCopySuffix(function(){that._DoCopy();});}else{that._DoCopy();}});});},_UnExecuteInternal:function(){if(this._Item===null||this._FolderItem===null){return;}var that=this;var _75b=this._FolderItem.Href+(this.NewName||this._Item.DisplayName);ITHit.WebDAV.Client.AjaxFileBrowser.Commands.DeleteCommand.DeleteInline(that,_75b,function(_75c){that._TriggerFinishUnExecute(_75c);});},_DoCopy:function(){var that=this;self.CopyInline(this,this._Item,this._FolderItem,this.NewName,this.Overwrite,function(){that._TriggerFinish();});},_CheckAndAppendCopySuffix:function(_75d){var that=this;ITHit.WebDAV.Client.AjaxFileBrowser.Commands.ItemExistsCommand.CheckInline(this,this.GetFutureUrl(),false,function(_75e){if(!_75e){_75d();return;}var _75f=/\.[^\.]+$/.exec(that.NewName);var _760=_75f!==null?that.NewName.replace(_75f[0],""):that.NewName;var _761=_75f!==null?_75f[0]:"";var _762=ITHit.Phrases.AjaxFileBrowser.Interface.CopyPattern;var _763=new RegExp("- "+_762+"( \\(([0-9]+)\\))?$","i");var _764=_763.exec(_760);if(_764===null){_760+=" - "+_762;}else{if(!_764[1]){_760+=" (2)";}else{var _765=parseInt(_764[2])+1;_760=_760.replace(_763,"- "+_762+" ("+_765+")");}}that.NewName=_760+_761;that._CheckAndAppendCopySuffix(_75d);});}},{CopyInline:function(_766,_767,_768,_769,_76a,_76b){_769=_769||"";_76a=!ITHit.Utils.IsUndefined(_76a)?_76a:null;_769=(_769||_767.DisplayName)+(_767 instanceof ITHit.WebDAV.Client.AjaxFileBrowser.Folder?"/":"");_766.AddSessionRequest(_767.Item.CopyToAsync(_768.Item,_769,true,_76a,null,function(_76c){_766.SetUpdatedUrl(_768.Href+_769,self.UPDATE_TYPE_ADD);if(_76c.IsSuccess){_76b.call(_766,_76c.Result);}else{var _76d=_76c.Error&&_76c.Error instanceof ITHit.WebDAV.Client.Exceptions.PreconditionFailedException;if(_76a===false&&_76d){}else{if(_76d){_76c.Error.Message=ITHit.Phrases.AjaxFileBrowser.Interface.ItemAlreadyExists;}_766.AddError(_76c.Error);}_76b.call(_766,null);}}));}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.CopyQueueCommand",ITHit.WebDAV.Client.AjaxFileBrowser.Commands.QueueCommand,{HrefList:null,ToFolderHref:null,OnOverwrite:null,_OverwriteAction:null,_LastCommand:null,SetOverwriteAction:function(_76e){if(this._LastCommand===null){return;}this._OverwriteAction=_76e;var _76f=this._LastCommand;this._LastCommand=null;if(this._OverwriteAction!==self.OVERWRITE_CANCEL){if(this._OverwriteAction===self.OVERWRITE_YES||this._OverwriteAction===self.OVERWRITE_YES_ALL){_76f.Overwrite=true;this._RunPosition--;}else{this._ResetOverwrite();}this._ExecuteTryNext();}else{this._Status=self.STATUS_CANCELLED;this._TriggerAbort();}},_Initialize:function(){this._OverwriteAction=self.OVERWRITE_ASK;for(var i=0,l=this.HrefList.length;i<l;i++){this._CreateCommand(this.HrefList[i]);}},_CreateCommand:function(_770){return this._CommandsCollection.CreateForQueue(this,"CopyCommand",{Href:_770,ToFolderHref:this.ToFolderHref});},_NeedOverwriteAsk:function(sUrl,_771){if(sUrl===_771){return false;}return this._OverwriteAction===self.OVERWRITE_ASK;},_BeforeExecuteItem:function(_772,_773){switch(this._OverwriteAction){case self.OVERWRITE_YES:case self.OVERWRITE_YES_ALL:_772.Overwrite=true;break;case self.OVERWRITE_NO:case self.OVERWRITE_NO_ALL:_772.Overwrite=false;break;default:_772.Overwrite=null;break;}this._ValidateCommand(_772);_773();},_AfterExecuteItem:function(_774,_775){var _776=_774.GetErrors();if(_776.length===1&&_776[0] instanceof ITHit.WebDAV.Client.Exceptions.PreconditionFailedException){var sUrl=_774.Href;var _777=_774.GetFutureUrl();if(this._NeedOverwriteAsk(sUrl,_777)){_774.SetErrors([]);this._LastCommand=_774;this._TriggerOverwrite(_777);return;}}this._ResetOverwrite();_775();},_ResetOverwrite:function(){if(this._OverwriteAction===self.OVERWRITE_YES||this._OverwriteAction===self.OVERWRITE_NO){this._OverwriteAction=self.OVERWRITE_ASK;}},_TriggerOverwrite:function(_778){var _779=this._CommandsController.GetAbsolutePath(_778,true);if(ITHit.Utils.IsFunction(this.OnOverwrite)){this.OnOverwrite(_779);}ITHit.Events.DispatchEvent(this,"OnOverwrite",[_779]);},_ValidateCommand:function(_77a){return true;}},{OVERWRITE_CANCEL:"cancel",OVERWRITE_ASK:"ask",OVERWRITE_YES:"yes",OVERWRITE_NO:"no",OVERWRITE_YES_ALL:"yes_all",OVERWRITE_NO_ALL:"no_all"});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.CreateFolderCommand",ITHit.WebDAV.Client.AjaxFileBrowser.Commands.BaseRequestCommand,{Href:null,Name:null,GetTitle:function(){return ITHit.Phrases.AjaxFileBrowser.Commands.Names.CreateFolder;},GetProcessTitle:function(){return ITHit.Phrases.AjaxFileBrowser.Commands.Process.CreateFolder.Paste(this.Name);},IsEditable:function(){return true;},_Initialize:function(){if(this.Href===null){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Param `Href` is required in CreateFolderCommand.");}if(this.Name===null){var _77b=/([^\/]+)\/?$/.exec(this.Href);if(_77b===null){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Cannot parse folder name in href `"+this.Href+"`.");}this.Name=_77b[1];this.Href=this.Href.replace(_77b[0],"");}this.Href=this._CommandsController.NormalizeFolderUrl(this.Href);this.Name=this._CommandsController.NormalizeFolderName(this.Name);},_ExecuteInternal:function(){if(!this._CommandsController.ValidateName(this,this.Name)){this._TriggerFinish();return;}var that=this;var _77c=this.Href+this.Name+"/";var _77d=this._CommandsController.GetAbsolutePath(_77c);this.AddSessionRequest(this._CommandsController.WebDavSession.CreateFolderAsync(_77d,null,function(_77e){that.SetUpdatedUrl(_77c,self.UPDATE_TYPE_ADD);if(!_77e.IsSuccess){that.AddError(_77e.Error);that._TriggerFinish();}else{that._TriggerFinish(_77e.Result);}}));},_UnExecuteInternal:function(){var that=this;ITHit.WebDAV.Client.AjaxFileBrowser.Commands.DeleteCommand.DeleteInline(that,this.Href+this.Name+"/",function(_77f){that._TriggerFinishUnExecute(_77f);});}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.DeleteCommand",ITHit.WebDAV.Client.AjaxFileBrowser.Commands.BaseRequestCommand,{Href:null,_Item:null,GetTitle:function(){return ITHit.Phrases.AjaxFileBrowser.Commands.Names.Delete;},GetProcessTitle:function(){var _780=self.GetNameFromHref(this.Href);return ITHit.Phrases.AjaxFileBrowser.Commands.Process.Delete.Paste(_780);},IsEditable:function(){return true;},_Initialize:function(){if(this.Href===null){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Params `Href` is required in DeleteCommand.");}this.Href=this._CommandsController.NormalizeUrl(this.Href);},_ExecuteInternal:function(){var that=this;self.DeleteInline(that,this.Href,function(_781){that._TriggerFinish(_781);});},_UnExecuteInternal:function(){this._CommandsController.Session.Undelete(this._Item);this.SetUpdatedUrl(this.Href,self.UPDATE_TYPE_ADD);this._TriggerFinishUnExecute();}},{DeleteInline:function(_782,sUrl,_783){var _784=_782.GetCommandsController();var _785=_784.GetAbsolutePath(ITHit.WebDAV.Client.Encoder.Encode(sUrl),true);_782.AddSessionRequest(_784.WebDavSession.DeleteAsync(_785,null,function(_786){_782.SetUpdatedUrl(sUrl,self.UPDATE_TYPE_REMOVE);if(_786.IsSuccess){_783.call(_782,_786.Result);}else{_782.AddError(_786.Error);_783.call(_782,null);}}));}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.DeleteQueueCommand",ITHit.WebDAV.Client.AjaxFileBrowser.Commands.QueueCommand,{HrefList:null,_Initialize:function(){for(var i=0,l=this.HrefList.length;i<l;i++){this._CommandsCollection.CreateForQueue(this,"DeleteCommand",{Href:this.HrefList[i]});}}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.ItemExistsCommand",ITHit.WebDAV.Client.AjaxFileBrowser.Commands.BaseRequestCommand,{Href:null,IgnoreCache:false,_Initialize:function(){if(this.Href===null){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Param `Href` is required in ItemExistsCommand.");}this.Href=this._CommandsController.NormalizeUrl(this.Href);},_ExecuteInternal:function(){var that=this;self.CheckInline(this,this.Href,this.IgnoreCache,function(_787){that._TriggerFinish(_787);});}},{CheckInline:function(_788,sUrl,_789,_78a){var _78b=[].concat(_788.GetErrors());ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadItemCommand.LoadInline(_788,sUrl,_789,function(_78c){_788.SetErrors(_78b);_78a(!!_78c);});}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadItemCommand",ITHit.WebDAV.Client.AjaxFileBrowser.Commands.BaseRequestCommand,{Href:null,IgnoreCache:false,GetTitle:function(){return ITHit.Phrases.AjaxFileBrowser.Commands.Names.LoadItem;},GetProcessTitle:function(){var _78d=self.GetNameFromHref(this.Href);return ITHit.Phrases.AjaxFileBrowser.Commands.Process.LoadItem.Paste(_78d);},_Initialize:function(){if(this.Href===null){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Param `Href` is required in LoadItemCommand.");}this.Href=this._CommandsController.NormalizeUrl(this.Href);},_ExecuteInternal:function(){var that=this;self.LoadInline(this,this.Href,this.IgnoreCache,function(_78e){that._TriggerFinish(_78e);});}},{LoadInline:function(_78f,sUrl,_790,_791){var _792=_78f.GetCommandsController();var _793=_792.GetAbsolutePath(sUrl,true);if(!_790&&_792.ResourcesCollection.Has(sUrl)){var _794=_792.ResourcesCollection.Get(sUrl);if(_794===null){_78f.AddError(ITHit.Phrases.AjaxFileBrowser.Interface.NotFoundLocation.Paste(_793));}_791.call(_78f,_794);return;}var _795=_792.GetAbsolutePath(ITHit.WebDAV.Client.Encoder.Encode(sUrl),true);_78f.AddSessionRequest(_792.WebDavSession.OpenItemAsync(_795,function(_796){var _797=null;if(_796.IsSuccess){_797=_796.Result instanceof ITHit.WebDAV.Client.Folder?new ITHit.WebDAV.Client.AjaxFileBrowser.Folder(_796.Result):new ITHit.WebDAV.Client.AjaxFileBrowser.Resource(_796.Result);}else{_796.Error.Message=ITHit.Phrases.AjaxFileBrowser.Interface.NotFoundLocation.Paste(_793);_78f.AddError(_796.Error);}_792.ResourcesCollection.Set(sUrl,_797);_791.call(_78f,_797);}));}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadItemProperties",ITHit.WebDAV.Client.AjaxFileBrowser.Commands.BaseRequestCommand,{Href:null,_Initialize:function(){if(this.Href===null){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Param `Href` is required in LoadItemProperties.");}this.Href=this._CommandsController.NormalizeUrl(this.Href);},_ExecuteInternal:function(){var that=this;ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadItemCommand.LoadInline(this,this.Href,false,function(_798){if(!_798){that._TriggerFinish();return;}that.AddSessionRequest(_798.Item.GetAllPropertiesAsync(function(_799){if(!_799.IsSuccess){that.AddError(_799.Error);}that._TriggerFinish(_799.Result);}));});}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadItemSyncCommand",ITHit.WebDAV.Client.AjaxFileBrowser.Commands.BaseRequestCommand,{Href:null,IgnoreCache:false,GetTitle:function(){return ITHit.Phrases.AjaxFileBrowser.Commands.Names.LoadItem;},GetProcessTitle:function(){var _79a=self.GetNameFromHref(this.Href);return ITHit.Phrases.AjaxFileBrowser.Commands.Process.LoadItem.Paste(_79a);},_Initialize:function(){if(this.Href===null){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Param `Href` is required in LoadItemCommand.");}this.Href=this._CommandsController.NormalizeUrl(this.Href);},_ExecuteInternal:function(){var _79b=self.LoadInline(this,this.Href,this.IgnoreCache);this._TriggerFinish(_79b);}},{LoadInline:function(_79c,sUrl,_79d){var _79e=_79c.GetCommandsController();var _79f=_79e.GetAbsolutePath(sUrl,true);if(!_79d&&_79e.ResourcesCollection.Has(sUrl)){var _7a0=_79e.ResourcesCollection.Get(sUrl);if(_7a0===null){_79c.AddError(ITHit.Phrases.AjaxFileBrowser.Interface.NotFoundLocation.Paste(_79f));}return _7a0;}var _7a0=null;var _7a1=_79e.GetAbsolutePath(sUrl);try{_7a0=_79e.WebDavSession.OpenItem(_7a1);}catch(oException){oException.Message=ITHit.Phrases.AjaxFileBrowser.Interface.NotFoundLocation.Paste(_79f);_79c.AddError(oException);}if(_7a0){_7a0=_7a0 instanceof ITHit.WebDAV.Client.Folder?new ITHit.WebDAV.Client.AjaxFileBrowser.Folder(_7a0):new ITHit.WebDAV.Client.AjaxFileBrowser.Resource(_7a0);_79e.ResourcesCollection.Set(sUrl,_7a0);}return _7a0;}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadItemVersions",ITHit.WebDAV.Client.AjaxFileBrowser.Commands.BaseRequestCommand,{Href:null,_Initialize:function(){if(this.Href===null){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Param `Href` is required in LoadItemVersions.");}this.Href=this._CommandsController.NormalizeUrl(this.Href);},_ExecuteInternal:function(){var that=this;ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadItemCommand.LoadInline(this,this.Href,false,function(_7a2){if(!_7a2){that._TriggerFinish();return;}that.AddSessionRequest(_7a2.Item.GetVersionsAsync(function(_7a3){if(!_7a3.IsSuccess){_7a3.Result=[];}that._TriggerFinish(_7a3.Result);}));});}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadFolderCommand",ITHit.WebDAV.Client.AjaxFileBrowser.Commands.BaseRequestCommand,{Href:null,IgnoreCache:false,GetTitle:function(){return ITHit.Phrases.AjaxFileBrowser.Commands.Names.LoadFolder;},GetProcessTitle:function(){var _7a4=self.GetNameFromHref(this.Href);return ITHit.Phrases.AjaxFileBrowser.Commands.Process.LoadFolder.Paste(_7a4);},_Initialize:function(){if(this.Href===null){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Param `Href` is required in LoadFoldersCommand.");}this.Href=this._CommandsController.NormalizeFolderUrl(this.Href);},_ExecuteInternal:function(){ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadItemCommand.LoadInline(this,this.Href,false,function(_7a5){if(!_7a5){this._TriggerFinish();return;}this._LoadFolderItems(_7a5,function(_7a6){this._TriggerFinish(_7a5,_7a6);});});},_LoadFolderItems:function(_7a7,_7a8){if(!this.IgnoreCache&&this._CommandsController.FoldersCollection.Has(_7a7.Href)){_7a8.call(this,this._CommandsController.FoldersCollection.Get(_7a7.Href));return;}var that=this;this.AddSessionRequest(_7a7.Item.GetChildrenAsync(false,this._CommandsController.ChildrenProperties,function(_7a9){var _7aa=[];if(!_7a9.IsSuccess){that.AddError(_7a9.Error);}else{for(var i=0,l=_7a9.Result.length;i<l;i++){_7aa.push(_7a9.Result[i] instanceof ITHit.WebDAV.Client.Folder?new ITHit.WebDAV.Client.AjaxFileBrowser.Folder(_7a9.Result[i]):new ITHit.WebDAV.Client.AjaxFileBrowser.Resource(_7a9.Result[i]));}that._CommandsController.FoldersCollection.Set(_7a7.Href,_7aa);for(var i=0,l=_7aa.length;i<l;i++){that._CommandsController.ResourcesCollection.Set(_7aa[i].Href,_7aa[i]);}}_7a8.call(that,_7aa);}));}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadFolderSyncCommand",ITHit.WebDAV.Client.AjaxFileBrowser.Commands.BaseRequestCommand,{Href:null,IgnoreCache:false,GetTitle:function(){return ITHit.Phrases.AjaxFileBrowser.Commands.Names.LoadFolder;},GetProcessTitle:function(){var _7ab=/([^\/]+)\/?$/.exec(this.Href);var _7ac=_7ab!==null?_7ab[1]:this.Href;return ITHit.Phrases.AjaxFileBrowser.Commands.Process.LoadFolder.Paste(_7ac);},_Initialize:function(){if(this.Href===null){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Param `Href` is required in LoadFoldersSyncCommand.");}this.Href=this._CommandsController.NormalizeFolderUrl(this.Href);},_ExecuteInternal:function(){var _7ad=ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadItemSyncCommand.LoadInline(this,this.Href,false);if(!_7ad){this._TriggerFinish();return;}var _7ae=this._LoadFolderItems(_7ad);this._TriggerFinish(_7ad,_7ae);},_LoadFolderItems:function(_7af){if(!this.IgnoreCache&&this._CommandsController.FoldersCollection.Has(_7af.Href)){return this._CommandsController.FoldersCollection.Get(_7af.Href);}var _7b0=[];try{_7b0=_7af.Item.GetChildren(false,this._CommandsController.ChildrenProperties);}catch(oException){this.AddError(oException);}var _7b1=[];for(var i=0,l=_7b0.length;i<l;i++){_7b1.push(_7b0[i] instanceof ITHit.WebDAV.Client.Folder?new ITHit.WebDAV.Client.AjaxFileBrowser.Folder(_7b0[i]):new ITHit.WebDAV.Client.AjaxFileBrowser.Resource(_7b0[i]));}this._CommandsController.FoldersCollection.Set(_7af.Href,_7b1);for(var i=0,l=_7b1.length;i<l;i++){this._CommandsController.ResourcesCollection.Set(_7b1[i].Href,_7b1[i]);}return _7b1;}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadTreeFoldersCommand",ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadFolderCommand,{Href:null,_Items:null,_LoadedFolderItems:null,constructor:function(){this._super.apply(this,arguments);this._Items={};this._LoadedFolderItems={};},GetTitle:function(){return ITHit.Phrases.AjaxFileBrowser.Commands.Names.LoadTree;},GetProcessTitle:function(){var _7b2=/([^\/]+)\/?$/.exec(this.Href);var _7b3=_7b2!==null?_7b2[1]:this.Href;return ITHit.Phrases.AjaxFileBrowser.Commands.Process.LoadTree.Paste(_7b3);},_Initialize:function(){if(this.Href===null){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Param `Href` is required in LoadTreeFoldersCommand.");}this.Href=this._CommandsController.NormalizeFolderUrl(this.Href);},_ExecuteInternal:function(){var _7b4=this._CommandsController.BaseUrl;var _7b5=this.Href.substr(_7b4.length).replace(/^\/|\/$/g,"").split("/");this._LoadRecursive(_7b4,_7b5);},_LoadRecursive:function(_7b6,_7b7){ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadItemCommand.LoadInline(this,_7b6,false,function(_7b8){if(!_7b8){this._TriggerFinish(this._Items,this._LoadedFolderItems);return;}this._Items[_7b8.Href]=_7b8;this._LoadFolderItems(_7b8,function(_7b9){this._LoadedFolderItems[_7b6]=_7b9;if(_7b7.length===0||_7b7[0]===""){this._TriggerFinish(this._Items,this._LoadedFolderItems);return;}var _7ba=_7b7.shift()+"/";this._LoadRecursive(_7b6+_7ba,_7b7);});});}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadUploadProgressCommand",ITHit.WebDAV.Client.AjaxFileBrowser.Commands.BaseRequestCommand,{Href:null,_Initialize:function(){if(this.Href===null){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Param `Href` is required in LoadUploadProgressCommand.");}this.Href=this._CommandsController.NormalizeUrl(this.Href);},_ExecuteInternal:function(){var that=this;var _7bb=this._CommandsController.GetAbsolutePath(ITHit.WebDAV.Client.Encoder.Encode(this.Href),true);this.AddSessionRequest(this._CommandsController.WebDavSession.GetUploadProgressAsync(_7bb,function(_7bc){if(!_7bc.IsSuccess){that.AddError(_7bc.Error);}that._TriggerFinish(_7bc.Result);}));}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadUploadProgressSyncCommand",ITHit.WebDAV.Client.AjaxFileBrowser.Commands.BaseRequestCommand,{Href:null,_Initialize:function(){if(this.Href===null){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Param `Href` is required in LoadUploadProgressCommand.");}this.Href=this._CommandsController.NormalizeUrl(this.Href);},_ExecuteInternal:function(){var _7bd=this._CommandsController.GetAbsolutePath(ITHit.WebDAV.Client.Encoder.Encode(this.Href),true);var _7be=null;try{_7be=this._CommandsController.WebDavSession.GetUploadProgress(_7bd);}catch(oException){this.AddError(oException);}this._TriggerFinish(_7be);}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadSupportedFeaturesCommand",ITHit.WebDAV.Client.AjaxFileBrowser.Commands.BaseRequestCommand,{Href:null,_Initialize:function(){if(this.Href===null){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Params `Href` is required in LoadSupportedFeaturesCommand Command.");}this.Href=this._CommandsController.NormalizeUrl(this.Href);},_ExecuteInternal:function(){var that=this;var _7bf=this._CommandsController.GetAbsolutePath(this.Href);this.AddSessionRequest(this._CommandsController.WebDavSession.GetSupportedFeaturesAsync(_7bf,function(_7c0){if(!_7c0.IsSuccess){that.AddError(_7c0.Error);}that._TriggerFinish(_7c0.Result);}));}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.MoveCommand",ITHit.WebDAV.Client.AjaxFileBrowser.Commands.CopyCommand,{GetTitle:function(){return ITHit.Phrases.AjaxFileBrowser.Commands.Names.Move;},GetProcessTitle:function(){var _7c1=self.GetNameFromHref(this.Href);return ITHit.Phrases.AjaxFileBrowser.Commands.Process.Move.Paste(_7c1);},_ExecuteInternal:function(){var that=this;ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadItemCommand.LoadInline(this,this.Href,false,function(_7c2){that._Item=_7c2;ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadItemCommand.LoadInline(that,that.ToFolderHref,false,function(_7c3){that._FolderItem=_7c3;self.MoveInline(that,that._Item,that._FolderItem,that.NewName,that.Overwrite,function(){that._TriggerFinish();});});});},_UnExecuteInternal:function(){if(this._Item===null||this._FolderItem===null){return;}var that=this;var _7c4=ITHit.WebDAV.Client.HierarchyItem.GetFolderParentUri(this._Item.Href);ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadItemCommand.LoadInline(this,_7c4,false,function(_7c5){if(!_7c5){that._TriggerFinishUnExecute();return;}ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadItemCommand.LoadInline(that,that._FolderItem.Href+that._Item.DisplayName,false,function(_7c6){if(!_7c6){that._TriggerFinishUnExecute();return;}self.MoveInline(that,_7c6,_7c5,that.Overwrite,that._Item.DisplayName,function(){that._TriggerFinishUnExecute();});});});}},{MoveInline:function(_7c7,_7c8,_7c9,_7ca,_7cb,_7cc){_7ca=_7ca||"";_7cb=!ITHit.Utils.IsUndefined(_7cb)?_7cb:null;var _7cd=(_7ca||_7c8.DisplayName)+(_7c8 instanceof ITHit.WebDAV.Client.AjaxFileBrowser.Folder?"/":"");var _7ce=ITHit.WebDAV.Client.Encoder.Encode(_7cd);_7c7.AddSessionRequest(_7c8.Item.MoveToAsync(_7c9.Item,_7ce,_7cb,null,function(_7cf){_7c7.SetUpdatedUrl(_7c8.Href,self.UPDATE_TYPE_REMOVE);_7c7.SetUpdatedUrl(_7c9.Href+_7cd,self.UPDATE_TYPE_ADD);if(_7cf.IsSuccess){_7cc.call(_7c7,_7cf.Result);}else{var _7d0=_7cf.Error&&_7cf.Error instanceof ITHit.WebDAV.Client.Exceptions.PreconditionFailedException;if(_7cb===false&&_7d0){}else{if(_7d0){_7cf.Error.Message=ITHit.Phrases.AjaxFileBrowser.Interface.ItemAlreadyExists;}_7c7.AddError(_7cf.Error);}_7cc.call(_7c7,null);}}));}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.MoveQueueCommand",ITHit.WebDAV.Client.AjaxFileBrowser.Commands.CopyQueueCommand,{_CreateCommand:function(_7d1){return this._CommandsCollection.CreateForQueue(this,"MoveCommand",{Href:_7d1,ToFolderHref:this.ToFolderHref});},_NeedOverwriteAsk:function(sUrl,_7d2){return this._OverwriteAction===self.OVERWRITE_ASK;},_ValidateCommand:function(_7d3){var _7d4=_7d3.GetFutureUrl();if(_7d4.indexOf(_7d3.Href)===0){var _7d5=_7d3.Href.substr(_7d3.Href.length-1,1)==="/";var _7d6=_7d5?ITHit.Phrases.AjaxFileBrowser.Interface.MoveFolderToSubfolderRestriction:ITHit.Phrases.AjaxFileBrowser.Interface.MoveFileToSameDirectoryRestriction;_7d3.AddError(_7d6);return false;}return true;}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.PropertiesUpdate",ITHit.WebDAV.Client.AjaxFileBrowser.Commands.BaseRequestCommand,{Href:null,PropertiesToUpdate:null,PropertiesToDelete:null,_Initialize:function(){if(this.Href===null||(this.PropertiesToUpdate===null&&this.PropertiesToDelete===null)){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Params `Href` and `PropertiesToUpdate` or `PropertiesToDelete` is required in PropertiesUpdate.");}this.Href=this._CommandsController.NormalizeUrl(this.Href);},_ExecuteInternal:function(){var that=this;ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadItemCommand.LoadInline(this,this.Href,false,function(_7d7){if(!_7d7){that._TriggerFinish(false);return;}that.AddSessionRequest(_7d7.Item.UpdatePropertiesAsync(that.PropertiesToUpdate,that.PropertiesToDelete,null,function(_7d8){if(!_7d8.IsSuccess){that.AddError(_7d8.Error);}that._TriggerFinish(_7d8.Result);}));});}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.RenameCommand",ITHit.WebDAV.Client.AjaxFileBrowser.Commands.BaseRequestCommand,{Href:null,NewName:null,ReturnException:false,_Item:null,_ParentItem:null,GetTitle:function(){return ITHit.Phrases.AjaxFileBrowser.Commands.Names.Rename;},GetProcessTitle:function(){var _7d9=self.GetNameFromHref(this.Href);return ITHit.Phrases.AjaxFileBrowser.Commands.Process.Rename.Paste(_7d9);},IsEditable:function(){return true;},GetFutureUrl:function(){var _7da=this.Href.substr(this.Href.length-1,1)==="/";var _7db=ITHit.WebDAV.Client.HierarchyItem.GetFolderParentUri(this.Href);return _7db+this.NewName+(_7da?"/":"");},_Initialize:function(){if(this.Href===null||this.NewName===null){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Params `Href` and `NewName` is required in RenameCommand.");}this.Href=this._CommandsController.NormalizeUrl(this.Href);this.NewName=/\/$/.test(this.Href)?this._CommandsController.NormalizeFolderName(this.NewName):this._CommandsController.NormalizeFileName(this.NewName);},_ExecuteInternal:function(){if(!this._CommandsController.ValidateName(this,this.NewName)){this._TriggerFinish();return;}var that=this;ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadItemCommand.LoadInline(this,this.Href,false,function(_7dc){if(!_7dc){that._TriggerFinish();return;}that._Item=_7dc;if(_7dc.DisplayName===that.NewName){that._TriggerFinish();return;}var _7dd=ITHit.WebDAV.Client.HierarchyItem.GetFolderParentUri(that.Href);ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadItemCommand.LoadInline(that,_7dd,false,function(_7de){if(!_7de){that._TriggerFinish();return;}that._ParentItem=_7de;self.RenameInline(that,that._Item,that._ParentItem,that.NewName,function(){that._TriggerFinish();});});});},_UnExecuteInternal:function(){if(this._Item===null||this._ParentItem===null){return;}var that=this;ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadItemCommand.LoadInline(this,this._ParentItem.Href+this.NewName,false,function(_7df){if(!_7df){that._TriggerFinishUnExecute();return;}if(_7df){self.RenameInline(that,_7df,that._ParentItem,that._Item.DisplayName,function(){that._TriggerFinishUnExecute();});}else{that._TriggerFinishUnExecute();}});}},{RenameInline:function(_7e0,_7e1,_7e2,_7e3,_7e4){ITHit.WebDAV.Client.AjaxFileBrowser.Commands.MoveCommand.MoveInline(_7e0,_7e1,_7e2,_7e3,null,_7e4);}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.SearchCommand",ITHit.WebDAV.Client.AjaxFileBrowser.Commands.BaseRequestCommand,{Href:null,Query:null,QueryObject:null,EnableContains:true,GetTitle:function(){return ITHit.Phrases.AjaxFileBrowser.Commands.Names.Search;},GetProcessTitle:function(){return ITHit.Phrases.AjaxFileBrowser.Commands.Process.Search.Paste(this.Query);},NormalizeQuery:function(_7e5){_7e5=_7e5.replace(/^\s+|\s+$/g,"");_7e5=_7e5.replace(/([_%\\])/g,"\\$1");_7e5=_7e5.replace(/\*/g,"%");_7e5=_7e5.replace(/\?/g,"_");if(_7e5&&/^".+"$/.test(_7e5)===false){_7e5=_7e5.replace(/%?$/,"%");}_7e5=_7e5.replace(/^"|"$/g,"");return _7e5;},_Initialize:function(){if(this.Href===null||this.Query===null){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Param `Href`, `Query` is required in SearchCommand.");}this.Query=this.NormalizeQuery(this.Query);this.Href=this._CommandsController.NormalizeFolderUrl(this.Href);},_ExecuteInternal:function(){if(this.Query===""){this._TriggerFinish([]);return;}var that=this;ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadItemCommand.LoadInline(this,this.Href,false,function(_7e6){if(!_7e6){that._TriggerFinish(null,[]);return;}if(!(_7e6 instanceof ITHit.WebDAV.Client.AjaxFileBrowser.Folder)){that.AddError(new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException(ITHit.Phrases.AjaxFileBrowser.Exceptions.TrySearchByResource));that._TriggerFinish(null,[]);return;}this.QueryObject=new ITHit.WebDAV.Client.SearchQuery(that.Query);this.QueryObject.SelectProperties=this._CommandsController.ChildrenProperties;this.QueryObject.EnableContains=this.EnableContains;that.AddSessionRequest(_7e6.Item.SearchByQueryAsync(this.QueryObject,function(_7e7){var _7e8=[];if(!_7e7.IsSuccess){that.AddError(_7e7.Error);}else{for(var i=0,l=_7e7.Result.length;i<l;i++){_7e8.push(_7e7.Result[i] instanceof ITHit.WebDAV.Client.Folder?new ITHit.WebDAV.Client.AjaxFileBrowser.Folder(_7e7.Result[i]):new ITHit.WebDAV.Client.AjaxFileBrowser.Resource(_7e7.Result[i]));}for(var i=0,l=_7e8.length;i<l;i++){that._CommandsController.ResourcesCollection.Set(_7e8[i].Href,_7e8[i]);}}that._TriggerFinish(_7e6,_7e8);}));});}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.VersionDelete",ITHit.WebDAV.Client.AjaxFileBrowser.Commands.BaseRequestCommand,{Href:null,VersionHref:null,_Initialize:function(){if(this.Href===null||this.VersionHref===null){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Params `Href` and `VersionHref` is required in VersionDelete.");}this.Href=this._CommandsController.NormalizeUrl(this.Href);this.VersionHref=this._CommandsController.NormalizeUrl(this.VersionHref);},_ExecuteInternal:function(){var that=this;ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadItemCommand.LoadInline(this,this.Href,false,function(_7e9){if(!_7e9){that._TriggerFinish(false);return;}var _7ea=that._CommandsController.GetAbsolutePath(that.VersionHref,true);that.AddSessionRequest(_7e9.Item.VersionDeleteAsync(_7ea,function(_7eb){if(!_7eb.IsSuccess){that.AddError(_7eb.Error);}that._TriggerFinish(_7eb.Result);}));});}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.VersionUpdate",ITHit.WebDAV.Client.AjaxFileBrowser.Commands.BaseRequestCommand,{Href:null,ToHref:null,_Initialize:function(){if(this.Href===null||this.ToHref===null){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Params `Href` and `ToHref` is required in VersionUpdate.");}this.Href=this._CommandsController.NormalizeUrl(this.Href);this.ToHref=this._CommandsController.NormalizeUrl(this.ToHref);},_ExecuteInternal:function(){var that=this;ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadItemCommand.LoadInline(this,this.Href,false,function(_7ec){if(!_7ec){that._TriggerFinish(false);return;}that.AddSessionRequest(_7ec.Item.VersionUpdateAsync(that.ToHref,function(_7ed){if(!_7ed.IsSuccess){that.AddError(_7ed.Error);}that._TriggerFinish(_7ed.Result);}));});}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.CommandsCollection",null,{_CommandsController:null,HistoryList:null,HistoryPosition:0,HistoryMaxLength:8,_QueueCommand:null,_LazyUpdateUrls:null,_LastExecutedCommand:null,constructor:function(_7ee){this._CommandsController=_7ee;this.HistoryList=[];this._LazyUpdateUrls={};},BeginQueue:function(_7ef){this._QueueCommand=this.Create("QueueCommand",_7ef);return this._QueueCommand;},EndQueue:function(){if(this._QueueCommand&&this._QueueCommand.GetLength()>0){this._QueueCommand.Execute();}return this._QueueCommand;},Create:function(_7f0,_7f1){_7f1=_7f1||{};if(ITHit.Utils.IsString(_7f0)){if(_7f0.indexOf(".")===-1){_7f0="ITHit.WebDAV.Client.AjaxFileBrowser.Commands."+_7f0;}_7f0=ITHit.GetNamespace(_7f0);if(!_7f0){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Not found class `"+_7f0+"` for create command.");}}if(ITHit.Utils.IsFunction(_7f0)){_7f0=new _7f0(this._CommandsController,this,_7f1);}if(this._QueueCommand!==null){this._QueueCommand.Add(_7f0);}else{if(_7f0.IsEditable()){if(this.HistoryPosition<this.HistoryList.length){this.HistoryList.splice(this.HistoryPosition,this.HistoryList.length-this.HistoryPosition);}if(this.HistoryList.length>=this.HistoryMaxLength){this.HistoryList.splice(0,1);}this.HistoryList.push(_7f0);this.HistoryPosition++;}this._SubscribeOnCommand(_7f0);}return _7f0;},CreateForQueue:function(_7f2,_7f3,_7f4){var _7f5=this._QueueCommand;this._QueueCommand=_7f2;var _7f6=this.Create(_7f3,_7f4);this._QueueCommand=_7f5;return _7f6;},GetLastExecutedCommand:function(){return this._LastExecutedCommand;},IsFirst:function(){return this.HistoryPosition===0||this.HistoryList.length===0;},IsLast:function(){return this.HistoryPosition>=this.HistoryList.length;},Undo:function(){if(this.IsFirst()){return;}this.HistoryPosition--;this.HistoryList[this.HistoryPosition].UnExecute();ITHit.Events.DispatchEvent(this,"OnUndo");},Redo:function(){if(this.IsLast()){return;}this.HistoryPosition[this.HistoryPosition].Execute();this.HistoryPosition++;ITHit.Events.DispatchEvent(this,"OnRedo");},_SubscribeOnCommand:function(_7f7){var that=this;ITHit.Events.AddListener(_7f7,"OnStart",function(){if(that._QueueCommand===_7f7){that._QueueCommand=null;}ITHit.Events.DispatchEvent(this,"OnCommandStart",[_7f7]);},this);ITHit.Events.AddListener(_7f7,"OnProgress",function(_7f8){ITHit.Events.DispatchEvent(this,"OnCommandProgress",[_7f7,_7f8]);},this);ITHit.Events.AddListener(_7f7,"OnFinish",function(_7f9,_7fa){this._LastExecutedCommand=_7f7;ITHit.Events.DispatchEvent(this,"OnCommandFinish",[_7f7,_7f9,_7fa]);},this);ITHit.Events.AddListener(_7f7,"OnSuccess",function(){ITHit.Events.DispatchEvent(this,"OnCommandSuccess",[_7f7].concat(arguments));if(_7f7.IsEditable()){this._LazyUpdate();}},this);ITHit.Events.AddListener(_7f7,"OnError",function(_7fb){ITHit.Events.DispatchEvent(this,"OnCommandError",[_7f7,_7fb]);if(_7f7.IsEditable()){this._LazyUpdate();}},this);ITHit.Events.AddListener(_7f7,"OnAbort",function(){ITHit.Events.DispatchEvent(this,"OnCommandAbort",[_7f7].concat(arguments));if(_7f7.IsEditable()){this._LazyUpdate();}},this);ITHit.Events.AddListener(_7f7,"OnUndo",function(){ITHit.Events.DispatchEvent(this,"OnCommandUndo",[_7f7].concat(arguments));if(_7f7.IsEditable()){this._LazyUpdate();}},this);},AddLazyUpdateUrl:function(sUrl){this._LazyUpdateUrls[sUrl]=true;},_LazyUpdate:function(){var _7fc=this._LazyUpdateUrls;this._LazyUpdateUrls={};for(var sUrl in _7fc){if(!_7fc.hasOwnProperty(sUrl)){continue;}var _7fd=sUrl.substr(sUrl.length-1,1)==="/";var _7fe=_7fd?this._CommandsController.FoldersCollection:this._CommandsController.ResourcesCollection;_7fe.SetDeprecated(sUrl);}}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Commands.CommandsController",null,{Session:null,WebDavSession:null,BaseUrl:null,Host:null,ChildrenProperties:null,NotAllowedCharacters:null,ResourcesCollection:null,FoldersCollection:null,_CommandsCollections:null,constructor:function(){this.ChildrenProperties=[];this.HistoryList=[];this._LazyUpdateUrls={};this._CommandsCollections={};this.ResourcesCollection=new ITHit.WebDAV.Client.AjaxFileBrowser.Commands.ItemsCollection();this.FoldersCollection=new ITHit.WebDAV.Client.AjaxFileBrowser.Commands.ItemsCollection();this._CreateMainCollection();},HasCors:function(){return location.protocol+"//"+location.host+"/"!==this.Host;},CreateCollection:function(_7ff){if(this._CommandsCollections[_7ff]){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Commands collection with name `"+_7ff+"` is already exists.");}return this._CommandsCollections[_7ff]=new ITHit.WebDAV.Client.AjaxFileBrowser.Commands.CommandsCollection(this);},SetRootUrl:function(_800,_801){_801=_801||function(){};this.Host=this.NormalizeHostName(_800);this.BaseUrl=ITHit.WebDAV.Client.AjaxFileBrowser.UrlUtils.GetRelativePath(_800);this.ResourcesCollection.RemoveAll();this.FoldersCollection.RemoveAll();try{this.Session=new ITHit.WebDAV.Client.AjaxFileBrowser.Session(this.Host);}catch(e){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException(ITHit.Phrases.AjaxFileBrowser.Exceptions.SessionNotStarted);}this.WebDavSession=this.Session.GetWebDavSession();ITHit.Events.DispatchEvent(this,"OnBeforeUpdateRootUrl",[this.Host,this.BaseUrl]);var that=this;this._FixSafariAuth(function(){that.Create("LoadItemCommand",{Href:that.GetRootUrl(),OnFinish:function(_802){ITHit.Events.DispatchEvent(that,"OnUpdateRootUrl",[that.Host,that.BaseUrl]);_801(_802);}}).Execute();});},GetRootUrl:function(){return this.GetAbsolutePath(this.BaseUrl,true);},_FixSafariAuth:function(_803){if(!this.HasCors()){_803();return;}var _804=document.createElement("IFRAME");_804.style.display="none";_804.src=this.GetAbsolutePath(this.BaseUrl);_804.onload=function(){_804.parentNode.removeChild(_804);_803();};document.body.appendChild(_804);},SetCredentials:function(_805,_806){this.Session.SetCredentials(_805,_806);},BeginQueue:function(_807){return this._GetMainCollection().BeginQueue(_807);},EndQueue:function(){return this._GetMainCollection().EndQueue();},GetLastExecutedCommand:function(){return this._GetMainCollection().GetLastExecutedCommand();},Create:function(_808,_809){return this._GetMainCollection().Create(_808,_809);},CreateForQueue:function(_80a,_80b,_80c){return this._GetMainCollection().CreateForQueue(_80a,_80b,_80c);},IsFirst:function(){return this._GetMainCollection().IsFirst();},IsLast:function(){return this._GetMainCollection().IsLast();},Undo:function(){this._GetMainCollection().Undo();},Redo:function(){this._GetMainCollection().Redo();},NormalizeHostName:function(sUrl){var _80d=sUrl.match(/^(http[s]?:\/\/[^\/]+)/);return _80d!==null?_80d[0]+"/":null;},NormalizeUrl:function(sUrl){sUrl=ITHit.WebDAV.Client.AjaxFileBrowser.UrlUtils.GetRelativePath(sUrl);sUrl=sUrl.replace(this.Host,"");return sUrl.replace(/^\/?/,"/");},NormalizeFileUrl:function(sUrl){return this.NormalizeUrl(sUrl).replace(/\/$/,"");},NormalizeFolderUrl:function(sUrl){return this.NormalizeFileUrl(sUrl)+"/";},NormalizeFileName:function(_80e){_80e=_80e.replace(/^\s+|\s+$/g,"");return _80e;},NormalizeFolderName:function(_80f){_80f=this.NormalizeFileName(_80f);_80f=_80f.replace(/(?:^\s+|\s+$)/g,"");return _80f;},ValidateName:function(_810,_811){if(_811===""){_810.AddError(ITHit.Phrases.AjaxFileBrowser.Interface.SpecifyItemName);return false;}if(this.NotAllowedCharacters){var _812=new RegExp("["+this.NotAllowedCharacters+"]","g");if(_812.test(_811)){var _813=ITHit.Phrases.AjaxFileBrowser.Interface.FileNameSpecialCharactersRestriction.Paste(this.NotAllowedCharacters.replace(/\\?(.)/g,"$1 "));_810.AddError(_813);return false;}}return true;},GetAbsolutePath:function(sUrl,_814){return this.Session.GetAbsolutePath(sUrl,_814);},AddLazyUpdateUrl:function(sUrl){this._GetMainCollection().AddLazyUpdateUrl(sUrl);},_CreateMainCollection:function(){var _815=this.CreateCollection(self.COLLECTION_MAIN);ITHit.Events.AddListener(_815,"OnCommandStart",function(_816){ITHit.Events.DispatchEvent(this,"OnCommandStart",[_816]);},this);ITHit.Events.AddListener(_815,"OnCommandProgress",function(_817,_818){ITHit.Events.DispatchEvent(this,"OnCommandProgress",[_817,_818]);},this);ITHit.Events.AddListener(_815,"OnCommandFinish",function(_819,_81a,_81b){ITHit.Events.DispatchEvent(this,"OnCommandFinish",[_819,_81a,_81b]);},this);ITHit.Events.AddListener(_815,"OnCommandSuccess",function(){ITHit.Events.DispatchEvent(this,"OnCommandSuccess",arguments);},this);ITHit.Events.AddListener(_815,"OnCommandError",function(_81c,_81d){ITHit.Events.DispatchEvent(this,"OnCommandError",[_81c,_81d]);},this);ITHit.Events.AddListener(_815,"OnCommandAbort",function(_81e){ITHit.Events.DispatchEvent(this,"OnCommandAbort",[_81e]);},this);ITHit.Events.AddListener(_815,"OnUndo",function(){ITHit.Events.DispatchEvent(this,"OnUndo",arguments);},this);ITHit.Events.AddListener(_815,"OnRedo",function(){ITHit.Events.DispatchEvent(this,"OnRedo",arguments);},this);},_GetMainCollection:function(){return this._CommandsCollections[self.COLLECTION_MAIN];}},{COLLECTION_MAIN:"main"});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Settings.BaseSettings",null,{_Id:null,_RootNode:null,_Settings:null,_IsRendered:false,_Controller:null,constructor:function(_81f){this._Controller=_81f;},SetSettings:function(_820){this._Settings=_820;this._SetInternal(_820);if(this._IsRendered){this._SetInternalAfterRender(_820);}},TriggerRender:function(){if(this._IsRendered){return;}this._IsRendered=true;this._SetInternalAfterRender(this._Settings);},SetId:function(_821){if(this._RootNode!==null){return;}if(ITHit.Utils.IsString(_821)){this._Id=_821;this._RootNode=document.getElementById(_821);}else{if(ITHit.Utils.IsDOMObject(_821)){if(!_821.id){_821.id="ithit_root_"+(new Date()).getTime();}this._Id=_821.id;this._RootNode=_821;}else{throw new ITHit.WebDAV.Client.Exceptions.InvalidConfigException(ITHit.Phrases.AjaxFileBrowser.Exceptions.WrongElementIdOrObject);}}},GetId:function(){return this._Id;},SetRootNode:function(_822){this.SetId(_822);},GetRootNode:function(){return this._RootNode;},_SetInternal:function(_823){this.SetLanguagePack(_823.Phrases);this.SetId(_823.Id);},SetLanguagePack:function(_824){},SetResumeUploadSupported:function(_825){},_SetInternalAfterRender:function(_826){if(!ITHit.Utils.IsUndefined(_826.ResumeUploadSupported)){this.SetResumeUploadSupported(_826.ResumeUploadSupported);}}},{NormalizeObjectSettings:function(_827,_828){if(!ITHit.Utils.IsObjectStrict(_827)||ITHit.Utils.IsDOMObject(_827)){if(_828.length<2){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.InvalidConfigException("To few arguments.");}if(_828.length>4){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.InvalidConfigException("To many arguments.");}_827={Id:_827,Url:_828[1],Style:_828[2],ClassName:_828[3]};}if(!_827.Id){throw new ITHit.WebDAV.Client.Exceptions.AjaxFileBrowserException(ITHit.Phrases.AjaxFileBrowser.Exceptions.EmptyElementParameter);}return _827;}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Settings.MobileSettings",ITHit.WebDAV.Client.AjaxFileBrowser.Settings.BaseSettings,{SetLanguagePack:function(_829){ITHit.Phrases.LoadLocalizedJSON(ITHit.WebDAV.Client.AjaxFileBrowserMobile.Phrases.EN,_829);},SetId:function(_82a){if(this._RootNode!==null){return;}this._Id=ITHit.Utils.IsString(_82a)?_82a:"ithit_root_"+(new Date()).getTime();},GetRootNode:function(){return ITHit.Components.jQuery("body").get(0);},SetPanelsVisible:function(_82b){var _82c=false;for(var _82d in _82b){if(!_82b.hasOwnProperty(_82d)||ITHit.Utils.IsUndefined(_82b[_82d].Show)){continue;}var _82e=!!_82b[_82d].Show;var _82f=ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.RenderController.PAGE_LIST;var _830=this._Controller.RenderController.GetPage(_82f);switch(_82d){case "Toolbar":_830.FilesListView.SetEditMode(_82e?ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.FilesListView.EDIT_MODE_EDIT:ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.FilesListView.EDIT_MODE_VIEW);break;case "Folders":if(!_82c){_830.TreePanelView.Toggle(_82e);_82c=true;}break;case "UploadProgressPanel":if(!_82c){_830.UploadPanelView.Toggle(_82e);_82c=true;}break;}}},SetResumeUploadSupported:function(_831){this._Controller.RenderController.UploadController.ResumeManager.SetResumeSupported(_831);},_SetInternalAfterRender:function(_832){this._super(_832);this.SetPanelsVisible(_832.Panels||{});}});})();(function(_833,_834){var _835,_836,_837=typeof _834,_838=_833.location,_839=_833.document,_83a=_839.documentElement,_83b=_833.jQuery,_83c=_833.$,_83d={},_83e=[],_83f="2.0.3",_840=_83e.concat,_841=_83e.push,_842=_83e.slice,_843=_83e.indexOf,_844=_83d.toString,_845=_83d.hasOwnProperty,_846=_83f.trim,_847=function(_848,_849){return new _847.fn.init(_848,_849,_835);},_84a=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_84b=/\S+/g,_84c=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,_84d=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,_84e=/^-ms-/,_84f=/-([\da-z])/gi,_850=function(all,_851){return _851.toUpperCase();},_852=function(){_839.removeEventListener("DOMContentLoaded",_852,false);_833.removeEventListener("load",_852,false);_847.ready();};_847.fn=_847.prototype={jquery:_83f,constructor:_847,init:function(_853,_854,_855){var _856,elem;if(!_853){return this;}if(typeof _853==="string"){if(_853.charAt(0)==="<"&&_853.charAt(_853.length-1)===">"&&_853.length>=3){_856=[null,_853,null];}else{_856=_84c.exec(_853);}if(_856&&(_856[1]||!_854)){if(_856[1]){_854=_854 instanceof _847?_854[0]:_854;_847.merge(this,_847.parseHTML(_856[1],_854&&_854.nodeType?_854.ownerDocument||_854:_839,true));if(_84d.test(_856[1])&&_847.isPlainObject(_854)){for(_856 in _854){if(_847.isFunction(this[_856])){this[_856](_854[_856]);}else{this.attr(_856,_854[_856]);}}}return this;}else{elem=_839.getElementById(_856[2]);if(elem&&elem.parentNode){this.length=1;this[0]=elem;}this.context=_839;this.selector=_853;return this;}}else{if(!_854||_854.jquery){return (_854||_855).find(_853);}else{return this.constructor(_854).find(_853);}}}else{if(_853.nodeType){this.context=this[0]=_853;this.length=1;return this;}else{if(_847.isFunction(_853)){return _855.ready(_853);}}}if(_853.selector!==_834){this.selector=_853.selector;this.context=_853.context;}return _847.makeArray(_853,this);},selector:"",length:0,toArray:function(){return _842.call(this);},get:function(num){return num==null?this.toArray():(num<0?this[this.length+num]:this[num]);},pushStack:function(_857){var ret=_847.merge(this.constructor(),_857);ret.prevObject=this;ret.context=this.context;return ret;},each:function(_858,args){return _847.each(this,_858,args);},ready:function(fn){_847.ready.promise().done(fn);return this;},slice:function(){return this.pushStack(_842.apply(this,arguments));},first:function(){return this.eq(0);},last:function(){return this.eq(-1);},eq:function(i){var len=this.length,j=+i+(i<0?len:0);return this.pushStack(j>=0&&j<len?[this[j]]:[]);},map:function(_859){return this.pushStack(_847.map(this,function(elem,i){return _859.call(elem,i,elem);}));},end:function(){return this.prevObject||this.constructor(null);},push:_841,sort:[].sort,splice:[].splice};_847.fn.init.prototype=_847.fn;_847.extend=_847.fn.extend=function(){var _85a,name,src,copy,_85b,_85c,_85d=arguments[0]||{},i=1,_85e=arguments.length,deep=false;if(typeof _85d==="boolean"){deep=_85d;_85d=arguments[1]||{};i=2;}if(typeof _85d!=="object"&&!_847.isFunction(_85d)){_85d={};}if(_85e===i){_85d=this;--i;}for(;i<_85e;i++){if((_85a=arguments[i])!=null){for(name in _85a){src=_85d[name];copy=_85a[name];if(_85d===copy){continue;}if(deep&&copy&&(_847.isPlainObject(copy)||(_85b=_847.isArray(copy)))){if(_85b){_85b=false;_85c=src&&_847.isArray(src)?src:[];}else{_85c=src&&_847.isPlainObject(src)?src:{};}_85d[name]=_847.extend(deep,_85c,copy);}else{if(copy!==_834){_85d[name]=copy;}}}}}return _85d;};_847.extend({expando:"jQuery"+(_83f+Math.random()).replace(/\D/g,""),noConflict:function(deep){if(_833.$===_847){_833.$=_83c;}if(deep&&_833.jQuery===_847){_833.jQuery=_83b;}return _847;},isReady:false,readyWait:1,holdReady:function(hold){if(hold){_847.readyWait++;}else{_847.ready(true);}},ready:function(wait){if(wait===true?--_847.readyWait:_847.isReady){return;}_847.isReady=true;if(wait!==true&&--_847.readyWait>0){return;}_836.resolveWith(_839,[_847]);if(_847.fn.trigger){_847(_839).trigger("ready").off("ready");}},isFunction:function(obj){return _847.type(obj)==="function";},isArray:Array.isArray,isWindow:function(obj){return obj!=null&&obj===obj.window;},isNumeric:function(obj){return !isNaN(parseFloat(obj))&&isFinite(obj);},type:function(obj){if(obj==null){return String(obj);}return typeof obj==="object"||typeof obj==="function"?_83d[_844.call(obj)]||"object":typeof obj;},isPlainObject:function(obj){if(_847.type(obj)!=="object"||obj.nodeType||_847.isWindow(obj)){return false;}try{if(obj.constructor&&!_845.call(obj.constructor.prototype,"isPrototypeOf")){return false;}}catch(e){return false;}return true;},isEmptyObject:function(obj){var name;for(name in obj){return false;}return true;},error:function(msg){throw new Error(msg);},parseHTML:function(data,_85f,_860){if(!data||typeof data!=="string"){return null;}if(typeof _85f==="boolean"){_860=_85f;_85f=false;}_85f=_85f||_839;var _861=_84d.exec(data),_862=!_860&&[];if(_861){return [_85f.createElement(_861[1])];}_861=_847.buildFragment([data],_85f,_862);if(_862){_847(_862).remove();}return _847.merge([],_861.childNodes);},parseJSON:JSON.parse,parseXML:function(data){var xml,tmp;if(!data||typeof data!=="string"){return null;}try{tmp=new DOMParser();xml=tmp.parseFromString(data,"text/xml");}catch(e){xml=_834;}if(!xml||xml.getElementsByTagName("parsererror").length){_847.error("Invalid XML: "+data);}return xml;},noop:function(){},globalEval:function(code){var _863,_864=eval;code=_847.trim(code);if(code){if(code.indexOf("use strict")===1){_863=_839.createElement("script");_863.text=code;_839.head.appendChild(_863).parentNode.removeChild(_863);}else{_864(code);}}},camelCase:function(_865){return _865.replace(_84e,"ms-").replace(_84f,_850);},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase();},each:function(obj,_866,args){var _867,i=0,_868=obj.length,_869=_86a(obj);if(args){if(_869){for(;i<_868;i++){_867=_866.apply(obj[i],args);if(_867===false){break;}}}else{for(i in obj){_867=_866.apply(obj[i],args);if(_867===false){break;}}}}else{if(_869){for(;i<_868;i++){_867=_866.call(obj[i],i,obj[i]);if(_867===false){break;}}}else{for(i in obj){_867=_866.call(obj[i],i,obj[i]);if(_867===false){break;}}}}return obj;},trim:function(text){return text==null?"":_846.call(text);},makeArray:function(arr,_86b){var ret=_86b||[];if(arr!=null){if(_86a(Object(arr))){_847.merge(ret,typeof arr==="string"?[arr]:arr);}else{_841.call(ret,arr);}}return ret;},inArray:function(elem,arr,i){return arr==null?-1:_843.call(arr,elem,i);},merge:function(_86c,_86d){var l=_86d.length,i=_86c.length,j=0;if(typeof l==="number"){for(;j<l;j++){_86c[i++]=_86d[j];}}else{while(_86d[j]!==_834){_86c[i++]=_86d[j++];}}_86c.length=i;return _86c;},grep:function(_86e,_86f,inv){var _870,ret=[],i=0,_871=_86e.length;inv=!!inv;for(;i<_871;i++){_870=!!_86f(_86e[i],i);if(inv!==_870){ret.push(_86e[i]);}}return ret;},map:function(_872,_873,arg){var _874,i=0,_875=_872.length,_876=_86a(_872),ret=[];if(_876){for(;i<_875;i++){_874=_873(_872[i],i,arg);if(_874!=null){ret[ret.length]=_874;}}}else{for(i in _872){_874=_873(_872[i],i,arg);if(_874!=null){ret[ret.length]=_874;}}}return _840.apply([],ret);},guid:1,proxy:function(fn,_877){var tmp,args,_878;if(typeof _877==="string"){tmp=fn[_877];_877=fn;fn=tmp;}if(!_847.isFunction(fn)){return _834;}args=_842.call(arguments,2);_878=function(){return fn.apply(_877||this,args.concat(_842.call(arguments)));};_878.guid=fn.guid=fn.guid||_847.guid++;return _878;},access:function(_879,fn,key,_87a,_87b,_87c,raw){var i=0,_87d=_879.length,bulk=key==null;if(_847.type(key)==="object"){_87b=true;for(i in key){_847.access(_879,fn,i,key[i],true,_87c,raw);}}else{if(_87a!==_834){_87b=true;if(!_847.isFunction(_87a)){raw=true;}if(bulk){if(raw){fn.call(_879,_87a);fn=null;}else{bulk=fn;fn=function(elem,key,_87e){return bulk.call(_847(elem),_87e);};}}if(fn){for(;i<_87d;i++){fn(_879[i],key,raw?_87a:_87a.call(_879[i],i,fn(_879[i],key)));}}}}return _87b?_879:bulk?fn.call(_879):_87d?fn(_879[0],key):_87c;},now:Date.now,swap:function(elem,_87f,_880,args){var ret,name,old={};for(name in _87f){old[name]=elem.style[name];elem.style[name]=_87f[name];}ret=_880.apply(elem,args||[]);for(name in _87f){elem.style[name]=old[name];}return ret;}});_847.ready.promise=function(obj){if(!_836){_836=_847.Deferred();if(_839.readyState==="complete"){setTimeout(_847.ready);}else{_839.addEventListener("DOMContentLoaded",_852,false);_833.addEventListener("load",_852,false);}}return _836.promise(obj);};_847.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){_83d["[object "+name+"]"]=name.toLowerCase();});function _86a(obj){var _881=obj.length,type=_847.type(obj);if(_847.isWindow(obj)){return false;}if(obj.nodeType===1&&_881){return true;}return type==="array"||type!=="function"&&(_881===0||typeof _881==="number"&&_881>0&&(_881-1) in obj);};_835=_847(_839);(function(_882,_883){var i,_884,_885,Expr,_886,_887,_888,_889,_88a,_88b,_839,_83a,_88c,_88d,_88e,_88f,_890,_891="sizzle"+-(new Date()),_892=_882.document,_893=0,done=0,_894=_895(),_896=_895(),_897=_895(),_898=false,_899=function(a,b){if(a===b){_898=true;return 0;}return 0;},_89a=typeof _883,_89b=1<<31,_89c=({}).hasOwnProperty,arr=[],pop=arr.pop,_89d=arr.push,push=arr.push,_89e=arr.slice,_89f=arr.indexOf||function(elem){var i=0,len=this.length;for(;i<len;i++){if(this[i]===elem){return i;}}return -1;},_8a0="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",_8a1="[\\x20\\t\\r\\n\\f]",_8a2="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",_8a3=_8a2.replace("w","w#"),_8a4="\\["+_8a1+"*("+_8a2+")"+_8a1+"*(?:([*^$|!~]?=)"+_8a1+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+_8a3+")|)|)"+_8a1+"*\\]",_8a5=":("+_8a2+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+_8a4.replace(3,8)+")*)|.*)\\)|)",_8a6=new RegExp("^"+_8a1+"+|((?:^|[^\\\\])(?:\\\\.)*)"+_8a1+"+$","g"),_8a7=new RegExp("^"+_8a1+"*,"+_8a1+"*"),_8a8=new RegExp("^"+_8a1+"*([>+~]|"+_8a1+")"+_8a1+"*"),_8a9=new RegExp(_8a1+"*[+~]"),_8aa=new RegExp("="+_8a1+"*([^\\]'\"]*)"+_8a1+"*\\]","g"),_8ab=new RegExp(_8a5),_8ac=new RegExp("^"+_8a3+"$"),_8ad={"ID":new RegExp("^#("+_8a2+")"),"CLASS":new RegExp("^\\.("+_8a2+")"),"TAG":new RegExp("^("+_8a2.replace("w","w*")+")"),"ATTR":new RegExp("^"+_8a4),"PSEUDO":new RegExp("^"+_8a5),"CHILD":new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+_8a1+"*(even|odd|(([+-]|)(\\d*)n|)"+_8a1+"*(?:([+-]|)"+_8a1+"*(\\d+)|))"+_8a1+"*\\)|)","i"),"bool":new RegExp("^(?:"+_8a0+")$","i"),"needsContext":new RegExp("^"+_8a1+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+_8a1+"*((?:-\\d)?\\d*)"+_8a1+"*\\)|)(?=[^-]|$)","i")},_8ae=/^[^{]+\{\s*\[native \w/,_84c=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_8af=/^(?:input|select|textarea|button)$/i,_8b0=/^h\d$/i,_8b1=/'|\\/g,_8b2=new RegExp("\\\\([\\da-f]{1,6}"+_8a1+"?|("+_8a1+")|.)","ig"),_8b3=function(_8b4,_8b5,_8b6){var high="0x"+_8b5-65536;return high!==high||_8b6?_8b5:high<0?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,high&1023|56320);};try{push.apply((arr=_89e.call(_892.childNodes)),_892.childNodes);arr[_892.childNodes.length].nodeType;}catch(e){push={apply:arr.length?function(_8b7,els){_89d.apply(_8b7,_89e.call(els));}:function(_8b8,els){var j=_8b8.length,i=0;while((_8b8[j++]=els[i++])){}_8b8.length=j-1;}};}function _8b9(_8ba,_8bb,_8bc,seed){var _8bd,elem,m,_8be,i,_8bf,old,nid,_8c0,_8c1;if((_8bb?_8bb.ownerDocument||_8bb:_892)!==_839){_88b(_8bb);}_8bb=_8bb||_839;_8bc=_8bc||[];if(!_8ba||typeof _8ba!=="string"){return _8bc;}if((_8be=_8bb.nodeType)!==1&&_8be!==9){return [];}if(_88c&&!seed){if((_8bd=_84c.exec(_8ba))){if((m=_8bd[1])){if(_8be===9){elem=_8bb.getElementById(m);if(elem&&elem.parentNode){if(elem.id===m){_8bc.push(elem);return _8bc;}}else{return _8bc;}}else{if(_8bb.ownerDocument&&(elem=_8bb.ownerDocument.getElementById(m))&&_890(_8bb,elem)&&elem.id===m){_8bc.push(elem);return _8bc;}}}else{if(_8bd[2]){push.apply(_8bc,_8bb.getElementsByTagName(_8ba));return _8bc;}else{if((m=_8bd[3])&&_884.getElementsByClassName&&_8bb.getElementsByClassName){push.apply(_8bc,_8bb.getElementsByClassName(m));return _8bc;}}}}if(_884.qsa&&(!_88d||!_88d.test(_8ba))){nid=old=_891;_8c0=_8bb;_8c1=_8be===9&&_8ba;if(_8be===1&&_8bb.nodeName.toLowerCase()!=="object"){_8bf=_8c2(_8ba);if((old=_8bb.getAttribute("id"))){nid=old.replace(_8b1,"\\$&");}else{_8bb.setAttribute("id",nid);}nid="[id='"+nid+"'] ";i=_8bf.length;while(i--){_8bf[i]=nid+_8c3(_8bf[i]);}_8c0=_8a9.test(_8ba)&&_8bb.parentNode||_8bb;_8c1=_8bf.join(",");}if(_8c1){try{push.apply(_8bc,_8c0.querySelectorAll(_8c1));return _8bc;}catch(qsaError){}finally{if(!old){_8bb.removeAttribute("id");}}}}}return _8c4(_8ba.replace(_8a6,"$1"),_8bb,_8bc,seed);};function _895(){var keys=[];function _8c5(key,_8c6){if(keys.push(key+=" ")>Expr.cacheLength){delete _8c5[keys.shift()];}return (_8c5[key]=_8c6);};return _8c5;};function _8c7(fn){fn[_891]=true;return fn;};function _8c8(fn){var div=_839.createElement("div");try{return !!fn(div);}catch(e){return false;}finally{if(div.parentNode){div.parentNode.removeChild(div);}div=null;}};function _8c9(_8ca,_8cb){var arr=_8ca.split("|"),i=_8ca.length;while(i--){Expr.attrHandle[arr[i]]=_8cb;}};function _8cc(a,b){var cur=b&&a,diff=cur&&a.nodeType===1&&b.nodeType===1&&(~b.sourceIndex||_89b)-(~a.sourceIndex||_89b);if(diff){return diff;}if(cur){while((cur=cur.nextSibling)){if(cur===b){return -1;}}}return a?1:-1;};function _8cd(type){return function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type===type;};};function _8ce(type){return function(elem){var name=elem.nodeName.toLowerCase();return (name==="input"||name==="button")&&elem.type===type;};};function _8cf(fn){return _8c7(function(_8d0){_8d0=+_8d0;return _8c7(function(seed,_8d1){var j,_8d2=fn([],seed.length,_8d0),i=_8d2.length;while(i--){if(seed[(j=_8d2[i])]){seed[j]=!(_8d1[j]=seed[j]);}}});});};_887=_8b9.isXML=function(elem){var _8d3=elem&&(elem.ownerDocument||elem).documentElement;return _8d3?_8d3.nodeName!=="HTML":false;};_884=_8b9.support={};_88b=_8b9.setDocument=function(node){var doc=node?node.ownerDocument||node:_892,_8d4=doc.defaultView;if(doc===_839||doc.nodeType!==9||!doc.documentElement){return _839;}_839=doc;_83a=doc.documentElement;_88c=!_887(doc);if(_8d4&&_8d4.attachEvent&&_8d4!==_8d4.top){_8d4.attachEvent("onbeforeunload",function(){_88b();});}_884.attributes=_8c8(function(div){div.className="i";return !div.getAttribute("className");});_884.getElementsByTagName=_8c8(function(div){div.appendChild(doc.createComment(""));return !div.getElementsByTagName("*").length;});_884.getElementsByClassName=_8c8(function(div){div.innerHTML="<div class='a'></div><div class='a i'></div>";div.firstChild.className="i";return div.getElementsByClassName("i").length===2;});_884.getById=_8c8(function(div){_83a.appendChild(div).id=_891;return !doc.getElementsByName||!doc.getElementsByName(_891).length;});if(_884.getById){Expr.find["ID"]=function(id,_8d5){if(typeof _8d5.getElementById!==_89a&&_88c){var m=_8d5.getElementById(id);return m&&m.parentNode?[m]:[];}};Expr.filter["ID"]=function(id){var _8d6=id.replace(_8b2,_8b3);return function(elem){return elem.getAttribute("id")===_8d6;};};}else{delete Expr.find["ID"];Expr.filter["ID"]=function(id){var _8d7=id.replace(_8b2,_8b3);return function(elem){var node=typeof elem.getAttributeNode!==_89a&&elem.getAttributeNode("id");return node&&node.value===_8d7;};};}Expr.find["TAG"]=_884.getElementsByTagName?function(tag,_8d8){if(typeof _8d8.getElementsByTagName!==_89a){return _8d8.getElementsByTagName(tag);}}:function(tag,_8d9){var elem,tmp=[],i=0,_8da=_8d9.getElementsByTagName(tag);if(tag==="*"){while((elem=_8da[i++])){if(elem.nodeType===1){tmp.push(elem);}}return tmp;}return _8da;};Expr.find["CLASS"]=_884.getElementsByClassName&&function(_8db,_8dc){if(typeof _8dc.getElementsByClassName!==_89a&&_88c){return _8dc.getElementsByClassName(_8db);}};_88e=[];_88d=[];if((_884.qsa=_8ae.test(doc.querySelectorAll))){_8c8(function(div){div.innerHTML="<select><option selected=''></option></select>";if(!div.querySelectorAll("[selected]").length){_88d.push("\\["+_8a1+"*(?:value|"+_8a0+")");}if(!div.querySelectorAll(":checked").length){_88d.push(":checked");}});_8c8(function(div){var _8dd=doc.createElement("input");_8dd.setAttribute("type","hidden");div.appendChild(_8dd).setAttribute("t","");if(div.querySelectorAll("[t^='']").length){_88d.push("[*^$]="+_8a1+"*(?:''|\"\")");}if(!div.querySelectorAll(":enabled").length){_88d.push(":enabled",":disabled");}div.querySelectorAll("*,:x");_88d.push(",.*:");});}if((_884.matchesSelector=_8ae.test((_88f=_83a.webkitMatchesSelector||_83a.mozMatchesSelector||_83a.oMatchesSelector||_83a.msMatchesSelector)))){_8c8(function(div){_884.disconnectedMatch=_88f.call(div,"div");_88f.call(div,"[s!='']:x");_88e.push("!=",_8a5);});}_88d=_88d.length&&new RegExp(_88d.join("|"));_88e=_88e.length&&new RegExp(_88e.join("|"));_890=_8ae.test(_83a.contains)||_83a.compareDocumentPosition?function(a,b){var _8de=a.nodeType===9?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!!(bup&&bup.nodeType===1&&(_8de.contains?_8de.contains(bup):a.compareDocumentPosition&&a.compareDocumentPosition(bup)&16));}:function(a,b){if(b){while((b=b.parentNode)){if(b===a){return true;}}}return false;};_899=_83a.compareDocumentPosition?function(a,b){if(a===b){_898=true;return 0;}var _8df=b.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(b);if(_8df){if(_8df&1||(!_884.sortDetached&&b.compareDocumentPosition(a)===_8df)){if(a===doc||_890(_892,a)){return -1;}if(b===doc||_890(_892,b)){return 1;}return _88a?(_89f.call(_88a,a)-_89f.call(_88a,b)):0;}return _8df&4?-1:1;}return a.compareDocumentPosition?-1:1;}:function(a,b){var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(a===b){_898=true;return 0;}else{if(!aup||!bup){return a===doc?-1:b===doc?1:aup?-1:bup?1:_88a?(_89f.call(_88a,a)-_89f.call(_88a,b)):0;}else{if(aup===bup){return _8cc(a,b);}}}cur=a;while((cur=cur.parentNode)){ap.unshift(cur);}cur=b;while((cur=cur.parentNode)){bp.unshift(cur);}while(ap[i]===bp[i]){i++;}return i?_8cc(ap[i],bp[i]):ap[i]===_892?-1:bp[i]===_892?1:0;};return doc;};_8b9.matches=function(expr,_8e0){return _8b9(expr,null,null,_8e0);};_8b9.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==_839){_88b(elem);}expr=expr.replace(_8aa,"='$1']");if(_884.matchesSelector&&_88c&&(!_88e||!_88e.test(expr))&&(!_88d||!_88d.test(expr))){try{var ret=_88f.call(elem,expr);if(ret||_884.disconnectedMatch||elem.document&&elem.document.nodeType!==11){return ret;}}catch(e){}}return _8b9(expr,_839,null,[elem]).length>0;};_8b9.contains=function(_8e1,elem){if((_8e1.ownerDocument||_8e1)!==_839){_88b(_8e1);}return _890(_8e1,elem);};_8b9.attr=function(elem,name){if((elem.ownerDocument||elem)!==_839){_88b(elem);}var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&_89c.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!_88c):_883;return val===_883?_884.attributes||!_88c?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null:val;};_8b9.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg);};_8b9.uniqueSort=function(_8e2){var elem,_8e3=[],j=0,i=0;_898=!_884.detectDuplicates;_88a=!_884.sortStable&&_8e2.slice(0);_8e2.sort(_899);if(_898){while((elem=_8e2[i++])){if(elem===_8e2[i]){j=_8e3.push(i);}}while(j--){_8e2.splice(_8e3[j],1);}}return _8e2;};_886=_8b9.getText=function(elem){var node,ret="",i=0,_8e4=elem.nodeType;if(!_8e4){for(;(node=elem[i]);i++){ret+=_886(node);}}else{if(_8e4===1||_8e4===9||_8e4===11){if(typeof elem.textContent==="string"){return elem.textContent;}else{for(elem=elem.firstChild;elem;elem=elem.nextSibling){ret+=_886(elem);}}}else{if(_8e4===3||_8e4===4){return elem.nodeValue;}}}return ret;};Expr=_8b9.selectors={cacheLength:50,createPseudo:_8c7,match:_8ad,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{"ATTR":function(_8e5){_8e5[1]=_8e5[1].replace(_8b2,_8b3);_8e5[3]=(_8e5[4]||_8e5[5]||"").replace(_8b2,_8b3);if(_8e5[2]==="~="){_8e5[3]=" "+_8e5[3]+" ";}return _8e5.slice(0,4);},"CHILD":function(_8e6){_8e6[1]=_8e6[1].toLowerCase();if(_8e6[1].slice(0,3)==="nth"){if(!_8e6[3]){_8b9.error(_8e6[0]);}_8e6[4]=+(_8e6[4]?_8e6[5]+(_8e6[6]||1):2*(_8e6[3]==="even"||_8e6[3]==="odd"));_8e6[5]=+((_8e6[7]+_8e6[8])||_8e6[3]==="odd");}else{if(_8e6[3]){_8b9.error(_8e6[0]);}}return _8e6;},"PSEUDO":function(_8e7){var _8e8,_8e9=!_8e7[5]&&_8e7[2];if(_8ad["CHILD"].test(_8e7[0])){return null;}if(_8e7[3]&&_8e7[4]!==_883){_8e7[2]=_8e7[4];}else{if(_8e9&&_8ab.test(_8e9)&&(_8e8=_8c2(_8e9,true))&&(_8e8=_8e9.indexOf(")",_8e9.length-_8e8)-_8e9.length)){_8e7[0]=_8e7[0].slice(0,_8e8);_8e7[2]=_8e9.slice(0,_8e8);}}return _8e7.slice(0,3);}},filter:{"TAG":function(_8ea){var _8eb=_8ea.replace(_8b2,_8b3).toLowerCase();return _8ea==="*"?function(){return true;}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===_8eb;};},"CLASS":function(_8ec){var _8ed=_894[_8ec+" "];return _8ed||(_8ed=new RegExp("(^|"+_8a1+")"+_8ec+"("+_8a1+"|$)"))&&_894(_8ec,function(elem){return _8ed.test(typeof elem.className==="string"&&elem.className||typeof elem.getAttribute!==_89a&&elem.getAttribute("class")||"");});},"ATTR":function(name,_8ee,_8ef){return function(elem){var _8f0=_8b9.attr(elem,name);if(_8f0==null){return _8ee==="!=";}if(!_8ee){return true;}_8f0+="";return _8ee==="="?_8f0===_8ef:_8ee==="!="?_8f0!==_8ef:_8ee==="^="?_8ef&&_8f0.indexOf(_8ef)===0:_8ee==="*="?_8ef&&_8f0.indexOf(_8ef)>-1:_8ee==="$="?_8ef&&_8f0.slice(-_8ef.length)===_8ef:_8ee==="~="?(" "+_8f0+" ").indexOf(_8ef)>-1:_8ee==="|="?_8f0===_8ef||_8f0.slice(0,_8ef.length+1)===_8ef+"-":false;};},"CHILD":function(type,what,_8f1,_8f2,last){var _8f3=type.slice(0,3)!=="nth",_8f4=type.slice(-4)!=="last",_8f5=what==="of-type";return _8f2===1&&last===0?function(elem){return !!elem.parentNode;}:function(elem,_8f6,xml){var _8f7,_8f8,node,diff,_8f9,_8fa,dir=_8f3!==_8f4?"nextSibling":"previousSibling",_8fb=elem.parentNode,name=_8f5&&elem.nodeName.toLowerCase(),_8fc=!xml&&!_8f5;if(_8fb){if(_8f3){while(dir){node=elem;while((node=node[dir])){if(_8f5?node.nodeName.toLowerCase()===name:node.nodeType===1){return false;}}_8fa=dir=type==="only"&&!_8fa&&"nextSibling";}return true;}_8fa=[_8f4?_8fb.firstChild:_8fb.lastChild];if(_8f4&&_8fc){_8f8=_8fb[_891]||(_8fb[_891]={});_8f7=_8f8[type]||[];_8f9=_8f7[0]===_893&&_8f7[1];diff=_8f7[0]===_893&&_8f7[2];node=_8f9&&_8fb.childNodes[_8f9];while((node=++_8f9&&node&&node[dir]||(diff=_8f9=0)||_8fa.pop())){if(node.nodeType===1&&++diff&&node===elem){_8f8[type]=[_893,_8f9,diff];break;}}}else{if(_8fc&&(_8f7=(elem[_891]||(elem[_891]={}))[type])&&_8f7[0]===_893){diff=_8f7[1];}else{while((node=++_8f9&&node&&node[dir]||(diff=_8f9=0)||_8fa.pop())){if((_8f5?node.nodeName.toLowerCase()===name:node.nodeType===1)&&++diff){if(_8fc){(node[_891]||(node[_891]={}))[type]=[_893,diff];}if(node===elem){break;}}}}}diff-=last;return diff===_8f2||(diff%_8f2===0&&diff/_8f2>=0);}};},"PSEUDO":function(_8fd,_8fe){var args,fn=Expr.pseudos[_8fd]||Expr.setFilters[_8fd.toLowerCase()]||_8b9.error("unsupported pseudo: "+_8fd);if(fn[_891]){return fn(_8fe);}if(fn.length>1){args=[_8fd,_8fd,"",_8fe];return Expr.setFilters.hasOwnProperty(_8fd.toLowerCase())?_8c7(function(seed,_8ff){var idx,_900=fn(seed,_8fe),i=_900.length;while(i--){idx=_89f.call(seed,_900[i]);seed[idx]=!(_8ff[idx]=_900[i]);}}):function(elem){return fn(elem,0,args);};}return fn;}},pseudos:{"not":_8c7(function(_901){var _902=[],_903=[],_904=_888(_901.replace(_8a6,"$1"));return _904[_891]?_8c7(function(seed,_905,_906,xml){var elem,_907=_904(seed,null,xml,[]),i=seed.length;while(i--){if((elem=_907[i])){seed[i]=!(_905[i]=elem);}}}):function(elem,_908,xml){_902[0]=elem;_904(_902,null,xml,_903);return !_903.pop();};}),"has":_8c7(function(_909){return function(elem){return _8b9(_909,elem).length>0;};}),"contains":_8c7(function(text){return function(elem){return (elem.textContent||elem.innerText||_886(elem)).indexOf(text)>-1;};}),"lang":_8c7(function(lang){if(!_8ac.test(lang||"")){_8b9.error("unsupported lang: "+lang);}lang=lang.replace(_8b2,_8b3).toLowerCase();return function(elem){var _90a;do{if((_90a=_88c?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))){_90a=_90a.toLowerCase();return _90a===lang||_90a.indexOf(lang+"-")===0;}}while((elem=elem.parentNode)&&elem.nodeType===1);return false;};}),"target":function(elem){var hash=_882.location&&_882.location.hash;return hash&&hash.slice(1)===elem.id;},"root":function(elem){return elem===_83a;},"focus":function(elem){return elem===_839.activeElement&&(!_839.hasFocus||_839.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex);},"enabled":function(elem){return elem.disabled===false;},"disabled":function(elem){return elem.disabled===true;},"checked":function(elem){var _90b=elem.nodeName.toLowerCase();return (_90b==="input"&&!!elem.checked)||(_90b==="option"&&!!elem.selected);},"selected":function(elem){if(elem.parentNode){elem.parentNode.selectedIndex;}return elem.selected===true;},"empty":function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling){if(elem.nodeName>"@"||elem.nodeType===3||elem.nodeType===4){return false;}}return true;},"parent":function(elem){return !Expr.pseudos["empty"](elem);},"header":function(elem){return _8b0.test(elem.nodeName);},"input":function(elem){return _8af.test(elem.nodeName);},"button":function(elem){var name=elem.nodeName.toLowerCase();return name==="input"&&elem.type==="button"||name==="button";},"text":function(elem){var attr;return elem.nodeName.toLowerCase()==="input"&&elem.type==="text"&&((attr=elem.getAttribute("type"))==null||attr.toLowerCase()===elem.type);},"first":_8cf(function(){return [0];}),"last":_8cf(function(_90c,_90d){return [_90d-1];}),"eq":_8cf(function(_90e,_90f,_910){return [_910<0?_910+_90f:_910];}),"even":_8cf(function(_911,_912){var i=0;for(;i<_912;i+=2){_911.push(i);}return _911;}),"odd":_8cf(function(_913,_914){var i=1;for(;i<_914;i+=2){_913.push(i);}return _913;}),"lt":_8cf(function(_915,_916,_917){var i=_917<0?_917+_916:_917;for(;--i>=0;){_915.push(i);}return _915;}),"gt":_8cf(function(_918,_919,_91a){var i=_91a<0?_91a+_919:_91a;for(;++i<_919;){_918.push(i);}return _918;})}};Expr.pseudos["nth"]=Expr.pseudos["eq"];for(i in {radio:true,checkbox:true,file:true,password:true,image:true}){Expr.pseudos[i]=_8cd(i);}for(i in {submit:true,reset:true}){Expr.pseudos[i]=_8ce(i);}function _91b(){};_91b.prototype=Expr.filters=Expr.pseudos;Expr.setFilters=new _91b();function _8c2(_91c,_91d){var _91e,_91f,_920,type,_921,_922,_923,_924=_896[_91c+" "];if(_924){return _91d?0:_924.slice(0);}_921=_91c;_922=[];_923=Expr.preFilter;while(_921){if(!_91e||(_91f=_8a7.exec(_921))){if(_91f){_921=_921.slice(_91f[0].length)||_921;}_922.push(_920=[]);}_91e=false;if((_91f=_8a8.exec(_921))){_91e=_91f.shift();_920.push({value:_91e,type:_91f[0].replace(_8a6," ")});_921=_921.slice(_91e.length);}for(type in Expr.filter){if((_91f=_8ad[type].exec(_921))&&(!_923[type]||(_91f=_923[type](_91f)))){_91e=_91f.shift();_920.push({value:_91e,type:type,matches:_91f});_921=_921.slice(_91e.length);}}if(!_91e){break;}}return _91d?_921.length:_921?_8b9.error(_91c):_896(_91c,_922).slice(0);};function _8c3(_925){var i=0,len=_925.length,_926="";for(;i<len;i++){_926+=_925[i].value;}return _926;};function _927(_928,_929,base){var dir=_929.dir,_92a=base&&dir==="parentNode",_92b=done++;return _929.first?function(elem,_92c,xml){while((elem=elem[dir])){if(elem.nodeType===1||_92a){return _928(elem,_92c,xml);}}}:function(elem,_92d,xml){var data,_92e,_92f,_930=_893+" "+_92b;if(xml){while((elem=elem[dir])){if(elem.nodeType===1||_92a){if(_928(elem,_92d,xml)){return true;}}}}else{while((elem=elem[dir])){if(elem.nodeType===1||_92a){_92f=elem[_891]||(elem[_891]={});if((_92e=_92f[dir])&&_92e[0]===_930){if((data=_92e[1])===true||data===_885){return data===true;}}else{_92e=_92f[dir]=[_930];_92e[1]=_928(elem,_92d,xml)||_885;if(_92e[1]===true){return true;}}}}}};};function _931(_932){return _932.length>1?function(elem,_933,xml){var i=_932.length;while(i--){if(!_932[i](elem,_933,xml)){return false;}}return true;}:_932[0];};function _934(_935,map,_936,_937,xml){var elem,_938=[],i=0,len=_935.length,_939=map!=null;for(;i<len;i++){if((elem=_935[i])){if(!_936||_936(elem,_937,xml)){_938.push(elem);if(_939){map.push(i);}}}}return _938;};function _93a(_93b,_93c,_93d,_93e,_93f,_940){if(_93e&&!_93e[_891]){_93e=_93a(_93e);}if(_93f&&!_93f[_891]){_93f=_93a(_93f,_940);}return _8c7(function(seed,_941,_942,xml){var temp,i,elem,_943=[],_944=[],_945=_941.length,_946=seed||_947(_93c||"*",_942.nodeType?[_942]:_942,[]),_948=_93b&&(seed||!_93c)?_934(_946,_943,_93b,_942,xml):_946,_949=_93d?_93f||(seed?_93b:_945||_93e)?[]:_941:_948;if(_93d){_93d(_948,_949,_942,xml);}if(_93e){temp=_934(_949,_944);_93e(temp,[],_942,xml);i=temp.length;while(i--){if((elem=temp[i])){_949[_944[i]]=!(_948[_944[i]]=elem);}}}if(seed){if(_93f||_93b){if(_93f){temp=[];i=_949.length;while(i--){if((elem=_949[i])){temp.push((_948[i]=elem));}}_93f(null,(_949=[]),temp,xml);}i=_949.length;while(i--){if((elem=_949[i])&&(temp=_93f?_89f.call(seed,elem):_943[i])>-1){seed[temp]=!(_941[temp]=elem);}}}}else{_949=_934(_949===_941?_949.splice(_945,_949.length):_949);if(_93f){_93f(null,_941,_949,xml);}else{push.apply(_941,_949);}}});};function _94a(_94b){var _94c,_94d,j,len=_94b.length,_94e=Expr.relative[_94b[0].type],_94f=_94e||Expr.relative[" "],i=_94e?1:0,_950=_927(function(elem){return elem===_94c;},_94f,true),_951=_927(function(elem){return _89f.call(_94c,elem)>-1;},_94f,true),_952=[function(elem,_953,xml){return (!_94e&&(xml||_953!==_889))||((_94c=_953).nodeType?_950(elem,_953,xml):_951(elem,_953,xml));}];for(;i<len;i++){if((_94d=Expr.relative[_94b[i].type])){_952=[_927(_931(_952),_94d)];}else{_94d=Expr.filter[_94b[i].type].apply(null,_94b[i].matches);if(_94d[_891]){j=++i;for(;j<len;j++){if(Expr.relative[_94b[j].type]){break;}}return _93a(i>1&&_931(_952),i>1&&_8c3(_94b.slice(0,i-1).concat({value:_94b[i-2].type===" "?"*":""})).replace(_8a6,"$1"),_94d,i<j&&_94a(_94b.slice(i,j)),j<len&&_94a((_94b=_94b.slice(j))),j<len&&_8c3(_94b));}_952.push(_94d);}}return _931(_952);};function _954(_955,_956){var _957=0,_958=_956.length>0,_959=_955.length>0,_95a=function(seed,_95b,xml,_95c,_95d){var elem,j,_95e,_95f=[],_960=0,i="0",_961=seed&&[],_962=_95d!=null,_963=_889,_964=seed||_959&&Expr.find["TAG"]("*",_95d&&_95b.parentNode||_95b),_965=(_893+=_963==null?1:Math.random()||0.1);if(_962){_889=_95b!==_839&&_95b;_885=_957;}for(;(elem=_964[i])!=null;i++){if(_959&&elem){j=0;while((_95e=_955[j++])){if(_95e(elem,_95b,xml)){_95c.push(elem);break;}}if(_962){_893=_965;_885=++_957;}}if(_958){if((elem=!_95e&&elem)){_960--;}if(seed){_961.push(elem);}}}_960+=i;if(_958&&i!==_960){j=0;while((_95e=_956[j++])){_95e(_961,_95f,_95b,xml);}if(seed){if(_960>0){while(i--){if(!(_961[i]||_95f[i])){_95f[i]=pop.call(_95c);}}}_95f=_934(_95f);}push.apply(_95c,_95f);if(_962&&!seed&&_95f.length>0&&(_960+_956.length)>1){_8b9.uniqueSort(_95c);}}if(_962){_893=_965;_889=_963;}return _961;};return _958?_8c7(_95a):_95a;};_888=_8b9.compile=function(_966,_967){var i,_968=[],_969=[],_96a=_897[_966+" "];if(!_96a){if(!_967){_967=_8c2(_966);}i=_967.length;while(i--){_96a=_94a(_967[i]);if(_96a[_891]){_968.push(_96a);}else{_969.push(_96a);}}_96a=_897(_966,_954(_969,_968));}return _96a;};function _947(_96b,_96c,_96d){var i=0,len=_96c.length;for(;i<len;i++){_8b9(_96b,_96c[i],_96d);}return _96d;};function _8c4(_96e,_96f,_970,seed){var i,_971,_972,type,find,_973=_8c2(_96e);if(!seed){if(_973.length===1){_971=_973[0]=_973[0].slice(0);if(_971.length>2&&(_972=_971[0]).type==="ID"&&_884.getById&&_96f.nodeType===9&&_88c&&Expr.relative[_971[1].type]){_96f=(Expr.find["ID"](_972.matches[0].replace(_8b2,_8b3),_96f)||[])[0];if(!_96f){return _970;}_96e=_96e.slice(_971.shift().value.length);}i=_8ad["needsContext"].test(_96e)?0:_971.length;while(i--){_972=_971[i];if(Expr.relative[(type=_972.type)]){break;}if((find=Expr.find[type])){if((seed=find(_972.matches[0].replace(_8b2,_8b3),_8a9.test(_971[0].type)&&_96f.parentNode||_96f))){_971.splice(i,1);_96e=seed.length&&_8c3(_971);if(!_96e){push.apply(_970,seed);return _970;}break;}}}}}_888(_96e,_973)(seed,_96f,!_88c,_970,_8a9.test(_96e));return _970;};_884.sortStable=_891.split("").sort(_899).join("")===_891;_884.detectDuplicates=_898;_88b();_884.sortDetached=_8c8(function(div1){return div1.compareDocumentPosition(_839.createElement("div"))&1;});if(!_8c8(function(div){div.innerHTML="<a href='#'></a>";return div.firstChild.getAttribute("href")==="#";})){_8c9("type|href|height|width",function(elem,name,_974){if(!_974){return elem.getAttribute(name,name.toLowerCase()==="type"?1:2);}});}if(!_884.attributes||!_8c8(function(div){div.innerHTML="<input/>";div.firstChild.setAttribute("value","");return div.firstChild.getAttribute("value")==="";})){_8c9("value",function(elem,name,_975){if(!_975&&elem.nodeName.toLowerCase()==="input"){return elem.defaultValue;}});}if(!_8c8(function(div){return div.getAttribute("disabled")==null;})){_8c9(_8a0,function(elem,name,_976){var val;if(!_976){return (val=elem.getAttributeNode(name))&&val.specified?val.value:elem[name]===true?name.toLowerCase():null;}});}_847.find=_8b9;_847.expr=_8b9.selectors;_847.expr[":"]=_847.expr.pseudos;_847.unique=_8b9.uniqueSort;_847.text=_8b9.getText;_847.isXMLDoc=_8b9.isXML;_847.contains=_8b9.contains;})(_833);var _977={};function _978(_979){var _97a=_977[_979]={};_847.each(_979.match(_84b)||[],function(_97b,flag){_97a[flag]=true;});return _97a;};_847.Callbacks=function(_97c){_97c=typeof _97c==="string"?(_977[_97c]||_978(_97c)):_847.extend({},_97c);var _97d,_97e,_97f,_980,_981,_982,list=[],_983=!_97c.once&&[],fire=function(data){_97d=_97c.memory&&data;_97e=true;_982=_980||0;_980=0;_981=list.length;_97f=true;for(;list&&_982<_981;_982++){if(list[_982].apply(data[0],data[1])===false&&_97c.stopOnFalse){_97d=false;break;}}_97f=false;if(list){if(_983){if(_983.length){fire(_983.shift());}}else{if(_97d){list=[];}else{self.disable();}}}},self={add:function(){if(list){var _984=list.length;(function add(args){_847.each(args,function(_985,arg){var type=_847.type(arg);if(type==="function"){if(!_97c.unique||!self.has(arg)){list.push(arg);}}else{if(arg&&arg.length&&type!=="string"){add(arg);}}});})(arguments);if(_97f){_981=list.length;}else{if(_97d){_980=_984;fire(_97d);}}}return this;},remove:function(){if(list){_847.each(arguments,function(_986,arg){var _987;while((_987=_847.inArray(arg,list,_987))>-1){list.splice(_987,1);if(_97f){if(_987<=_981){_981--;}if(_987<=_982){_982--;}}}});}return this;},has:function(fn){return fn?_847.inArray(fn,list)>-1:!!(list&&list.length);},empty:function(){list=[];_981=0;return this;},disable:function(){list=_983=_97d=_834;return this;},disabled:function(){return !list;},lock:function(){_983=_834;if(!_97d){self.disable();}return this;},locked:function(){return !_983;},fireWith:function(_988,args){if(list&&(!_97e||_983)){args=args||[];args=[_988,args.slice?args.slice():args];if(_97f){_983.push(args);}else{fire(args);}}return this;},fire:function(){self.fireWith(this,arguments);return this;},fired:function(){return !!_97e;}};return self;};_847.extend({Deferred:function(func){var _989=[["resolve","done",_847.Callbacks("once memory"),"resolved"],["reject","fail",_847.Callbacks("once memory"),"rejected"],["notify","progress",_847.Callbacks("memory")]],_98a="pending",_98b={state:function(){return _98a;},always:function(){_98c.done(arguments).fail(arguments);return this;},then:function(){var fns=arguments;return _847.Deferred(function(_98d){_847.each(_989,function(i,_98e){var _98f=_98e[0],fn=_847.isFunction(fns[i])&&fns[i];_98c[_98e[1]](function(){var _990=fn&&fn.apply(this,arguments);if(_990&&_847.isFunction(_990.promise)){_990.promise().done(_98d.resolve).fail(_98d.reject).progress(_98d.notify);}else{_98d[_98f+"With"](this===_98b?_98d.promise():this,fn?[_990]:arguments);}});});fns=null;}).promise();},promise:function(obj){return obj!=null?_847.extend(obj,_98b):_98b;}},_98c={};_98b.pipe=_98b.then;_847.each(_989,function(i,_991){var list=_991[2],_992=_991[3];_98b[_991[1]]=list.add;if(_992){list.add(function(){_98a=_992;},_989[i^1][2].disable,_989[2][2].lock);}_98c[_991[0]]=function(){_98c[_991[0]+"With"](this===_98c?_98b:this,arguments);return this;};_98c[_991[0]+"With"]=list.fireWith;});_98b.promise(_98c);if(func){func.call(_98c,_98c);}return _98c;},when:function(_993){var i=0,_994=_842.call(arguments),_995=_994.length,_996=_995!==1||(_993&&_847.isFunction(_993.promise))?_995:0,_997=_996===1?_993:_847.Deferred(),_998=function(i,_999,_99a){return function(_99b){_999[i]=this;_99a[i]=arguments.length>1?_842.call(arguments):_99b;if(_99a===_99c){_997.notifyWith(_999,_99a);}else{if(!(--_996)){_997.resolveWith(_999,_99a);}}};},_99c,_99d,_99e;if(_995>1){_99c=new Array(_995);_99d=new Array(_995);_99e=new Array(_995);for(;i<_995;i++){if(_994[i]&&_847.isFunction(_994[i].promise)){_994[i].promise().done(_998(i,_99e,_994)).fail(_997.reject).progress(_998(i,_99d,_99c));}else{--_996;}}}if(!_996){_997.resolveWith(_99e,_994);}return _997.promise();}});_847.support=(function(_99f){var _9a0=_839.createElement("input"),_9a1=_839.createDocumentFragment(),div=_839.createElement("div"),_9a2=_839.createElement("select"),opt=_9a2.appendChild(_839.createElement("option"));if(!_9a0.type){return _99f;}_9a0.type="checkbox";_99f.checkOn=_9a0.value!=="";_99f.optSelected=opt.selected;_99f.reliableMarginRight=true;_99f.boxSizingReliable=true;_99f.pixelPosition=false;_9a0.checked=true;_99f.noCloneChecked=_9a0.cloneNode(true).checked;_9a2.disabled=true;_99f.optDisabled=!opt.disabled;_9a0=_839.createElement("input");_9a0.value="t";_9a0.type="radio";_99f.radioValue=_9a0.value==="t";_9a0.setAttribute("checked","t");_9a0.setAttribute("name","t");_9a1.appendChild(_9a0);_99f.checkClone=_9a1.cloneNode(true).cloneNode(true).lastChild.checked;_99f.focusinBubbles="onfocusin" in _833;div.style.backgroundClip="content-box";div.cloneNode(true).style.backgroundClip="";_99f.clearCloneStyle=div.style.backgroundClip==="content-box";_847(function(){var _9a3,_9a4,_9a5="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",body=_839.getElementsByTagName("body")[0];if(!body){return;}_9a3=_839.createElement("div");_9a3.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px";body.appendChild(_9a3).appendChild(div);div.innerHTML="";div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%";_847.swap(body,body.style.zoom!=null?{zoom:1}:{},function(){_99f.boxSizing=div.offsetWidth===4;});if(_833.getComputedStyle){_99f.pixelPosition=(_833.getComputedStyle(div,null)||{}).top!=="1%";_99f.boxSizingReliable=(_833.getComputedStyle(div,null)||{width:"4px"}).width==="4px";_9a4=div.appendChild(_839.createElement("div"));_9a4.style.cssText=div.style.cssText=_9a5;_9a4.style.marginRight=_9a4.style.width="0";div.style.width="1px";_99f.reliableMarginRight=!parseFloat((_833.getComputedStyle(_9a4,null)||{}).marginRight);}body.removeChild(_9a3);});return _99f;})({});var _9a6,_9a7,_9a8=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,_9a9=/([A-Z])/g;function Data(){Object.defineProperty(this.cache={},0,{get:function(){return {};}});this.expando=_847.expando+Math.random();};Data.uid=1;Data.accepts=function(_9aa){return _9aa.nodeType?_9aa.nodeType===1||_9aa.nodeType===9:true;};Data.prototype={key:function(_9ab){if(!Data.accepts(_9ab)){return 0;}var _9ac={},_9ad=_9ab[this.expando];if(!_9ad){_9ad=Data.uid++;try{_9ac[this.expando]={value:_9ad};Object.defineProperties(_9ab,_9ac);}catch(e){_9ac[this.expando]=_9ad;_847.extend(_9ab,_9ac);}}if(!this.cache[_9ad]){this.cache[_9ad]={};}return _9ad;},set:function(_9ae,data,_9af){var prop,_9b0=this.key(_9ae),_9b1=this.cache[_9b0];if(typeof data==="string"){_9b1[data]=_9af;}else{if(_847.isEmptyObject(_9b1)){_847.extend(this.cache[_9b0],data);}else{for(prop in data){_9b1[prop]=data[prop];}}}return _9b1;},get:function(_9b2,key){var _9b3=this.cache[this.key(_9b2)];return key===_834?_9b3:_9b3[key];},access:function(_9b4,key,_9b5){var _9b6;if(key===_834||((key&&typeof key==="string")&&_9b5===_834)){_9b6=this.get(_9b4,key);return _9b6!==_834?_9b6:this.get(_9b4,_847.camelCase(key));}this.set(_9b4,key,_9b5);return _9b5!==_834?_9b5:key;},remove:function(_9b7,key){var i,name,_9b8,_9b9=this.key(_9b7),_9ba=this.cache[_9b9];if(key===_834){this.cache[_9b9]={};}else{if(_847.isArray(key)){name=key.concat(key.map(_847.camelCase));}else{_9b8=_847.camelCase(key);if(key in _9ba){name=[key,_9b8];}else{name=_9b8;name=name in _9ba?[name]:(name.match(_84b)||[]);}}i=name.length;while(i--){delete _9ba[name[i]];}}},hasData:function(_9bb){return !_847.isEmptyObject(this.cache[_9bb[this.expando]]||{});},discard:function(_9bc){if(_9bc[this.expando]){delete this.cache[_9bc[this.expando]];}}};_9a6=new Data();_9a7=new Data();_847.extend({acceptData:Data.accepts,hasData:function(elem){return _9a6.hasData(elem)||_9a7.hasData(elem);},data:function(elem,name,data){return _9a6.access(elem,name,data);},removeData:function(elem,name){_9a6.remove(elem,name);},_data:function(elem,name,data){return _9a7.access(elem,name,data);},_removeData:function(elem,name){_9a7.remove(elem,name);}});_847.fn.extend({data:function(key,_9bd){var _9be,name,elem=this[0],i=0,data=null;if(key===_834){if(this.length){data=_9a6.get(elem);if(elem.nodeType===1&&!_9a7.get(elem,"hasDataAttrs")){_9be=elem.attributes;for(;i<_9be.length;i++){name=_9be[i].name;if(name.indexOf("data-")===0){name=_847.camelCase(name.slice(5));_9bf(elem,name,data[name]);}}_9a7.set(elem,"hasDataAttrs",true);}}return data;}if(typeof key==="object"){return this.each(function(){_9a6.set(this,key);});}return _847.access(this,function(_9c0){var data,_9c1=_847.camelCase(key);if(elem&&_9c0===_834){data=_9a6.get(elem,key);if(data!==_834){return data;}data=_9a6.get(elem,_9c1);if(data!==_834){return data;}data=_9bf(elem,_9c1,_834);if(data!==_834){return data;}return;}this.each(function(){var data=_9a6.get(this,_9c1);_9a6.set(this,_9c1,_9c0);if(key.indexOf("-")!==-1&&data!==_834){_9a6.set(this,key,_9c0);}});},null,_9bd,arguments.length>1,null,true);},removeData:function(key){return this.each(function(){_9a6.remove(this,key);});}});function _9bf(elem,key,data){var name;if(data===_834&&elem.nodeType===1){name="data-"+key.replace(_9a9,"-$1").toLowerCase();data=elem.getAttribute(name);if(typeof data==="string"){try{data=data==="true"?true:data==="false"?false:data==="null"?null:+data+""===data?+data:_9a8.test(data)?JSON.parse(data):data;}catch(e){}_9a6.set(elem,key,data);}else{data=_834;}}return data;};_847.extend({queue:function(elem,type,data){var _9c2;if(elem){type=(type||"fx")+"queue";_9c2=_9a7.get(elem,type);if(data){if(!_9c2||_847.isArray(data)){_9c2=_9a7.access(elem,type,_847.makeArray(data));}else{_9c2.push(data);}}return _9c2||[];}},dequeue:function(elem,type){type=type||"fx";var _9c3=_847.queue(elem,type),_9c4=_9c3.length,fn=_9c3.shift(),_9c5=_847._queueHooks(elem,type),next=function(){_847.dequeue(elem,type);};if(fn==="inprogress"){fn=_9c3.shift();_9c4--;}if(fn){if(type==="fx"){_9c3.unshift("inprogress");}delete _9c5.stop;fn.call(elem,next,_9c5);}if(!_9c4&&_9c5){_9c5.empty.fire();}},_queueHooks:function(elem,type){var key=type+"queueHooks";return _9a7.get(elem,key)||_9a7.access(elem,key,{empty:_847.Callbacks("once memory").add(function(){_9a7.remove(elem,[type+"queue",key]);})});}});_847.fn.extend({queue:function(type,data){var _9c6=2;if(typeof type!=="string"){data=type;type="fx";_9c6--;}if(arguments.length<_9c6){return _847.queue(this[0],type);}return data===_834?this:this.each(function(){var _9c7=_847.queue(this,type,data);_847._queueHooks(this,type);if(type==="fx"&&_9c7[0]!=="inprogress"){_847.dequeue(this,type);}});},dequeue:function(type){return this.each(function(){_847.dequeue(this,type);});},delay:function(time,type){time=_847.fx?_847.fx.speeds[time]||time:time;type=type||"fx";return this.queue(type,function(next,_9c8){var _9c9=setTimeout(next,time);_9c8.stop=function(){clearTimeout(_9c9);};});},clearQueue:function(type){return this.queue(type||"fx",[]);},promise:function(type,obj){var tmp,_9ca=1,_9cb=_847.Deferred(),_9cc=this,i=this.length,_9cd=function(){if(!(--_9ca)){_9cb.resolveWith(_9cc,[_9cc]);}};if(typeof type!=="string"){obj=type;type=_834;}type=type||"fx";while(i--){tmp=_9a7.get(_9cc[i],type+"queueHooks");if(tmp&&tmp.empty){_9ca++;tmp.empty.add(_9cd);}}_9cd();return _9cb.promise(obj);}});var _9ce,_9cf,_9d0=/[\t\r\n\f]/g,_9d1=/\r/g,_9d2=/^(?:input|select|textarea|button)$/i;_847.fn.extend({attr:function(name,_9d3){return _847.access(this,_847.attr,name,_9d3,arguments.length>1);},removeAttr:function(name){return this.each(function(){_847.removeAttr(this,name);});},prop:function(name,_9d4){return _847.access(this,_847.prop,name,_9d4,arguments.length>1);},removeProp:function(name){return this.each(function(){delete this[_847.propFix[name]||name];});},addClass:function(_9d5){var _9d6,elem,cur,_9d7,j,i=0,len=this.length,_9d8=typeof _9d5==="string"&&_9d5;if(_847.isFunction(_9d5)){return this.each(function(j){_847(this).addClass(_9d5.call(this,j,this.className));});}if(_9d8){_9d6=(_9d5||"").match(_84b)||[];for(;i<len;i++){elem=this[i];cur=elem.nodeType===1&&(elem.className?(" "+elem.className+" ").replace(_9d0," "):" ");if(cur){j=0;while((_9d7=_9d6[j++])){if(cur.indexOf(" "+_9d7+" ")<0){cur+=_9d7+" ";}}elem.className=_847.trim(cur);}}}return this;},removeClass:function(_9d9){var _9da,elem,cur,_9db,j,i=0,len=this.length,_9dc=arguments.length===0||typeof _9d9==="string"&&_9d9;if(_847.isFunction(_9d9)){return this.each(function(j){_847(this).removeClass(_9d9.call(this,j,this.className));});}if(_9dc){_9da=(_9d9||"").match(_84b)||[];for(;i<len;i++){elem=this[i];cur=elem.nodeType===1&&(elem.className?(" "+elem.className+" ").replace(_9d0," "):"");if(cur){j=0;while((_9db=_9da[j++])){while(cur.indexOf(" "+_9db+" ")>=0){cur=cur.replace(" "+_9db+" "," ");}}elem.className=_9d9?_847.trim(cur):"";}}}return this;},toggleClass:function(_9dd,_9de){var type=typeof _9dd;if(typeof _9de==="boolean"&&type==="string"){return _9de?this.addClass(_9dd):this.removeClass(_9dd);}if(_847.isFunction(_9dd)){return this.each(function(i){_847(this).toggleClass(_9dd.call(this,i,this.className,_9de),_9de);});}return this.each(function(){if(type==="string"){var _9df,i=0,self=_847(this),_9e0=_9dd.match(_84b)||[];while((_9df=_9e0[i++])){if(self.hasClass(_9df)){self.removeClass(_9df);}else{self.addClass(_9df);}}}else{if(type===_837||type==="boolean"){if(this.className){_9a7.set(this,"__className__",this.className);}this.className=this.className||_9dd===false?"":_9a7.get(this,"__className__")||"";}}});},hasClass:function(_9e1){var _9e2=" "+_9e1+" ",i=0,l=this.length;for(;i<l;i++){if(this[i].nodeType===1&&(" "+this[i].className+" ").replace(_9d0," ").indexOf(_9e2)>=0){return true;}}return false;},val:function(_9e3){var _9e4,ret,_9e5,elem=this[0];if(!arguments.length){if(elem){_9e4=_847.valHooks[elem.type]||_847.valHooks[elem.nodeName.toLowerCase()];if(_9e4&&"get" in _9e4&&(ret=_9e4.get(elem,"value"))!==_834){return ret;}ret=elem.value;return typeof ret==="string"?ret.replace(_9d1,""):ret==null?"":ret;}return;}_9e5=_847.isFunction(_9e3);return this.each(function(i){var val;if(this.nodeType!==1){return;}if(_9e5){val=_9e3.call(this,i,_847(this).val());}else{val=_9e3;}if(val==null){val="";}else{if(typeof val==="number"){val+="";}else{if(_847.isArray(val)){val=_847.map(val,function(_9e6){return _9e6==null?"":_9e6+"";});}}}_9e4=_847.valHooks[this.type]||_847.valHooks[this.nodeName.toLowerCase()];if(!_9e4||!("set" in _9e4)||_9e4.set(this,val,"value")===_834){this.value=val;}});}});_847.extend({valHooks:{option:{get:function(elem){var val=elem.attributes.value;return !val||val.specified?elem.value:elem.text;}},select:{get:function(elem){var _9e7,_9e8,_9e9=elem.options,_9ea=elem.selectedIndex,one=elem.type==="select-one"||_9ea<0,_9eb=one?null:[],max=one?_9ea+1:_9e9.length,i=_9ea<0?max:one?_9ea:0;for(;i<max;i++){_9e8=_9e9[i];if((_9e8.selected||i===_9ea)&&(_847.support.optDisabled?!_9e8.disabled:_9e8.getAttribute("disabled")===null)&&(!_9e8.parentNode.disabled||!_847.nodeName(_9e8.parentNode,"optgroup"))){_9e7=_847(_9e8).val();if(one){return _9e7;}_9eb.push(_9e7);}}return _9eb;},set:function(elem,_9ec){var _9ed,_9ee,_9ef=elem.options,_9f0=_847.makeArray(_9ec),i=_9ef.length;while(i--){_9ee=_9ef[i];if((_9ee.selected=_847.inArray(_847(_9ee).val(),_9f0)>=0)){_9ed=true;}}if(!_9ed){elem.selectedIndex=-1;}return _9f0;}}},attr:function(elem,name,_9f1){var _9f2,ret,_9f3=elem.nodeType;if(!elem||_9f3===3||_9f3===8||_9f3===2){return;}if(typeof elem.getAttribute===_837){return _847.prop(elem,name,_9f1);}if(_9f3!==1||!_847.isXMLDoc(elem)){name=name.toLowerCase();_9f2=_847.attrHooks[name]||(_847.expr.match.bool.test(name)?_9cf:_9ce);}if(_9f1!==_834){if(_9f1===null){_847.removeAttr(elem,name);}else{if(_9f2&&"set" in _9f2&&(ret=_9f2.set(elem,_9f1,name))!==_834){return ret;}else{elem.setAttribute(name,_9f1+"");return _9f1;}}}else{if(_9f2&&"get" in _9f2&&(ret=_9f2.get(elem,name))!==null){return ret;}else{ret=_847.find.attr(elem,name);return ret==null?_834:ret;}}},removeAttr:function(elem,_9f4){var name,_9f5,i=0,_9f6=_9f4&&_9f4.match(_84b);if(_9f6&&elem.nodeType===1){while((name=_9f6[i++])){_9f5=_847.propFix[name]||name;if(_847.expr.match.bool.test(name)){elem[_9f5]=false;}elem.removeAttribute(name);}}},attrHooks:{type:{set:function(elem,_9f7){if(!_847.support.radioValue&&_9f7==="radio"&&_847.nodeName(elem,"input")){var val=elem.value;elem.setAttribute("type",_9f7);if(val){elem.value=val;}return _9f7;}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(elem,name,_9f8){var ret,_9f9,_9fa,_9fb=elem.nodeType;if(!elem||_9fb===3||_9fb===8||_9fb===2){return;}_9fa=_9fb!==1||!_847.isXMLDoc(elem);if(_9fa){name=_847.propFix[name]||name;_9f9=_847.propHooks[name];}if(_9f8!==_834){return _9f9&&"set" in _9f9&&(ret=_9f9.set(elem,_9f8,name))!==_834?ret:(elem[name]=_9f8);}else{return _9f9&&"get" in _9f9&&(ret=_9f9.get(elem,name))!==null?ret:elem[name];}},propHooks:{tabIndex:{get:function(elem){return elem.hasAttribute("tabindex")||_9d2.test(elem.nodeName)||elem.href?elem.tabIndex:-1;}}}});_9cf={set:function(elem,_9fc,name){if(_9fc===false){_847.removeAttr(elem,name);}else{elem.setAttribute(name,name);}return name;}};_847.each(_847.expr.match.bool.source.match(/\w+/g),function(i,name){var _9fd=_847.expr.attrHandle[name]||_847.find.attr;_847.expr.attrHandle[name]=function(elem,name,_9fe){var fn=_847.expr.attrHandle[name],ret=_9fe?_834:(_847.expr.attrHandle[name]=_834)!=_9fd(elem,name,_9fe)?name.toLowerCase():null;_847.expr.attrHandle[name]=fn;return ret;};});if(!_847.support.optSelected){_847.propHooks.selected={get:function(elem){var _9ff=elem.parentNode;if(_9ff&&_9ff.parentNode){_9ff.parentNode.selectedIndex;}return null;}};}_847.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_847.propFix[this.toLowerCase()]=this;});_847.each(["radio","checkbox"],function(){_847.valHooks[this]={set:function(elem,_a00){if(_847.isArray(_a00)){return (elem.checked=_847.inArray(_847(elem).val(),_a00)>=0);}}};if(!_847.support.checkOn){_847.valHooks[this].get=function(elem){return elem.getAttribute("value")===null?"on":elem.value;};}});var _a01=/^key/,_a02=/^(?:mouse|contextmenu)|click/,_a03=/^(?:focusinfocus|focusoutblur)$/,_a04=/^([^.]*)(?:\.(.+)|)$/;function _a05(){return true;};function _a06(){return false;};function _a07(){try{return _839.activeElement;}catch(err){}};_847.event={global:{},add:function(elem,_a08,_a09,data,_a0a){var _a0b,_a0c,tmp,_a0d,t,_a0e,_a0f,_a10,type,_a11,_a12,_a13=_9a7.get(elem);if(!_a13){return;}if(_a09.handler){_a0b=_a09;_a09=_a0b.handler;_a0a=_a0b.selector;}if(!_a09.guid){_a09.guid=_847.guid++;}if(!(_a0d=_a13.events)){_a0d=_a13.events={};}if(!(_a0c=_a13.handle)){_a0c=_a13.handle=function(e){return typeof _847!==_837&&(!e||_847.event.triggered!==e.type)?_847.event.dispatch.apply(_a0c.elem,arguments):_834;};_a0c.elem=elem;}_a08=(_a08||"").match(_84b)||[""];t=_a08.length;while(t--){tmp=_a04.exec(_a08[t])||[];type=_a12=tmp[1];_a11=(tmp[2]||"").split(".").sort();if(!type){continue;}_a0f=_847.event.special[type]||{};type=(_a0a?_a0f.delegateType:_a0f.bindType)||type;_a0f=_847.event.special[type]||{};_a0e=_847.extend({type:type,origType:_a12,data:data,handler:_a09,guid:_a09.guid,selector:_a0a,needsContext:_a0a&&_847.expr.match.needsContext.test(_a0a),namespace:_a11.join(".")},_a0b);if(!(_a10=_a0d[type])){_a10=_a0d[type]=[];_a10.delegateCount=0;if(!_a0f.setup||_a0f.setup.call(elem,data,_a11,_a0c)===false){if(elem.addEventListener){elem.addEventListener(type,_a0c,false);}}}if(_a0f.add){_a0f.add.call(elem,_a0e);if(!_a0e.handler.guid){_a0e.handler.guid=_a09.guid;}}if(_a0a){_a10.splice(_a10.delegateCount++,0,_a0e);}else{_a10.push(_a0e);}_847.event.global[type]=true;}elem=null;},remove:function(elem,_a14,_a15,_a16,_a17){var j,_a18,tmp,_a19,t,_a1a,_a1b,_a1c,type,_a1d,_a1e,_a1f=_9a7.hasData(elem)&&_9a7.get(elem);if(!_a1f||!(_a19=_a1f.events)){return;}_a14=(_a14||"").match(_84b)||[""];t=_a14.length;while(t--){tmp=_a04.exec(_a14[t])||[];type=_a1e=tmp[1];_a1d=(tmp[2]||"").split(".").sort();if(!type){for(type in _a19){_847.event.remove(elem,type+_a14[t],_a15,_a16,true);}continue;}_a1b=_847.event.special[type]||{};type=(_a16?_a1b.delegateType:_a1b.bindType)||type;_a1c=_a19[type]||[];tmp=tmp[2]&&new RegExp("(^|\\.)"+_a1d.join("\\.(?:.*\\.|)")+"(\\.|$)");_a18=j=_a1c.length;while(j--){_a1a=_a1c[j];if((_a17||_a1e===_a1a.origType)&&(!_a15||_a15.guid===_a1a.guid)&&(!tmp||tmp.test(_a1a.namespace))&&(!_a16||_a16===_a1a.selector||_a16==="**"&&_a1a.selector)){_a1c.splice(j,1);if(_a1a.selector){_a1c.delegateCount--;}if(_a1b.remove){_a1b.remove.call(elem,_a1a);}}}if(_a18&&!_a1c.length){if(!_a1b.teardown||_a1b.teardown.call(elem,_a1d,_a1f.handle)===false){_847.removeEvent(elem,type,_a1f.handle);}delete _a19[type];}}if(_847.isEmptyObject(_a19)){delete _a1f.handle;_9a7.remove(elem,"events");}},trigger:function(_a20,data,elem,_a21){var i,cur,tmp,_a22,_a23,_a24,_a25,_a26=[elem||_839],type=_845.call(_a20,"type")?_a20.type:_a20,_a27=_845.call(_a20,"namespace")?_a20.namespace.split("."):[];cur=tmp=elem=elem||_839;if(elem.nodeType===3||elem.nodeType===8){return;}if(_a03.test(type+_847.event.triggered)){return;}if(type.indexOf(".")>=0){_a27=type.split(".");type=_a27.shift();_a27.sort();}_a23=type.indexOf(":")<0&&"on"+type;_a20=_a20[_847.expando]?_a20:new _847.Event(type,typeof _a20==="object"&&_a20);_a20.isTrigger=_a21?2:3;_a20.namespace=_a27.join(".");_a20.namespace_re=_a20.namespace?new RegExp("(^|\\.)"+_a27.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;_a20.result=_834;if(!_a20.target){_a20.target=elem;}data=data==null?[_a20]:_847.makeArray(data,[_a20]);_a25=_847.event.special[type]||{};if(!_a21&&_a25.trigger&&_a25.trigger.apply(elem,data)===false){return;}if(!_a21&&!_a25.noBubble&&!_847.isWindow(elem)){_a22=_a25.delegateType||type;if(!_a03.test(_a22+type)){cur=cur.parentNode;}for(;cur;cur=cur.parentNode){_a26.push(cur);tmp=cur;}if(tmp===(elem.ownerDocument||_839)){_a26.push(tmp.defaultView||tmp.parentWindow||_833);}}i=0;while((cur=_a26[i++])&&!_a20.isPropagationStopped()){_a20.type=i>1?_a22:_a25.bindType||type;_a24=(_9a7.get(cur,"events")||{})[_a20.type]&&_9a7.get(cur,"handle");if(_a24){_a24.apply(cur,data);}_a24=_a23&&cur[_a23];if(_a24&&_847.acceptData(cur)&&_a24.apply&&_a24.apply(cur,data)===false){_a20.preventDefault();}}_a20.type=type;if(!_a21&&!_a20.isDefaultPrevented()){if((!_a25._default||_a25._default.apply(_a26.pop(),data)===false)&&_847.acceptData(elem)){if(_a23&&_847.isFunction(elem[type])&&!_847.isWindow(elem)){tmp=elem[_a23];if(tmp){elem[_a23]=null;}_847.event.triggered=type;elem[type]();_847.event.triggered=_834;if(tmp){elem[_a23]=tmp;}}}}return _a20.result;},dispatch:function(_a28){_a28=_847.event.fix(_a28);var i,j,ret,_a29,_a2a,_a2b=[],args=_842.call(arguments),_a2c=(_9a7.get(this,"events")||{})[_a28.type]||[],_a2d=_847.event.special[_a28.type]||{};args[0]=_a28;_a28.delegateTarget=this;if(_a2d.preDispatch&&_a2d.preDispatch.call(this,_a28)===false){return;}_a2b=_847.event.handlers.call(this,_a28,_a2c);i=0;while((_a29=_a2b[i++])&&!_a28.isPropagationStopped()){_a28.currentTarget=_a29.elem;j=0;while((_a2a=_a29.handlers[j++])&&!_a28.isImmediatePropagationStopped()){if(!_a28.namespace_re||_a28.namespace_re.test(_a2a.namespace)){_a28.handleObj=_a2a;_a28.data=_a2a.data;ret=((_847.event.special[_a2a.origType]||{}).handle||_a2a.handler).apply(_a29.elem,args);if(ret!==_834){if((_a28.result=ret)===false){_a28.preventDefault();_a28.stopPropagation();}}}}}if(_a2d.postDispatch){_a2d.postDispatch.call(this,_a28);}return _a28.result;},handlers:function(_a2e,_a2f){var i,_a30,sel,_a31,_a32=[],_a33=_a2f.delegateCount,cur=_a2e.target;if(_a33&&cur.nodeType&&(!_a2e.button||_a2e.type!=="click")){for(;cur!==this;cur=cur.parentNode||this){if(cur.disabled!==true||_a2e.type!=="click"){_a30=[];for(i=0;i<_a33;i++){_a31=_a2f[i];sel=_a31.selector+" ";if(_a30[sel]===_834){_a30[sel]=_a31.needsContext?_847(sel,this).index(cur)>=0:_847.find(sel,this,null,[cur]).length;}if(_a30[sel]){_a30.push(_a31);}}if(_a30.length){_a32.push({elem:cur,handlers:_a30});}}}}if(_a33<_a2f.length){_a32.push({elem:this,handlers:_a2f.slice(_a33)});}return _a32;},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(_a34,_a35){if(_a34.which==null){_a34.which=_a35.charCode!=null?_a35.charCode:_a35.keyCode;}return _a34;}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(_a36,_a37){var _a38,doc,body,_a39=_a37.button;if(_a36.pageX==null&&_a37.clientX!=null){_a38=_a36.target.ownerDocument||_839;doc=_a38.documentElement;body=_a38.body;_a36.pageX=_a37.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0);_a36.pageY=_a37.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0);}if(!_a36.which&&_a39!==_834){_a36.which=(_a39&1?1:(_a39&2?3:(_a39&4?2:0)));}return _a36;}},fix:function(_a3a){if(_a3a[_847.expando]){return _a3a;}var i,prop,copy,type=_a3a.type,_a3b=_a3a,_a3c=this.fixHooks[type];if(!_a3c){this.fixHooks[type]=_a3c=_a02.test(type)?this.mouseHooks:_a01.test(type)?this.keyHooks:{};}copy=_a3c.props?this.props.concat(_a3c.props):this.props;_a3a=new _847.Event(_a3b);i=copy.length;while(i--){prop=copy[i];_a3a[prop]=_a3b[prop];}if(!_a3a.target){_a3a.target=_839;}if(_a3a.target.nodeType===3){_a3a.target=_a3a.target.parentNode;}return _a3c.filter?_a3c.filter(_a3a,_a3b):_a3a;},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==_a07()&&this.focus){this.focus();return false;}},delegateType:"focusin"},blur:{trigger:function(){if(this===_a07()&&this.blur){this.blur();return false;}},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&_847.nodeName(this,"input")){this.click();return false;}},_default:function(_a3d){return _847.nodeName(_a3d.target,"a");}},beforeunload:{postDispatch:function(_a3e){if(_a3e.result!==_834){_a3e.originalEvent.returnValue=_a3e.result;}}}},simulate:function(type,elem,_a3f,_a40){var e=_847.extend(new _847.Event(),_a3f,{type:type,isSimulated:true,originalEvent:{}});if(_a40){_847.event.trigger(e,null,elem);}else{_847.event.dispatch.call(elem,e);}if(e.isDefaultPrevented()){_a3f.preventDefault();}}};_847.removeEvent=function(elem,type,_a41){if(elem.removeEventListener){elem.removeEventListener(type,_a41,false);}};_847.Event=function(src,_a42){if(!(this instanceof _847.Event)){return new _847.Event(src,_a42);}if(src&&src.type){this.originalEvent=src;this.type=src.type;this.isDefaultPrevented=(src.defaultPrevented||src.getPreventDefault&&src.getPreventDefault())?_a05:_a06;}else{this.type=src;}if(_a42){_847.extend(this,_a42);}this.timeStamp=src&&src.timeStamp||_847.now();this[_847.expando]=true;};_847.Event.prototype={isDefaultPrevented:_a06,isPropagationStopped:_a06,isImmediatePropagationStopped:_a06,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=_a05;if(e&&e.preventDefault){e.preventDefault();}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=_a05;if(e&&e.stopPropagation){e.stopPropagation();}},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=_a05;this.stopPropagation();}};_847.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){_847.event.special[orig]={delegateType:fix,bindType:fix,handle:function(_a43){var ret,_a44=this,_a45=_a43.relatedTarget,_a46=_a43.handleObj;if(!_a45||(_a45!==_a44&&!_847.contains(_a44,_a45))){_a43.type=_a46.origType;ret=_a46.handler.apply(this,arguments);_a43.type=fix;}return ret;}};});if(!_847.support.focusinBubbles){_847.each({focus:"focusin",blur:"focusout"},function(orig,fix){var _a47=0,_a48=function(_a49){_847.event.simulate(fix,_a49.target,_847.event.fix(_a49),true);};_847.event.special[fix]={setup:function(){if(_a47++===0){_839.addEventListener(orig,_a48,true);}},teardown:function(){if(--_a47===0){_839.removeEventListener(orig,_a48,true);}}};});}_847.fn.extend({on:function(_a4a,_a4b,data,fn,one){var _a4c,type;if(typeof _a4a==="object"){if(typeof _a4b!=="string"){data=data||_a4b;_a4b=_834;}for(type in _a4a){this.on(type,_a4b,data,_a4a[type],one);}return this;}if(data==null&&fn==null){fn=_a4b;data=_a4b=_834;}else{if(fn==null){if(typeof _a4b==="string"){fn=data;data=_834;}else{fn=data;data=_a4b;_a4b=_834;}}}if(fn===false){fn=_a06;}else{if(!fn){return this;}}if(one===1){_a4c=fn;fn=function(_a4d){_847().off(_a4d);return _a4c.apply(this,arguments);};fn.guid=_a4c.guid||(_a4c.guid=_847.guid++);}return this.each(function(){_847.event.add(this,_a4a,fn,data,_a4b);});},one:function(_a4e,_a4f,data,fn){return this.on(_a4e,_a4f,data,fn,1);},off:function(_a50,_a51,fn){var _a52,type;if(_a50&&_a50.preventDefault&&_a50.handleObj){_a52=_a50.handleObj;_847(_a50.delegateTarget).off(_a52.namespace?_a52.origType+"."+_a52.namespace:_a52.origType,_a52.selector,_a52.handler);return this;}if(typeof _a50==="object"){for(type in _a50){this.off(type,_a51,_a50[type]);}return this;}if(_a51===false||typeof _a51==="function"){fn=_a51;_a51=_834;}if(fn===false){fn=_a06;}return this.each(function(){_847.event.remove(this,_a50,fn,_a51);});},trigger:function(type,data){return this.each(function(){_847.event.trigger(type,data,this);});},triggerHandler:function(type,data){var elem=this[0];if(elem){return _847.event.trigger(type,data,elem,true);}}});var _a53=/^.[^:#\[\.,]*$/,_a54=/^(?:parents|prev(?:Until|All))/,_a55=_847.expr.match.needsContext,_a56={children:true,contents:true,next:true,prev:true};_847.fn.extend({find:function(_a57){var i,ret=[],self=this,len=self.length;if(typeof _a57!=="string"){return this.pushStack(_847(_a57).filter(function(){for(i=0;i<len;i++){if(_847.contains(self[i],this)){return true;}}}));}for(i=0;i<len;i++){_847.find(_a57,self[i],ret);}ret=this.pushStack(len>1?_847.unique(ret):ret);ret.selector=this.selector?this.selector+" "+_a57:_a57;return ret;},has:function(_a58){var _a59=_847(_a58,this),l=_a59.length;return this.filter(function(){var i=0;for(;i<l;i++){if(_847.contains(this,_a59[i])){return true;}}});},not:function(_a5a){return this.pushStack(_a5b(this,_a5a||[],true));},filter:function(_a5c){return this.pushStack(_a5b(this,_a5c||[],false));},is:function(_a5d){return !!_a5b(this,typeof _a5d==="string"&&_a55.test(_a5d)?_847(_a5d):_a5d||[],false).length;},closest:function(_a5e,_a5f){var cur,i=0,l=this.length,_a60=[],pos=(_a55.test(_a5e)||typeof _a5e!=="string")?_847(_a5e,_a5f||this.context):0;for(;i<l;i++){for(cur=this[i];cur&&cur!==_a5f;cur=cur.parentNode){if(cur.nodeType<11&&(pos?pos.index(cur)>-1:cur.nodeType===1&&_847.find.matchesSelector(cur,_a5e))){cur=_a60.push(cur);break;}}}return this.pushStack(_a60.length>1?_847.unique(_a60):_a60);},index:function(elem){if(!elem){return (this[0]&&this[0].parentNode)?this.first().prevAll().length:-1;}if(typeof elem==="string"){return _843.call(_847(elem),this[0]);}return _843.call(this,elem.jquery?elem[0]:elem);},add:function(_a61,_a62){var set=typeof _a61==="string"?_847(_a61,_a62):_847.makeArray(_a61&&_a61.nodeType?[_a61]:_a61),all=_847.merge(this.get(),set);return this.pushStack(_847.unique(all));},addBack:function(_a63){return this.add(_a63==null?this.prevObject:this.prevObject.filter(_a63));}});function _a64(cur,dir){while((cur=cur[dir])&&cur.nodeType!==1){}return cur;};_847.each({parent:function(elem){var _a65=elem.parentNode;return _a65&&_a65.nodeType!==11?_a65:null;},parents:function(elem){return _847.dir(elem,"parentNode");},parentsUntil:function(elem,i,_a66){return _847.dir(elem,"parentNode",_a66);},next:function(elem){return _a64(elem,"nextSibling");},prev:function(elem){return _a64(elem,"previousSibling");},nextAll:function(elem){return _847.dir(elem,"nextSibling");},prevAll:function(elem){return _847.dir(elem,"previousSibling");},nextUntil:function(elem,i,_a67){return _847.dir(elem,"nextSibling",_a67);},prevUntil:function(elem,i,_a68){return _847.dir(elem,"previousSibling",_a68);},siblings:function(elem){return _847.sibling((elem.parentNode||{}).firstChild,elem);},children:function(elem){return _847.sibling(elem.firstChild);},contents:function(elem){return elem.contentDocument||_847.merge([],elem.childNodes);}},function(name,fn){_847.fn[name]=function(_a69,_a6a){var _a6b=_847.map(this,fn,_a69);if(name.slice(-5)!=="Until"){_a6a=_a69;}if(_a6a&&typeof _a6a==="string"){_a6b=_847.filter(_a6a,_a6b);}if(this.length>1){if(!_a56[name]){_847.unique(_a6b);}if(_a54.test(name)){_a6b.reverse();}}return this.pushStack(_a6b);};});_847.extend({filter:function(expr,_a6c,not){var elem=_a6c[0];if(not){expr=":not("+expr+")";}return _a6c.length===1&&elem.nodeType===1?_847.find.matchesSelector(elem,expr)?[elem]:[]:_847.find.matches(expr,_847.grep(_a6c,function(elem){return elem.nodeType===1;}));},dir:function(elem,dir,_a6d){var _a6e=[],_a6f=_a6d!==_834;while((elem=elem[dir])&&elem.nodeType!==9){if(elem.nodeType===1){if(_a6f&&_847(elem).is(_a6d)){break;}_a6e.push(elem);}}return _a6e;},sibling:function(n,elem){var _a70=[];for(;n;n=n.nextSibling){if(n.nodeType===1&&n!==elem){_a70.push(n);}}return _a70;}});function _a5b(_a71,_a72,not){if(_847.isFunction(_a72)){return _847.grep(_a71,function(elem,i){return !!_a72.call(elem,i,elem)!==not;});}if(_a72.nodeType){return _847.grep(_a71,function(elem){return (elem===_a72)!==not;});}if(typeof _a72==="string"){if(_a53.test(_a72)){return _847.filter(_a72,_a71,not);}_a72=_847.filter(_a72,_a71);}return _847.grep(_a71,function(elem){return (_843.call(_a72,elem)>=0)!==not;});};var _a73=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,_a74=/<([\w:]+)/,_a75=/<|&#?\w+;/,_a76=/<(?:script|style|link)/i,_a77=/^(?:checkbox|radio)$/i,_a78=/checked\s*(?:[^=]|=\s*.checked.)/i,_a79=/^$|\/(?:java|ecma)script/i,_a7a=/^true\/(.*)/,_a7b=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,_a7c={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};_a7c.optgroup=_a7c.option;_a7c.tbody=_a7c.tfoot=_a7c.colgroup=_a7c.caption=_a7c.thead;_a7c.th=_a7c.td;_847.fn.extend({text:function(_a7d){return _847.access(this,function(_a7e){return _a7e===_834?_847.text(this):this.empty().append((this[0]&&this[0].ownerDocument||_839).createTextNode(_a7e));},null,_a7d,arguments.length);},append:function(){return this.domManip(arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var _a7f=_a80(this,elem);_a7f.appendChild(elem);}});},prepend:function(){return this.domManip(arguments,function(elem){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var _a81=_a80(this,elem);_a81.insertBefore(elem,_a81.firstChild);}});},before:function(){return this.domManip(arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this);}});},after:function(){return this.domManip(arguments,function(elem){if(this.parentNode){this.parentNode.insertBefore(elem,this.nextSibling);}});},remove:function(_a82,_a83){var elem,_a84=_a82?_847.filter(_a82,this):this,i=0;for(;(elem=_a84[i])!=null;i++){if(!_a83&&elem.nodeType===1){_847.cleanData(_a85(elem));}if(elem.parentNode){if(_a83&&_847.contains(elem.ownerDocument,elem)){_a86(_a85(elem,"script"));}elem.parentNode.removeChild(elem);}}return this;},empty:function(){var elem,i=0;for(;(elem=this[i])!=null;i++){if(elem.nodeType===1){_847.cleanData(_a85(elem,false));elem.textContent="";}}return this;},clone:function(_a87,_a88){_a87=_a87==null?false:_a87;_a88=_a88==null?_a87:_a88;return this.map(function(){return _847.clone(this,_a87,_a88);});},html:function(_a89){return _847.access(this,function(_a8a){var elem=this[0]||{},i=0,l=this.length;if(_a8a===_834&&elem.nodeType===1){return elem.innerHTML;}if(typeof _a8a==="string"&&!_a76.test(_a8a)&&!_a7c[(_a74.exec(_a8a)||["",""])[1].toLowerCase()]){_a8a=_a8a.replace(_a73,"<$1></$2>");try{for(;i<l;i++){elem=this[i]||{};if(elem.nodeType===1){_847.cleanData(_a85(elem,false));elem.innerHTML=_a8a;}}elem=0;}catch(e){}}if(elem){this.empty().append(_a8a);}},null,_a89,arguments.length);},replaceWith:function(){var args=_847.map(this,function(elem){return [elem.nextSibling,elem.parentNode];}),i=0;this.domManip(arguments,function(elem){var next=args[i++],_a8b=args[i++];if(_a8b){if(next&&next.parentNode!==_a8b){next=this.nextSibling;}_847(this).remove();_a8b.insertBefore(elem,next);}},true);return i?this:this.remove();},detach:function(_a8c){return this.remove(_a8c,true);},domManip:function(args,_a8d,_a8e){args=_840.apply([],args);var _a8f,_a90,_a91,_a92,node,doc,i=0,l=this.length,set=this,_a93=l-1,_a94=args[0],_a95=_847.isFunction(_a94);if(_a95||!(l<=1||typeof _a94!=="string"||_847.support.checkClone||!_a78.test(_a94))){return this.each(function(_a96){var self=set.eq(_a96);if(_a95){args[0]=_a94.call(this,_a96,self.html());}self.domManip(args,_a8d,_a8e);});}if(l){_a8f=_847.buildFragment(args,this[0].ownerDocument,false,!_a8e&&this);_a90=_a8f.firstChild;if(_a8f.childNodes.length===1){_a8f=_a90;}if(_a90){_a91=_847.map(_a85(_a8f,"script"),_a97);_a92=_a91.length;for(;i<l;i++){node=_a8f;if(i!==_a93){node=_847.clone(node,true,true);if(_a92){_847.merge(_a91,_a85(node,"script"));}}_a8d.call(this[i],node,i);}if(_a92){doc=_a91[_a91.length-1].ownerDocument;_847.map(_a91,_a98);for(i=0;i<_a92;i++){node=_a91[i];if(_a79.test(node.type||"")&&!_9a7.access(node,"globalEval")&&_847.contains(doc,node)){if(node.src){_847._evalUrl(node.src);}else{_847.globalEval(node.textContent.replace(_a7b,""));}}}}}}return this;}});_847.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,_a99){_847.fn[name]=function(_a9a){var _a9b,ret=[],_a9c=_847(_a9a),last=_a9c.length-1,i=0;for(;i<=last;i++){_a9b=i===last?this:this.clone(true);_847(_a9c[i])[_a99](_a9b);_841.apply(ret,_a9b.get());}return this.pushStack(ret);};});_847.extend({clone:function(elem,_a9d,_a9e){var i,l,_a9f,_aa0,_aa1=elem.cloneNode(true),_aa2=_847.contains(elem.ownerDocument,elem);if(!_847.support.noCloneChecked&&(elem.nodeType===1||elem.nodeType===11)&&!_847.isXMLDoc(elem)){_aa0=_a85(_aa1);_a9f=_a85(elem);for(i=0,l=_a9f.length;i<l;i++){_aa3(_a9f[i],_aa0[i]);}}if(_a9d){if(_a9e){_a9f=_a9f||_a85(elem);_aa0=_aa0||_a85(_aa1);for(i=0,l=_a9f.length;i<l;i++){_aa4(_a9f[i],_aa0[i]);}}else{_aa4(elem,_aa1);}}_aa0=_a85(_aa1,"script");if(_aa0.length>0){_a86(_aa0,!_aa2&&_a85(elem,"script"));}return _aa1;},buildFragment:function(_aa5,_aa6,_aa7,_aa8){var elem,tmp,tag,wrap,_aa9,j,i=0,l=_aa5.length,_aaa=_aa6.createDocumentFragment(),_aab=[];for(;i<l;i++){elem=_aa5[i];if(elem||elem===0){if(_847.type(elem)==="object"){_847.merge(_aab,elem.nodeType?[elem]:elem);}else{if(!_a75.test(elem)){_aab.push(_aa6.createTextNode(elem));}else{tmp=tmp||_aaa.appendChild(_aa6.createElement("div"));tag=(_a74.exec(elem)||["",""])[1].toLowerCase();wrap=_a7c[tag]||_a7c._default;tmp.innerHTML=wrap[1]+elem.replace(_a73,"<$1></$2>")+wrap[2];j=wrap[0];while(j--){tmp=tmp.lastChild;}_847.merge(_aab,tmp.childNodes);tmp=_aaa.firstChild;tmp.textContent="";}}}}_aaa.textContent="";i=0;while((elem=_aab[i++])){if(_aa8&&_847.inArray(elem,_aa8)!==-1){continue;}_aa9=_847.contains(elem.ownerDocument,elem);tmp=_a85(_aaa.appendChild(elem),"script");if(_aa9){_a86(tmp);}if(_aa7){j=0;while((elem=tmp[j++])){if(_a79.test(elem.type||"")){_aa7.push(elem);}}}}return _aaa;},cleanData:function(_aac){var data,elem,_aad,type,key,j,_aae=_847.event.special,i=0;for(;(elem=_aac[i])!==_834;i++){if(Data.accepts(elem)){key=elem[_9a7.expando];if(key&&(data=_9a7.cache[key])){_aad=Object.keys(data.events||{});if(_aad.length){for(j=0;(type=_aad[j])!==_834;j++){if(_aae[type]){_847.event.remove(elem,type);}else{_847.removeEvent(elem,type,data.handle);}}}if(_9a7.cache[key]){delete _9a7.cache[key];}}}delete _9a6.cache[elem[_9a6.expando]];}},_evalUrl:function(url){return _847.ajax({url:url,type:"GET",dataType:"script",async:false,global:false,"throws":true});}});function _a80(elem,_aaf){return _847.nodeName(elem,"table")&&_847.nodeName(_aaf.nodeType===1?_aaf:_aaf.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem;};function _a97(elem){elem.type=(elem.getAttribute("type")!==null)+"/"+elem.type;return elem;};function _a98(elem){var _ab0=_a7a.exec(elem.type);if(_ab0){elem.type=_ab0[1];}else{elem.removeAttribute("type");}return elem;};function _a86(_ab1,_ab2){var l=_ab1.length,i=0;for(;i<l;i++){_9a7.set(_ab1[i],"globalEval",!_ab2||_9a7.get(_ab2[i],"globalEval"));}};function _aa4(src,dest){var i,l,type,_ab3,_ab4,_ab5,_ab6,_ab7;if(dest.nodeType!==1){return;}if(_9a7.hasData(src)){_ab3=_9a7.access(src);_ab4=_9a7.set(dest,_ab3);_ab7=_ab3.events;if(_ab7){delete _ab4.handle;_ab4.events={};for(type in _ab7){for(i=0,l=_ab7[type].length;i<l;i++){_847.event.add(dest,type,_ab7[type][i]);}}}}if(_9a6.hasData(src)){_ab5=_9a6.access(src);_ab6=_847.extend({},_ab5);_9a6.set(dest,_ab6);}};function _a85(_ab8,tag){var ret=_ab8.getElementsByTagName?_ab8.getElementsByTagName(tag||"*"):_ab8.querySelectorAll?_ab8.querySelectorAll(tag||"*"):[];return tag===_834||tag&&_847.nodeName(_ab8,tag)?_847.merge([_ab8],ret):ret;};function _aa3(src,dest){var _ab9=dest.nodeName.toLowerCase();if(_ab9==="input"&&_a77.test(src.type)){dest.checked=src.checked;}else{if(_ab9==="input"||_ab9==="textarea"){dest.defaultValue=src.defaultValue;}}};_847.fn.extend({wrapAll:function(html){var wrap;if(_847.isFunction(html)){return this.each(function(i){_847(this).wrapAll(html.call(this,i));});}if(this[0]){wrap=_847(html,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){wrap.insertBefore(this[0]);}wrap.map(function(){var elem=this;while(elem.firstElementChild){elem=elem.firstElementChild;}return elem;}).append(this);}return this;},wrapInner:function(html){if(_847.isFunction(html)){return this.each(function(i){_847(this).wrapInner(html.call(this,i));});}return this.each(function(){var self=_847(this),_aba=self.contents();if(_aba.length){_aba.wrapAll(html);}else{self.append(html);}});},wrap:function(html){var _abb=_847.isFunction(html);return this.each(function(i){_847(this).wrapAll(_abb?html.call(this,i):html);});},unwrap:function(){return this.parent().each(function(){if(!_847.nodeName(this,"body")){_847(this).replaceWith(this.childNodes);}}).end();}});var _abc,_abd,_abe=/^(none|table(?!-c[ea]).+)/,_abf=/^margin/,_ac0=new RegExp("^("+_84a+")(.*)$","i"),_ac1=new RegExp("^("+_84a+")(?!px)[a-z%]+$","i"),_ac2=new RegExp("^([+-])=("+_84a+")","i"),_ac3={BODY:"block"},_ac4={position:"absolute",visibility:"hidden",display:"block"},_ac5={letterSpacing:0,fontWeight:400},_ac6=["Top","Right","Bottom","Left"],_ac7=["Webkit","O","Moz","ms"];function _ac8(_ac9,name){if(name in _ac9){return name;}var _aca=name.charAt(0).toUpperCase()+name.slice(1),_acb=name,i=_ac7.length;while(i--){name=_ac7[i]+_aca;if(name in _ac9){return name;}}return _acb;};function _acc(elem,el){elem=el||elem;return _847.css(elem,"display")==="none"||!_847.contains(elem.ownerDocument,elem);};function _acd(elem){return _833.getComputedStyle(elem,null);};function _ace(_acf,show){var _ad0,elem,_ad1,_ad2=[],_ad3=0,_ad4=_acf.length;for(;_ad3<_ad4;_ad3++){elem=_acf[_ad3];if(!elem.style){continue;}_ad2[_ad3]=_9a7.get(elem,"olddisplay");_ad0=elem.style.display;if(show){if(!_ad2[_ad3]&&_ad0==="none"){elem.style.display="";}if(elem.style.display===""&&_acc(elem)){_ad2[_ad3]=_9a7.access(elem,"olddisplay",_ad5(elem.nodeName));}}else{if(!_ad2[_ad3]){_ad1=_acc(elem);if(_ad0&&_ad0!=="none"||!_ad1){_9a7.set(elem,"olddisplay",_ad1?_ad0:_847.css(elem,"display"));}}}}for(_ad3=0;_ad3<_ad4;_ad3++){elem=_acf[_ad3];if(!elem.style){continue;}if(!show||elem.style.display==="none"||elem.style.display===""){elem.style.display=show?_ad2[_ad3]||"":"none";}}return _acf;};_847.fn.extend({css:function(name,_ad6){return _847.access(this,function(elem,name,_ad7){var _ad8,len,map={},i=0;if(_847.isArray(name)){_ad8=_acd(elem);len=name.length;for(;i<len;i++){map[name[i]]=_847.css(elem,name[i],false,_ad8);}return map;}return _ad7!==_834?_847.style(elem,name,_ad7):_847.css(elem,name);},name,_ad6,arguments.length>1);},show:function(){return _ace(this,true);},hide:function(){return _ace(this);},toggle:function(_ad9){if(typeof _ad9==="boolean"){return _ad9?this.show():this.hide();}return this.each(function(){if(_acc(this)){_847(this).show();}else{_847(this).hide();}});}});_847.extend({cssHooks:{opacity:{get:function(elem,_ada){if(_ada){var ret=_abc(elem,"opacity");return ret===""?"1":ret;}}}},cssNumber:{"columnCount":true,"fillOpacity":true,"fontWeight":true,"lineHeight":true,"opacity":true,"order":true,"orphans":true,"widows":true,"zIndex":true,"zoom":true},cssProps:{"float":"cssFloat"},style:function(elem,name,_adb,_adc){if(!elem||elem.nodeType===3||elem.nodeType===8||!elem.style){return;}var ret,type,_add,_ade=_847.camelCase(name),_adf=elem.style;name=_847.cssProps[_ade]||(_847.cssProps[_ade]=_ac8(_adf,_ade));_add=_847.cssHooks[name]||_847.cssHooks[_ade];if(_adb!==_834){type=typeof _adb;if(type==="string"&&(ret=_ac2.exec(_adb))){_adb=(ret[1]+1)*ret[2]+parseFloat(_847.css(elem,name));type="number";}if(_adb==null||type==="number"&&isNaN(_adb)){return;}if(type==="number"&&!_847.cssNumber[_ade]){_adb+="px";}if(!_847.support.clearCloneStyle&&_adb===""&&name.indexOf("background")===0){_adf[name]="inherit";}if(!_add||!("set" in _add)||(_adb=_add.set(elem,_adb,_adc))!==_834){_adf[name]=_adb;}}else{if(_add&&"get" in _add&&(ret=_add.get(elem,false,_adc))!==_834){return ret;}return _adf[name];}},css:function(elem,name,_ae0,_ae1){var val,num,_ae2,_ae3=_847.camelCase(name);name=_847.cssProps[_ae3]||(_847.cssProps[_ae3]=_ac8(elem.style,_ae3));_ae2=_847.cssHooks[name]||_847.cssHooks[_ae3];if(_ae2&&"get" in _ae2){val=_ae2.get(elem,true,_ae0);}if(val===_834){val=_abc(elem,name,_ae1);}if(val==="normal"&&name in _ac5){val=_ac5[name];}if(_ae0===""||_ae0){num=parseFloat(val);return _ae0===true||_847.isNumeric(num)?num||0:val;}return val;}});_abc=function(elem,name,_ae4){var _ae5,_ae6,_ae7,_ae8=_ae4||_acd(elem),ret=_ae8?_ae8.getPropertyValue(name)||_ae8[name]:_834,_ae9=elem.style;if(_ae8){if(ret===""&&!_847.contains(elem.ownerDocument,elem)){ret=_847.style(elem,name);}if(_ac1.test(ret)&&_abf.test(name)){_ae5=_ae9.width;_ae6=_ae9.minWidth;_ae7=_ae9.maxWidth;_ae9.minWidth=_ae9.maxWidth=_ae9.width=ret;ret=_ae8.width;_ae9.width=_ae5;_ae9.minWidth=_ae6;_ae9.maxWidth=_ae7;}}return ret;};function _aea(elem,_aeb,_aec){var _aed=_ac0.exec(_aeb);return _aed?Math.max(0,_aed[1]-(_aec||0))+(_aed[2]||"px"):_aeb;};function _aee(elem,name,_aef,_af0,_af1){var i=_aef===(_af0?"border":"content")?4:name==="width"?1:0,val=0;for(;i<4;i+=2){if(_aef==="margin"){val+=_847.css(elem,_aef+_ac6[i],true,_af1);}if(_af0){if(_aef==="content"){val-=_847.css(elem,"padding"+_ac6[i],true,_af1);}if(_aef!=="margin"){val-=_847.css(elem,"border"+_ac6[i]+"Width",true,_af1);}}else{val+=_847.css(elem,"padding"+_ac6[i],true,_af1);if(_aef!=="padding"){val+=_847.css(elem,"border"+_ac6[i]+"Width",true,_af1);}}}return val;};function _af2(elem,name,_af3){var _af4=true,val=name==="width"?elem.offsetWidth:elem.offsetHeight,_af5=_acd(elem),_af6=_847.support.boxSizing&&_847.css(elem,"boxSizing",false,_af5)==="border-box";if(val<=0||val==null){val=_abc(elem,name,_af5);if(val<0||val==null){val=elem.style[name];}if(_ac1.test(val)){return val;}_af4=_af6&&(_847.support.boxSizingReliable||val===elem.style[name]);val=parseFloat(val)||0;}return (val+_aee(elem,name,_af3||(_af6?"border":"content"),_af4,_af5))+"px";};function _ad5(_af7){var doc=_839,_af8=_ac3[_af7];if(!_af8){_af8=_af9(_af7,doc);if(_af8==="none"||!_af8){_abd=(_abd||_847("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(doc.documentElement);doc=(_abd[0].contentWindow||_abd[0].contentDocument).document;doc.write("<!doctype html><html><body>");doc.close();_af8=_af9(_af7,doc);_abd.detach();}_ac3[_af7]=_af8;}return _af8;};function _af9(name,doc){var elem=_847(doc.createElement(name)).appendTo(doc.body),_afa=_847.css(elem[0],"display");elem.remove();return _afa;};_847.each(["height","width"],function(i,name){_847.cssHooks[name]={get:function(elem,_afb,_afc){if(_afb){return elem.offsetWidth===0&&_abe.test(_847.css(elem,"display"))?_847.swap(elem,_ac4,function(){return _af2(elem,name,_afc);}):_af2(elem,name,_afc);}},set:function(elem,_afd,_afe){var _aff=_afe&&_acd(elem);return _aea(elem,_afd,_afe?_aee(elem,name,_afe,_847.support.boxSizing&&_847.css(elem,"boxSizing",false,_aff)==="border-box",_aff):0);}};});_847(function(){if(!_847.support.reliableMarginRight){_847.cssHooks.marginRight={get:function(elem,_b00){if(_b00){return _847.swap(elem,{"display":"inline-block"},_abc,[elem,"marginRight"]);}}};}if(!_847.support.pixelPosition&&_847.fn.position){_847.each(["top","left"],function(i,prop){_847.cssHooks[prop]={get:function(elem,_b01){if(_b01){_b01=_abc(elem,prop);return _ac1.test(_b01)?_847(elem).position()[prop]+"px":_b01;}}};});}});if(_847.expr&&_847.expr.filters){_847.expr.filters.hidden=function(elem){return elem.offsetWidth<=0&&elem.offsetHeight<=0;};_847.expr.filters.visible=function(elem){return !_847.expr.filters.hidden(elem);};}_847.each({margin:"",padding:"",border:"Width"},function(_b02,_b03){_847.cssHooks[_b02+_b03]={expand:function(_b04){var i=0,_b05={},_b06=typeof _b04==="string"?_b04.split(" "):[_b04];for(;i<4;i++){_b05[_b02+_ac6[i]+_b03]=_b06[i]||_b06[i-2]||_b06[0];}return _b05;}};if(!_abf.test(_b02)){_847.cssHooks[_b02+_b03].set=_aea;}});var r20=/%20/g,_b07=/\[\]$/,_b08=/\r?\n/g,_b09=/^(?:submit|button|image|reset|file)$/i,_b0a=/^(?:input|select|textarea|keygen)/i;_847.fn.extend({serialize:function(){return _847.param(this.serializeArray());},serializeArray:function(){return this.map(function(){var _b0b=_847.prop(this,"elements");return _b0b?_847.makeArray(_b0b):this;}).filter(function(){var type=this.type;return this.name&&!_847(this).is(":disabled")&&_b0a.test(this.nodeName)&&!_b09.test(type)&&(this.checked||!_a77.test(type));}).map(function(i,elem){var val=_847(this).val();return val==null?null:_847.isArray(val)?_847.map(val,function(val){return {name:elem.name,value:val.replace(_b08,"\r\n")};}):{name:elem.name,value:val.replace(_b08,"\r\n")};}).get();}});_847.param=function(a,_b0c){var _b0d,s=[],add=function(key,_b0e){_b0e=_847.isFunction(_b0e)?_b0e():(_b0e==null?"":_b0e);s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(_b0e);};if(_b0c===_834){_b0c=_847.ajaxSettings&&_847.ajaxSettings.traditional;}if(_847.isArray(a)||(a.jquery&&!_847.isPlainObject(a))){_847.each(a,function(){add(this.name,this.value);});}else{for(_b0d in a){_b0f(_b0d,a[_b0d],_b0c,add);}}return s.join("&").replace(r20,"+");};function _b0f(_b10,obj,_b11,add){var name;if(_847.isArray(obj)){_847.each(obj,function(i,v){if(_b11||_b07.test(_b10)){add(_b10,v);}else{_b0f(_b10+"["+(typeof v==="object"?i:"")+"]",v,_b11,add);}});}else{if(!_b11&&_847.type(obj)==="object"){for(name in obj){_b0f(_b10+"["+name+"]",obj[name],_b11,add);}}else{add(_b10,obj);}}};_847.each(("blur focus focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup error contextmenu").split(" "),function(i,name){_847.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name);};});_847.fn.extend({hover:function(_b12,_b13){return this.mouseenter(_b12).mouseleave(_b13||_b12);},bind:function(_b14,data,fn){return this.on(_b14,null,data,fn);},unbind:function(_b15,fn){return this.off(_b15,null,fn);},delegate:function(_b16,_b17,data,fn){return this.on(_b17,_b16,data,fn);},undelegate:function(_b18,_b19,fn){return arguments.length===1?this.off(_b18,"**"):this.off(_b19,_b18||"**",fn);}});var _b1a,_b1b,_b1c=_847.now(),_b1d=/\?/,_b1e=/#.*$/,rts=/([?&])_=[^&]*/,_b1f=/^(.*?):[ \t]*([^\r\n]*)$/mg,_b20=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,_b21=/^(?:GET|HEAD)$/,_b22=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,_b23=_847.fn.load,_b24={},_b25={},_b26="*/".concat("*");try{_b1b=_838.href;}catch(e){_b1b=_839.createElement("a");_b1b.href="";_b1b=_b1b.href;}_b1a=rurl.exec(_b1b.toLowerCase())||[];function _b27(_b28){return function(_b29,func){if(typeof _b29!=="string"){func=_b29;_b29="*";}var _b2a,i=0,_b2b=_b29.toLowerCase().match(_84b)||[];if(_847.isFunction(func)){while((_b2a=_b2b[i++])){if(_b2a[0]==="+"){_b2a=_b2a.slice(1)||"*";(_b28[_b2a]=_b28[_b2a]||[]).unshift(func);}else{(_b28[_b2a]=_b28[_b2a]||[]).push(func);}}}};};function _b2c(_b2d,_b2e,_b2f,_b30){var _b31={},_b32=(_b2d===_b25);function _b33(_b34){var _b35;_b31[_b34]=true;_847.each(_b2d[_b34]||[],function(_b36,_b37){var _b38=_b37(_b2e,_b2f,_b30);if(typeof _b38==="string"&&!_b32&&!_b31[_b38]){_b2e.dataTypes.unshift(_b38);_b33(_b38);return false;}else{if(_b32){return !(_b35=_b38);}}});return _b35;};return _b33(_b2e.dataTypes[0])||!_b31["*"]&&_b33("*");};function _b39(_b3a,src){var key,deep,_b3b=_847.ajaxSettings.flatOptions||{};for(key in src){if(src[key]!==_834){(_b3b[key]?_b3a:(deep||(deep={})))[key]=src[key];}}if(deep){_847.extend(true,_b3a,deep);}return _b3a;};_847.fn.load=function(url,_b3c,_b3d){if(typeof url!=="string"&&_b23){return _b23.apply(this,arguments);}var _b3e,type,_b3f,self=this,off=url.indexOf(" ");if(off>=0){_b3e=url.slice(off);url=url.slice(0,off);}if(_847.isFunction(_b3c)){_b3d=_b3c;_b3c=_834;}else{if(_b3c&&typeof _b3c==="object"){type="POST";}}if(self.length>0){_847.ajax({url:url,type:type,dataType:"html",data:_b3c}).done(function(_b40){_b3f=arguments;self.html(_b3e?_847("<div>").append(_847.parseHTML(_b40)).find(_b3e):_b40);}).complete(_b3d&&function(_b41,_b42){self.each(_b3d,_b3f||[_b41.responseText,_b42,_b41]);});}return this;};_847.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){_847.fn[type]=function(fn){return this.on(type,fn);};});_847.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_b1b,type:"GET",isLocal:_b20.test(_b1a[1]),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":_b26,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":_847.parseJSON,"text xml":_847.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(_b43,_b44){return _b44?_b39(_b39(_b43,_847.ajaxSettings),_b44):_b39(_847.ajaxSettings,_b43);},ajaxPrefilter:_b27(_b24),ajaxTransport:_b27(_b25),ajax:function(url,_b45){if(typeof url==="object"){_b45=url;url=_834;}_b45=_b45||{};var _b46,_b47,_b48,_b49,_b4a,_b4b,_b4c,i,s=_847.ajaxSetup({},_b45),_b4d=s.context||s,_b4e=s.context&&(_b4d.nodeType||_b4d.jquery)?_847(_b4d):_847.event,_b4f=_847.Deferred(),_b50=_847.Callbacks("once memory"),_b51=s.statusCode||{},_b52={},_b53={},_b54=0,_b55="canceled",_b56={readyState:0,getResponseHeader:function(key){var _b57;if(_b54===2){if(!_b49){_b49={};while((_b57=_b1f.exec(_b48))){_b49[_b57[1].toLowerCase()]=_b57[2];}}_b57=_b49[key.toLowerCase()];}return _b57==null?null:_b57;},getAllResponseHeaders:function(){return _b54===2?_b48:null;},setRequestHeader:function(name,_b58){var _b59=name.toLowerCase();if(!_b54){name=_b53[_b59]=_b53[_b59]||name;_b52[name]=_b58;}return this;},overrideMimeType:function(type){if(!_b54){s.mimeType=type;}return this;},statusCode:function(map){var code;if(map){if(_b54<2){for(code in map){_b51[code]=[_b51[code],map[code]];}}else{_b56.always(map[_b56.status]);}}return this;},abort:function(_b5a){var _b5b=_b5a||_b55;if(_b46){_b46.abort(_b5b);}done(0,_b5b);return this;}};_b4f.promise(_b56).complete=_b50.add;_b56.success=_b56.done;_b56.error=_b56.fail;s.url=((url||s.url||_b1b)+"").replace(_b1e,"").replace(_b22,_b1a[1]+"//");s.type=_b45.method||_b45.type||s.method||s.type;s.dataTypes=_847.trim(s.dataType||"*").toLowerCase().match(_84b)||[""];if(s.crossDomain==null){_b4b=rurl.exec(s.url.toLowerCase());s.crossDomain=!!(_b4b&&(_b4b[1]!==_b1a[1]||_b4b[2]!==_b1a[2]||(_b4b[3]||(_b4b[1]==="http:"?"80":"443"))!==(_b1a[3]||(_b1a[1]==="http:"?"80":"443"))));}if(s.data&&s.processData&&typeof s.data!=="string"){s.data=_847.param(s.data,s.traditional);}_b2c(_b24,s,_b45,_b56);if(_b54===2){return _b56;}_b4c=s.global;if(_b4c&&_847.active++===0){_847.event.trigger("ajaxStart");}s.type=s.type.toUpperCase();s.hasContent=!_b21.test(s.type);_b47=s.url;if(!s.hasContent){if(s.data){_b47=(s.url+=(_b1d.test(_b47)?"&":"?")+s.data);delete s.data;}if(s.cache===false){s.url=rts.test(_b47)?_b47.replace(rts,"$1_="+_b1c++):_b47+(_b1d.test(_b47)?"&":"?")+"_="+_b1c++;}}if(s.ifModified){if(_847.lastModified[_b47]){_b56.setRequestHeader("If-Modified-Since",_847.lastModified[_b47]);}if(_847.etag[_b47]){_b56.setRequestHeader("If-None-Match",_847.etag[_b47]);}}if(s.data&&s.hasContent&&s.contentType!==false||_b45.contentType){_b56.setRequestHeader("Content-Type",s.contentType);}_b56.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+(s.dataTypes[0]!=="*"?", "+_b26+"; q=0.01":""):s.accepts["*"]);for(i in s.headers){_b56.setRequestHeader(i,s.headers[i]);}if(s.beforeSend&&(s.beforeSend.call(_b4d,_b56,s)===false||_b54===2)){return _b56.abort();}_b55="abort";for(i in {success:1,error:1,complete:1}){_b56[i](s[i]);}_b46=_b2c(_b25,s,_b45,_b56);if(!_b46){done(-1,"No Transport");}else{_b56.readyState=1;if(_b4c){_b4e.trigger("ajaxSend",[_b56,s]);}if(s.async&&s.timeout>0){_b4a=setTimeout(function(){_b56.abort("timeout");},s.timeout);}try{_b54=1;_b46.send(_b52,done);}catch(e){if(_b54<2){done(-1,e);}else{throw e;}}}function done(_b5c,_b5d,_b5e,_b5f){var _b60,_b61,_b62,_b63,_b64,_b65=_b5d;if(_b54===2){return;}_b54=2;if(_b4a){clearTimeout(_b4a);}_b46=_834;_b48=_b5f||"";_b56.readyState=_b5c>0?4:0;_b60=_b5c>=200&&_b5c<300||_b5c===304;if(_b5e){_b63=_b66(s,_b56,_b5e);}_b63=_b67(s,_b63,_b56,_b60);if(_b60){if(s.ifModified){_b64=_b56.getResponseHeader("Last-Modified");if(_b64){_847.lastModified[_b47]=_b64;}_b64=_b56.getResponseHeader("etag");if(_b64){_847.etag[_b47]=_b64;}}if(_b5c===204||s.type==="HEAD"){_b65="nocontent";}else{if(_b5c===304){_b65="notmodified";}else{_b65=_b63.state;_b61=_b63.data;_b62=_b63.error;_b60=!_b62;}}}else{_b62=_b65;if(_b5c||!_b65){_b65="error";if(_b5c<0){_b5c=0;}}}_b56.status=_b5c;_b56.statusText=(_b5d||_b65)+"";if(_b60){_b4f.resolveWith(_b4d,[_b61,_b65,_b56]);}else{_b4f.rejectWith(_b4d,[_b56,_b65,_b62]);}_b56.statusCode(_b51);_b51=_834;if(_b4c){_b4e.trigger(_b60?"ajaxSuccess":"ajaxError",[_b56,s,_b60?_b61:_b62]);}_b50.fireWith(_b4d,[_b56,_b65]);if(_b4c){_b4e.trigger("ajaxComplete",[_b56,s]);if(!(--_847.active)){_847.event.trigger("ajaxStop");}}};return _b56;},getJSON:function(url,data,_b68){return _847.get(url,data,_b68,"json");},getScript:function(url,_b69){return _847.get(url,_834,_b69,"script");}});_847.each(["get","post"],function(i,_b6a){_847[_b6a]=function(url,data,_b6b,type){if(_847.isFunction(data)){type=type||_b6b;_b6b=data;data=_834;}return _847.ajax({url:url,type:_b6a,dataType:type,data:data,success:_b6b});};});function _b66(s,_b6c,_b6d){var ct,type,_b6e,_b6f,_b70=s.contents,_b71=s.dataTypes;while(_b71[0]==="*"){_b71.shift();if(ct===_834){ct=s.mimeType||_b6c.getResponseHeader("Content-Type");}}if(ct){for(type in _b70){if(_b70[type]&&_b70[type].test(ct)){_b71.unshift(type);break;}}}if(_b71[0] in _b6d){_b6e=_b71[0];}else{for(type in _b6d){if(!_b71[0]||s.converters[type+" "+_b71[0]]){_b6e=type;break;}if(!_b6f){_b6f=type;}}_b6e=_b6e||_b6f;}if(_b6e){if(_b6e!==_b71[0]){_b71.unshift(_b6e);}return _b6d[_b6e];}};function _b67(s,_b72,_b73,_b74){var _b75,_b76,conv,tmp,prev,_b77={},_b78=s.dataTypes.slice();if(_b78[1]){for(conv in s.converters){_b77[conv.toLowerCase()]=s.converters[conv];}}_b76=_b78.shift();while(_b76){if(s.responseFields[_b76]){_b73[s.responseFields[_b76]]=_b72;}if(!prev&&_b74&&s.dataFilter){_b72=s.dataFilter(_b72,s.dataType);}prev=_b76;_b76=_b78.shift();if(_b76){if(_b76==="*"){_b76=prev;}else{if(prev!=="*"&&prev!==_b76){conv=_b77[prev+" "+_b76]||_b77["* "+_b76];if(!conv){for(_b75 in _b77){tmp=_b75.split(" ");if(tmp[1]===_b76){conv=_b77[prev+" "+tmp[0]]||_b77["* "+tmp[0]];if(conv){if(conv===true){conv=_b77[_b75];}else{if(_b77[_b75]!==true){_b76=tmp[0];_b78.unshift(tmp[1]);}}break;}}}}if(conv!==true){if(conv&&s["throws"]){_b72=conv(_b72);}else{try{_b72=conv(_b72);}catch(e){return {state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+_b76};}}}}}}}return {state:"success",data:_b72};};_847.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(text){_847.globalEval(text);return text;}}});_847.ajaxPrefilter("script",function(s){if(s.cache===_834){s.cache=false;}if(s.crossDomain){s.type="GET";}});_847.ajaxTransport("script",function(s){if(s.crossDomain){var _b79,_b7a;return {send:function(_b7b,_b7c){_b79=_847("<script>").prop({async:true,charset:s.scriptCharset,src:s.url}).on("load error",_b7a=function(evt){_b79.remove();_b7a=null;if(evt){_b7c(evt.type==="error"?404:200,evt.type);}});_839.head.appendChild(_b79[0]);},abort:function(){if(_b7a){_b7a();}}};}});var _b7d=[],_b7e=/(=)\?(?=&|$)|\?\?/;_847.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var _b7f=_b7d.pop()||(_847.expando+"_"+(_b1c++));this[_b7f]=true;return _b7f;}});_847.ajaxPrefilter("json jsonp",function(s,_b80,_b81){var _b82,_b83,_b84,_b85=s.jsonp!==false&&(_b7e.test(s.url)?"url":typeof s.data==="string"&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&_b7e.test(s.data)&&"data");if(_b85||s.dataTypes[0]==="jsonp"){_b82=s.jsonpCallback=_847.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback;if(_b85){s[_b85]=s[_b85].replace(_b7e,"$1"+_b82);}else{if(s.jsonp!==false){s.url+=(_b1d.test(s.url)?"&":"?")+s.jsonp+"="+_b82;}}s.converters["script json"]=function(){if(!_b84){_847.error(_b82+" was not called");}return _b84[0];};s.dataTypes[0]="json";_b83=_833[_b82];_833[_b82]=function(){_b84=arguments;};_b81.always(function(){_833[_b82]=_b83;if(s[_b82]){s.jsonpCallback=_b80.jsonpCallback;_b7d.push(_b82);}if(_b84&&_847.isFunction(_b83)){_b83(_b84[0]);}_b84=_b83=_834;});return "script";}});_847.ajaxSettings.xhr=function(){try{return new XMLHttpRequest();}catch(e){}};var _b86=_847.ajaxSettings.xhr(),_b87={0:200,1223:204},_b88=0,_b89={};if(_833.ActiveXObject){_847(_833).on("unload",function(){for(var key in _b89){_b89[key]();}_b89=_834;});}_847.support.cors=!!_b86&&("withCredentials" in _b86);_847.support.ajax=_b86=!!_b86;_847.ajaxTransport(function(_b8a){var _b8b;if(_847.support.cors||_b86&&!_b8a.crossDomain){return {send:function(_b8c,_b8d){var i,id,xhr=_b8a.xhr();xhr.open(_b8a.type,_b8a.url,_b8a.async,_b8a.username,_b8a.password);if(_b8a.xhrFields){for(i in _b8a.xhrFields){xhr[i]=_b8a.xhrFields[i];}}if(_b8a.mimeType&&xhr.overrideMimeType){xhr.overrideMimeType(_b8a.mimeType);}if(!_b8a.crossDomain&&!_b8c["X-Requested-With"]){_b8c["X-Requested-With"]="XMLHttpRequest";}for(i in _b8c){xhr.setRequestHeader(i,_b8c[i]);}_b8b=function(type){return function(){if(_b8b){delete _b89[id];_b8b=xhr.onload=xhr.onerror=null;if(type==="abort"){xhr.abort();}else{if(type==="error"){_b8d(xhr.status||404,xhr.statusText);}else{_b8d(_b87[xhr.status]||xhr.status,xhr.statusText,typeof xhr.responseText==="string"?{text:xhr.responseText}:_834,xhr.getAllResponseHeaders());}}}};};xhr.onload=_b8b();xhr.onerror=_b8b("error");_b8b=_b89[(id=_b88++)]=_b8b("abort");xhr.send(_b8a.hasContent&&_b8a.data||null);},abort:function(){if(_b8b){_b8b();}}};}});var _b8e,_b8f,_b90=/^(?:toggle|show|hide)$/,_b91=new RegExp("^(?:([+-])=|)("+_84a+")([a-z%]*)$","i"),rrun=/queueHooks$/,_b92=[_b93],_b94={"*":[function(prop,_b95){var _b96=this.createTween(prop,_b95),_b97=_b96.cur(),_b98=_b91.exec(_b95),unit=_b98&&_b98[3]||(_847.cssNumber[prop]?"":"px"),_b99=(_847.cssNumber[prop]||unit!=="px"&&+_b97)&&_b91.exec(_847.css(_b96.elem,prop)),_b9a=1,_b9b=20;if(_b99&&_b99[3]!==unit){unit=unit||_b99[3];_b98=_b98||[];_b99=+_b97||1;do{_b9a=_b9a||".5";_b99=_b99/_b9a;_847.style(_b96.elem,prop,_b99+unit);}while(_b9a!==(_b9a=_b96.cur()/_b97)&&_b9a!==1&&--_b9b);}if(_b98){_b99=_b96.start=+_b99||+_b97||0;_b96.unit=unit;_b96.end=_b98[1]?_b99+(_b98[1]+1)*_b98[2]:+_b98[2];}return _b96;}]};function _b9c(){setTimeout(function(){_b8e=_834;});return (_b8e=_847.now());};function _b9d(_b9e,prop,_b9f){var _ba0,_ba1=(_b94[prop]||[]).concat(_b94["*"]),_ba2=0,_ba3=_ba1.length;for(;_ba2<_ba3;_ba2++){if((_ba0=_ba1[_ba2].call(_b9f,prop,_b9e))){return _ba0;}}};function _ba4(elem,_ba5,_ba6){var _ba7,_ba8,_ba9=0,_baa=_b92.length,_bab=_847.Deferred().always(function(){delete tick.elem;}),tick=function(){if(_ba8){return false;}var _bac=_b8e||_b9c(),_bad=Math.max(0,_bae.startTime+_bae.duration-_bac),temp=_bad/_bae.duration||0,_baf=1-temp,_ba9=0,_baa=_bae.tweens.length;for(;_ba9<_baa;_ba9++){_bae.tweens[_ba9].run(_baf);}_bab.notifyWith(elem,[_bae,_baf,_bad]);if(_baf<1&&_baa){return _bad;}else{_bab.resolveWith(elem,[_bae]);return false;}},_bae=_bab.promise({elem:elem,props:_847.extend({},_ba5),opts:_847.extend(true,{specialEasing:{}},_ba6),originalProperties:_ba5,originalOptions:_ba6,startTime:_b8e||_b9c(),duration:_ba6.duration,tweens:[],createTween:function(prop,end){var _bb0=_847.Tween(elem,_bae.opts,prop,end,_bae.opts.specialEasing[prop]||_bae.opts.easing);_bae.tweens.push(_bb0);return _bb0;},stop:function(_bb1){var _bb2=0,_baa=_bb1?_bae.tweens.length:0;if(_ba8){return this;}_ba8=true;for(;_bb2<_baa;_bb2++){_bae.tweens[_bb2].run(1);}if(_bb1){_bab.resolveWith(elem,[_bae,_bb1]);}else{_bab.rejectWith(elem,[_bae,_bb1]);}return this;}}),_bb3=_bae.props;_bb4(_bb3,_bae.opts.specialEasing);for(;_ba9<_baa;_ba9++){_ba7=_b92[_ba9].call(_bae,elem,_bb3,_bae.opts);if(_ba7){return _ba7;}}_847.map(_bb3,_b9d,_bae);if(_847.isFunction(_bae.opts.start)){_bae.opts.start.call(elem,_bae);}_847.fx.timer(_847.extend(tick,{elem:elem,anim:_bae,queue:_bae.opts.queue}));return _bae.progress(_bae.opts.progress).done(_bae.opts.done,_bae.opts.complete).fail(_bae.opts.fail).always(_bae.opts.always);};function _bb4(_bb5,_bb6){var _bb7,name,_bb8,_bb9,_bba;for(_bb7 in _bb5){name=_847.camelCase(_bb7);_bb8=_bb6[name];_bb9=_bb5[_bb7];if(_847.isArray(_bb9)){_bb8=_bb9[1];_bb9=_bb5[_bb7]=_bb9[0];}if(_bb7!==name){_bb5[name]=_bb9;delete _bb5[_bb7];}_bba=_847.cssHooks[name];if(_bba&&"expand" in _bba){_bb9=_bba.expand(_bb9);delete _bb5[name];for(_bb7 in _bb9){if(!(_bb7 in _bb5)){_bb5[_bb7]=_bb9[_bb7];_bb6[_bb7]=_bb8;}}}else{_bb6[name]=_bb8;}}};_847.Animation=_847.extend(_ba4,{tweener:function(_bbb,_bbc){if(_847.isFunction(_bbb)){_bbc=_bbb;_bbb=["*"];}else{_bbb=_bbb.split(" ");}var prop,_bbd=0,_bbe=_bbb.length;for(;_bbd<_bbe;_bbd++){prop=_bbb[_bbd];_b94[prop]=_b94[prop]||[];_b94[prop].unshift(_bbc);}},prefilter:function(_bbf,_bc0){if(_bc0){_b92.unshift(_bbf);}else{_b92.push(_bbf);}}});function _b93(elem,_bc1,opts){var prop,_bc2,_bc3,_bc4,_bc5,_bc6,anim=this,orig={},_bc7=elem.style,_bc8=elem.nodeType&&_acc(elem),_bc9=_9a7.get(elem,"fxshow");if(!opts.queue){_bc5=_847._queueHooks(elem,"fx");if(_bc5.unqueued==null){_bc5.unqueued=0;_bc6=_bc5.empty.fire;_bc5.empty.fire=function(){if(!_bc5.unqueued){_bc6();}};}_bc5.unqueued++;anim.always(function(){anim.always(function(){_bc5.unqueued--;if(!_847.queue(elem,"fx").length){_bc5.empty.fire();}});});}if(elem.nodeType===1&&("height" in _bc1||"width" in _bc1)){opts.overflow=[_bc7.overflow,_bc7.overflowX,_bc7.overflowY];if(_847.css(elem,"display")==="inline"&&_847.css(elem,"float")==="none"){_bc7.display="inline-block";}}if(opts.overflow){_bc7.overflow="hidden";anim.always(function(){_bc7.overflow=opts.overflow[0];_bc7.overflowX=opts.overflow[1];_bc7.overflowY=opts.overflow[2];});}for(prop in _bc1){_bc2=_bc1[prop];if(_b90.exec(_bc2)){delete _bc1[prop];_bc3=_bc3||_bc2==="toggle";if(_bc2===(_bc8?"hide":"show")){if(_bc2==="show"&&_bc9&&_bc9[prop]!==_834){_bc8=true;}else{continue;}}orig[prop]=_bc9&&_bc9[prop]||_847.style(elem,prop);}}if(!_847.isEmptyObject(orig)){if(_bc9){if("hidden" in _bc9){_bc8=_bc9.hidden;}}else{_bc9=_9a7.access(elem,"fxshow",{});}if(_bc3){_bc9.hidden=!_bc8;}if(_bc8){_847(elem).show();}else{anim.done(function(){_847(elem).hide();});}anim.done(function(){var prop;_9a7.remove(elem,"fxshow");for(prop in orig){_847.style(elem,prop,orig[prop]);}});for(prop in orig){_bc4=_b9d(_bc8?_bc9[prop]:0,prop,anim);if(!(prop in _bc9)){_bc9[prop]=_bc4.start;if(_bc8){_bc4.end=_bc4.start;_bc4.start=prop==="width"||prop==="height"?1:0;}}}}};function _bca(elem,_bcb,prop,end,_bcc){return new _bca.prototype.init(elem,_bcb,prop,end,_bcc);};_847.Tween=_bca;_bca.prototype={constructor:_bca,init:function(elem,_bcd,prop,end,_bce,unit){this.elem=elem;this.prop=prop;this.easing=_bce||"swing";this.options=_bcd;this.start=this.now=this.cur();this.end=end;this.unit=unit||(_847.cssNumber[prop]?"":"px");},cur:function(){var _bcf=_bca.propHooks[this.prop];return _bcf&&_bcf.get?_bcf.get(this):_bca.propHooks._default.get(this);},run:function(_bd0){var _bd1,_bd2=_bca.propHooks[this.prop];if(this.options.duration){this.pos=_bd1=_847.easing[this.easing](_bd0,this.options.duration*_bd0,0,1,this.options.duration);}else{this.pos=_bd1=_bd0;}this.now=(this.end-this.start)*_bd1+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this);}if(_bd2&&_bd2.set){_bd2.set(this);}else{_bca.propHooks._default.set(this);}return this;}};_bca.prototype.init.prototype=_bca.prototype;_bca.propHooks={_default:{get:function(_bd3){var _bd4;if(_bd3.elem[_bd3.prop]!=null&&(!_bd3.elem.style||_bd3.elem.style[_bd3.prop]==null)){return _bd3.elem[_bd3.prop];}_bd4=_847.css(_bd3.elem,_bd3.prop,"");return !_bd4||_bd4==="auto"?0:_bd4;},set:function(_bd5){if(_847.fx.step[_bd5.prop]){_847.fx.step[_bd5.prop](_bd5);}else{if(_bd5.elem.style&&(_bd5.elem.style[_847.cssProps[_bd5.prop]]!=null||_847.cssHooks[_bd5.prop])){_847.style(_bd5.elem,_bd5.prop,_bd5.now+_bd5.unit);}else{_bd5.elem[_bd5.prop]=_bd5.now;}}}}};_bca.propHooks.scrollTop=_bca.propHooks.scrollLeft={set:function(_bd6){if(_bd6.elem.nodeType&&_bd6.elem.parentNode){_bd6.elem[_bd6.prop]=_bd6.now;}}};_847.each(["toggle","show","hide"],function(i,name){var _bd7=_847.fn[name];_847.fn[name]=function(_bd8,_bd9,_bda){return _bd8==null||typeof _bd8==="boolean"?_bd7.apply(this,arguments):this.animate(_bdb(name,true),_bd8,_bd9,_bda);};});_847.fn.extend({fadeTo:function(_bdc,to,_bdd,_bde){return this.filter(_acc).css("opacity",0).show().end().animate({opacity:to},_bdc,_bdd,_bde);},animate:function(prop,_bdf,_be0,_be1){var _be2=_847.isEmptyObject(prop),_be3=_847.speed(_bdf,_be0,_be1),_be4=function(){var anim=_ba4(this,_847.extend({},prop),_be3);if(_be2||_9a7.get(this,"finish")){anim.stop(true);}};_be4.finish=_be4;return _be2||_be3.queue===false?this.each(_be4):this.queue(_be3.queue,_be4);},stop:function(type,_be5,_be6){var _be7=function(_be8){var stop=_be8.stop;delete _be8.stop;stop(_be6);};if(typeof type!=="string"){_be6=_be5;_be5=type;type=_834;}if(_be5&&type!==false){this.queue(type||"fx",[]);}return this.each(function(){var _be9=true,_bea=type!=null&&type+"queueHooks",_beb=_847.timers,data=_9a7.get(this);if(_bea){if(data[_bea]&&data[_bea].stop){_be7(data[_bea]);}}else{for(_bea in data){if(data[_bea]&&data[_bea].stop&&rrun.test(_bea)){_be7(data[_bea]);}}}for(_bea=_beb.length;_bea--;){if(_beb[_bea].elem===this&&(type==null||_beb[_bea].queue===type)){_beb[_bea].anim.stop(_be6);_be9=false;_beb.splice(_bea,1);}}if(_be9||!_be6){_847.dequeue(this,type);}});},finish:function(type){if(type!==false){type=type||"fx";}return this.each(function(){var _bec,data=_9a7.get(this),_bed=data[type+"queue"],_bee=data[type+"queueHooks"],_bef=_847.timers,_bf0=_bed?_bed.length:0;data.finish=true;_847.queue(this,type,[]);if(_bee&&_bee.stop){_bee.stop.call(this,true);}for(_bec=_bef.length;_bec--;){if(_bef[_bec].elem===this&&_bef[_bec].queue===type){_bef[_bec].anim.stop(true);_bef.splice(_bec,1);}}for(_bec=0;_bec<_bf0;_bec++){if(_bed[_bec]&&_bed[_bec].finish){_bed[_bec].finish.call(this);}}delete data.finish;});}});function _bdb(type,_bf1){var _bf2,_bf3={height:type},i=0;_bf1=_bf1?1:0;for(;i<4;i+=2-_bf1){_bf2=_ac6[i];_bf3["margin"+_bf2]=_bf3["padding"+_bf2]=type;}if(_bf1){_bf3.opacity=_bf3.width=type;}return _bf3;};_847.each({slideDown:_bdb("show"),slideUp:_bdb("hide"),slideToggle:_bdb("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,_bf4){_847.fn[name]=function(_bf5,_bf6,_bf7){return this.animate(_bf4,_bf5,_bf6,_bf7);};});_847.speed=function(_bf8,_bf9,fn){var opt=_bf8&&typeof _bf8==="object"?_847.extend({},_bf8):{complete:fn||!fn&&_bf9||_847.isFunction(_bf8)&&_bf8,duration:_bf8,easing:fn&&_bf9||_bf9&&!_847.isFunction(_bf9)&&_bf9};opt.duration=_847.fx.off?0:typeof opt.duration==="number"?opt.duration:opt.duration in _847.fx.speeds?_847.fx.speeds[opt.duration]:_847.fx.speeds._default;if(opt.queue==null||opt.queue===true){opt.queue="fx";}opt.old=opt.complete;opt.complete=function(){if(_847.isFunction(opt.old)){opt.old.call(this);}if(opt.queue){_847.dequeue(this,opt.queue);}};return opt;};_847.easing={linear:function(p){return p;},swing:function(p){return 0.5-Math.cos(p*Math.PI)/2;}};_847.timers=[];_847.fx=_bca.prototype.init;_847.fx.tick=function(){var _bfa,_bfb=_847.timers,i=0;_b8e=_847.now();for(;i<_bfb.length;i++){_bfa=_bfb[i];if(!_bfa()&&_bfb[i]===_bfa){_bfb.splice(i--,1);}}if(!_bfb.length){_847.fx.stop();}_b8e=_834;};_847.fx.timer=function(_bfc){if(_bfc()&&_847.timers.push(_bfc)){_847.fx.start();}};_847.fx.interval=13;_847.fx.start=function(){if(!_b8f){_b8f=setInterval(_847.fx.tick,_847.fx.interval);}};_847.fx.stop=function(){clearInterval(_b8f);_b8f=null;};_847.fx.speeds={slow:600,fast:200,_default:400};_847.fx.step={};if(_847.expr&&_847.expr.filters){_847.expr.filters.animated=function(elem){return _847.grep(_847.timers,function(fn){return elem===fn.elem;}).length;};}_847.fn.offset=function(_bfd){if(arguments.length){return _bfd===_834?this:this.each(function(i){_847.offset.setOffset(this,_bfd,i);});}var _bfe,win,elem=this[0],box={top:0,left:0},doc=elem&&elem.ownerDocument;if(!doc){return;}_bfe=doc.documentElement;if(!_847.contains(_bfe,elem)){return box;}if(typeof elem.getBoundingClientRect!==_837){box=elem.getBoundingClientRect();}win=_bff(doc);return {top:box.top+win.pageYOffset-_bfe.clientTop,left:box.left+win.pageXOffset-_bfe.clientLeft};};_847.offset={setOffset:function(elem,_c00,i){var _c01,_c02,_c03,_c04,_c05,_c06,_c07,_c08=_847.css(elem,"position"),_c09=_847(elem),_c0a={};if(_c08==="static"){elem.style.position="relative";}_c05=_c09.offset();_c03=_847.css(elem,"top");_c06=_847.css(elem,"left");_c07=(_c08==="absolute"||_c08==="fixed")&&(_c03+_c06).indexOf("auto")>-1;if(_c07){_c01=_c09.position();_c04=_c01.top;_c02=_c01.left;}else{_c04=parseFloat(_c03)||0;_c02=parseFloat(_c06)||0;}if(_847.isFunction(_c00)){_c00=_c00.call(elem,i,_c05);}if(_c00.top!=null){_c0a.top=(_c00.top-_c05.top)+_c04;}if(_c00.left!=null){_c0a.left=(_c00.left-_c05.left)+_c02;}if("using" in _c00){_c00.using.call(elem,_c0a);}else{_c09.css(_c0a);}}};_847.fn.extend({position:function(){if(!this[0]){return;}var _c0b,_c0c,elem=this[0],_c0d={top:0,left:0};if(_847.css(elem,"position")==="fixed"){_c0c=elem.getBoundingClientRect();}else{_c0b=this.offsetParent();_c0c=this.offset();if(!_847.nodeName(_c0b[0],"html")){_c0d=_c0b.offset();}_c0d.top+=_847.css(_c0b[0],"borderTopWidth",true);_c0d.left+=_847.css(_c0b[0],"borderLeftWidth",true);}return {top:_c0c.top-_c0d.top-_847.css(elem,"marginTop",true),left:_c0c.left-_c0d.left-_847.css(elem,"marginLeft",true)};},offsetParent:function(){return this.map(function(){var _c0e=this.offsetParent||_83a;while(_c0e&&(!_847.nodeName(_c0e,"html")&&_847.css(_c0e,"position")==="static")){_c0e=_c0e.offsetParent;}return _c0e||_83a;});}});_847.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(_c0f,prop){var top="pageYOffset"===prop;_847.fn[_c0f]=function(val){return _847.access(this,function(elem,_c10,val){var win=_bff(elem);if(val===_834){return win?win[prop]:elem[_c10];}if(win){win.scrollTo(!top?val:_833.pageXOffset,top?val:_833.pageYOffset);}else{elem[_c10]=val;}},_c0f,val,arguments.length,null);};});function _bff(elem){return _847.isWindow(elem)?elem:elem.nodeType===9&&elem.defaultView;};_847.each({Height:"height",Width:"width"},function(name,type){_847.each({padding:"inner"+name,content:type,"":"outer"+name},function(_c11,_c12){_847.fn[_c12]=function(_c13,_c14){var _c15=arguments.length&&(_c11||typeof _c13!=="boolean"),_c16=_c11||(_c13===true||_c14===true?"margin":"border");return _847.access(this,function(elem,type,_c17){var doc;if(_847.isWindow(elem)){return elem.document.documentElement["client"+name];}if(elem.nodeType===9){doc=elem.documentElement;return Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name]);}return _c17===_834?_847.css(elem,type,_c16):_847.style(elem,type,_c17,_c16);},type,_c15?_c13:_834,_c15,null);};});});_847.fn.size=function(){return this.length;};_847.fn.andSelf=_847.fn.addBack;if(typeof module==="object"&&module&&typeof module.exports==="object"){module.exports=_847;}else{if(typeof define==="function"&&define.amd){define("jquery",[],function(){return _847;});}}if(typeof _833==="object"&&typeof _833.document==="object"){_833.jQuery=_833.$=_847;}})(window);jQuery(document).on("mobileinit",function(){jQuery.mobile.pushStateEnabled=false;jQuery.mobile.hashListeningEnabled=false;});(function(root,doc,_c18){if(typeof define==="function"&&define.amd){define(["jquery"],function($){_c18($,root,doc);return $.mobile;});}else{_c18(root.jQuery,root,doc);}}(this,document,function(_c19,_c1a,_c1b,_c1c){(function($){$.mobile={};}(_c19));(function($,_c1d,_c1e){$.extend($.mobile,{version:"1.4.0",subPageUrlKey:"ui-page",hideUrlBar:true,keepNative:":jqmData(role='none'), :jqmData(role='nojs')",activePageClass:"ui-page-active",focusClass:"ui-focus",ajaxEnabled:true,hashListeningEnabled:true,linkBindingEnabled:true,defaultPageTransition:"fade",maxTransitionWidth:false,minScrollBack:0,defaultDialogTransition:"pop",pageLoadErrorMessage:"Error Loading Page",pageLoadErrorMessageTheme:"a",phonegapNavigationEnabled:false,autoInitializePage:true,pushStateEnabled:true,ignoreContentEnabled:false,buttonMarkup:{hoverDelay:200},dynamicBaseEnabled:true,pageContainer:$(),allowCrossDomainPages:false,dialogHashKey:"&ui-state=dialog"});})(_c19,this);(function($,_c1f,_c20){var _c21={},_c22=$.find,_c23=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,_c24=/:jqmData\(([^)]*)\)/g;$.extend($.mobile,{ns:"",getAttribute:function(_c25,key){var data;_c25=_c25.jquery?_c25[0]:_c25;if(_c25&&_c25.getAttribute){data=_c25.getAttribute("data-"+$.mobile.ns+key);}try{data=data==="true"?true:data==="false"?false:data==="null"?null:+data+""===data?+data:_c23.test(data)?JSON.parse(data):data;}catch(err){}return data;},nsNormalizeDict:_c21,nsNormalize:function(prop){return _c21[prop]||(_c21[prop]=$.camelCase($.mobile.ns+prop));},closestPageData:function(_c26){return _c26.closest(":jqmData(role='page'), :jqmData(role='dialog')").data("mobile-page");}});$.fn.jqmData=function(prop,_c27){var _c28;if(typeof prop!=="undefined"){if(prop){prop=$.mobile.nsNormalize(prop);}if(arguments.length<2||_c27===_c20){_c28=this.data(prop);}else{_c28=this.data(prop,_c27);}}return _c28;};$.jqmData=function(elem,prop,_c29){var _c2a;if(typeof prop!=="undefined"){_c2a=$.data(elem,prop?$.mobile.nsNormalize(prop):prop,_c29);}return _c2a;};$.fn.jqmRemoveData=function(prop){return this.removeData($.mobile.nsNormalize(prop));};$.jqmRemoveData=function(elem,prop){return $.removeData(elem,$.mobile.nsNormalize(prop));};$.find=function(_c2b,_c2c,ret,_c2d){if(_c2b.indexOf(":jqmData")>-1){_c2b=_c2b.replace(_c24,"[data-"+($.mobile.ns||"")+"$1]");}return _c22.call(this,_c2b,_c2c,ret,_c2d);};$.extend($.find,_c22);})(_c19,this);(function($,_c2e){var uuid=0,_c2f=/^ui-id-\d+$/;$.ui=$.ui||{};$.extend($.ui,{version:"c0ab71056b936627e8a7821f03c044aec6280a40",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});$.fn.extend({focus:(function(orig){return function(_c30,fn){return typeof _c30==="number"?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus();if(fn){fn.call(elem);}},_c30);}):orig.apply(this,arguments);};})($.fn.focus),scrollParent:function(){var _c31;if(($.ui.ie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){_c31=this.parents().filter(function(){return (/(relative|absolute|fixed)/).test($.css(this,"position"))&&(/(auto|scroll)/).test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"));}).eq(0);}else{_c31=this.parents().filter(function(){return (/(auto|scroll)/).test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"));}).eq(0);}return (/fixed/).test(this.css("position"))||!_c31.length?$(this[0].ownerDocument||_c1b):_c31;},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++uuid);}});},removeUniqueId:function(){return this.each(function(){if(_c2f.test(this.id)){$(this).removeAttr("id");}});}});function _c32(_c33,_c34){var map,_c35,img,_c36=_c33.nodeName.toLowerCase();if("area"===_c36){map=_c33.parentNode;_c35=map.name;if(!_c33.href||!_c35||map.nodeName.toLowerCase()!=="map"){return false;}img=$("img[usemap=#"+_c35+"]")[0];return !!img&&_c37(img);}return (/input|select|textarea|button|object/.test(_c36)?!_c33.disabled:"a"===_c36?_c33.href||_c34:_c34)&&_c37(_c33);};function _c37(_c38){return $.expr.filters.visible(_c38)&&!$(_c38).parents().addBack().filter(function(){return $.css(this,"visibility")==="hidden";}).length;};$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(_c39){return function(elem){return !!$.data(elem,_c39);};}):function(elem,i,_c3a){return !!$.data(elem,_c3a[3]);},focusable:function(_c3b){return _c32(_c3b,!isNaN($.attr(_c3b,"tabindex")));},tabbable:function(_c3c){var _c3d=$.attr(_c3c,"tabindex"),_c3e=isNaN(_c3d);return (_c3e||_c3d>=0)&&_c32(_c3c,!_c3e);}});if(!$("<a>").outerWidth(1).jquery){$.each(["Width","Height"],function(i,name){var side=name==="Width"?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};function _c3f(elem,size,_c40,_c41){$.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||0;if(_c40){size-=parseFloat($.css(elem,"border"+this+"Width"))||0;}if(_c41){size-=parseFloat($.css(elem,"margin"+this))||0;}});return size;};$.fn["inner"+name]=function(size){if(size===_c2e){return orig["inner"+name].call(this);}return this.each(function(){$(this).css(type,_c3f(this,size)+"px");});};$.fn["outer"+name]=function(size,_c42){if(typeof size!=="number"){return orig["outer"+name].call(this,size);}return this.each(function(){$(this).css(type,_c3f(this,size,true,_c42)+"px");});};});}if(!$.fn.addBack){$.fn.addBack=function(_c43){return this.add(_c43==null?this.prevObject:this.prevObject.filter(_c43));};}if($("<a>").data("a-b","a").removeData("a-b").data("a-b")){$.fn.removeData=(function(_c44){return function(key){if(arguments.length){return _c44.call(this,$.camelCase(key));}else{return _c44.call(this);}};})($.fn.removeData);}$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());$.support.selectstart="onselectstart" in _c1b.createElement("div");$.fn.extend({disableSelection:function(){return this.bind(($.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(_c45){_c45.preventDefault();});},enableSelection:function(){return this.unbind(".ui-disableSelection");},zIndex:function(_c46){if(_c46!==_c2e){return this.css("zIndex",_c46);}if(this.length){var elem=$(this[0]),_c47,_c48;while(elem.length&&elem[0]!==_c1b){_c47=elem.css("position");if(_c47==="absolute"||_c47==="relative"||_c47==="fixed"){_c48=parseInt(elem.css("zIndex"),10);if(!isNaN(_c48)&&_c48!==0){return _c48;}}elem=elem.parent();}}return 0;}});$.ui.plugin={add:function(_c49,_c4a,set){var i,_c4b=$.ui[_c49].prototype;for(i in set){_c4b.plugins[i]=_c4b.plugins[i]||[];_c4b.plugins[i].push([_c4a,set[i]]);}},call:function(_c4c,name,args,_c4d){var i,set=_c4c.plugins[name];if(!set){return;}if(!_c4d&&(!_c4c.element[0].parentNode||_c4c.element[0].parentNode.nodeType===11)){return;}for(i=0;i<set.length;i++){if(_c4c.options[set[i][0]]){set[i][1].apply(_c4c.element,args);}}}};})(_c19);(function($,_c4e,_c4f){$.extend($.mobile,{window:$(_c4e),document:$(_c1b),keyCode:$.ui.keyCode,behaviors:{},silentScroll:function(ypos){if($.type(ypos)!=="number"){ypos=$.mobile.defaultHomeScroll;}$.event.special.scrollstart.enabled=false;setTimeout(function(){_c4e.scrollTo(0,ypos);$.mobile.document.trigger("silentscroll",{x:0,y:ypos});},20);setTimeout(function(){$.event.special.scrollstart.enabled=true;},150);},getClosestBaseUrl:function(ele){var url=$(ele).closest(".ui-page").jqmData("url"),base=$.mobile.path.documentBase.hrefNoHash;if(!$.mobile.dynamicBaseEnabled||!url||!$.mobile.path.isPath(url)){url=base;}return $.mobile.path.makeUrlAbsolute(url,base);},removeActiveLinkClass:function(_c50){if(!!$.mobile.activeClickedLink&&(!$.mobile.activeClickedLink.closest("."+$.mobile.activePageClass).length||_c50)){$.mobile.activeClickedLink.removeClass($.mobile.activeBtnClass);}$.mobile.activeClickedLink=null;},getInheritedTheme:function(el,_c51){var e=el[0],ltr="",re=/ui-(bar|body|overlay)-([a-z])\b/,c,m;while(e){c=e.className||"";if(c&&(m=re.exec(c))&&(ltr=m[2])){break;}e=e.parentNode;}return ltr||_c51||"a";},enhanceable:function(_c52){return this.haveParents(_c52,"enhance");},hijackable:function(_c53){return this.haveParents(_c53,"ajax");},haveParents:function(_c54,attr){if(!$.mobile.ignoreContentEnabled){return _c54;}var _c55=_c54.length,_c56=$(),e,_c57,_c58,i,c;for(i=0;i<_c55;i++){_c57=_c54.eq(i);_c58=false;e=_c54[i];while(e){c=e.getAttribute?e.getAttribute("data-"+$.mobile.ns+attr):"";if(c==="false"){_c58=true;break;}e=e.parentNode;}if(!_c58){_c56=_c56.add(_c57);}}return _c56;},getScreenHeight:function(){return _c4e.innerHeight||$.mobile.window.height();},resetActivePageHeight:function(_c59){var page=$("."+$.mobile.activePageClass),_c5a=page.height(),_c5b=page.outerHeight(true);_c59=(typeof _c59==="number")?_c59:$.mobile.getScreenHeight();page.css("min-height",_c59-(_c5b-_c5a));},loading:function(){var _c5c=this.loading._widget||$($.mobile.loader.prototype.defaultHtml).loader(),_c5d=_c5c.loader.apply(_c5c,arguments);this.loading._widget=_c5c;return _c5d;}});$.addDependents=function(elem,_c5e){var _c5f=$(elem),_c60=_c5f.jqmData("dependents")||$();_c5f.jqmData("dependents",$(_c60).add(_c5e));};$.fn.extend({removeWithDependents:function(){$.removeWithDependents(this);},enhanceWithin:function(){var _c61,_c62={},_c63=$.mobile.page.prototype.keepNativeSelector(),that=this;if($.mobile.nojs){$.mobile.nojs(this);}if($.mobile.links){$.mobile.links(this);}if($.mobile.degradeInputsWithin){$.mobile.degradeInputsWithin(this);}if($.fn.buttonMarkup){this.find($.fn.buttonMarkup.initSelector).not(_c63).jqmEnhanceable().buttonMarkup();}if($.fn.fieldcontain){this.find(":jqmData(role='fieldcontain')").not(_c63).jqmEnhanceable().fieldcontain();}$.each($.mobile.widgets,function(name,_c64){if(_c64.initSelector){var _c65=$.mobile.enhanceable(that.find(_c64.initSelector));if(_c65.length>0){_c65=_c65.not(_c63);}if(_c65.length>0){_c62[_c64.prototype.widgetName]=_c65;}}});for(_c61 in _c62){_c62[_c61][_c61]();}return this;},addDependents:function(_c66){$.addDependents(this,_c66);},getEncodedText:function(){return $("<a>").text(this.text()).html();},jqmEnhanceable:function(){return $.mobile.enhanceable(this);},jqmHijackable:function(){return $.mobile.hijackable(this);}});$.removeWithDependents=function(_c67){var _c68=$(_c67);(_c68.jqmData("dependents")||$()).remove();_c68.remove();};$.addDependents=function(_c69,_c6a){var _c6b=$(_c69),_c6c=_c6b.jqmData("dependents")||$();_c6b.jqmData("dependents",$(_c6c).add(_c6a));};$.find.matches=function(expr,set){return $.find(expr,null,null,set);};$.find.matchesSelector=function(node,expr){return $.find(expr,null,null,[node]).length>0;};})(_c19,this);(function($,_c6d){var uuid=0,_c6e=Array.prototype.slice,_c6f=$.cleanData;$.cleanData=function(_c70){for(var i=0,elem;(elem=_c70[i])!=null;i++){try{$(elem).triggerHandler("remove");}catch(e){}}_c6f(_c70);};$.widget=function(name,base,_c71){var _c72,_c73,_c74,_c75,_c76={},_c77=name.split(".")[0];name=name.split(".")[1];_c72=_c77+"-"+name;if(!_c71){_c71=base;base=$.Widget;}$.expr[":"][_c72.toLowerCase()]=function(elem){return !!$.data(elem,_c72);};$[_c77]=$[_c77]||{};_c73=$[_c77][name];_c74=$[_c77][name]=function(_c78,_c79){if(!this._createWidget){return new _c74(_c78,_c79);}if(arguments.length){this._createWidget(_c78,_c79);}};$.extend(_c74,_c73,{version:_c71.version,_proto:$.extend({},_c71),_childConstructors:[]});_c75=new base();_c75.options=$.widget.extend({},_c75.options);$.each(_c71,function(prop,_c7a){if(!$.isFunction(_c7a)){_c76[prop]=_c7a;return;}_c76[prop]=(function(){var _c7b=function(){return base.prototype[prop].apply(this,arguments);},_c7c=function(args){return base.prototype[prop].apply(this,args);};return function(){var _c7d=this._super,_c7e=this._superApply,_c7f;this._super=_c7b;this._superApply=_c7c;_c7f=_c7a.apply(this,arguments);this._super=_c7d;this._superApply=_c7e;return _c7f;};})();});_c74.prototype=$.widget.extend(_c75,{widgetEventPrefix:_c73?(_c75.widgetEventPrefix||name):name},_c76,{constructor:_c74,namespace:_c77,widgetName:name,widgetFullName:_c72});if(_c73){$.each(_c73._childConstructors,function(i,_c80){var _c81=_c80.prototype;$.widget(_c81.namespace+"."+_c81.widgetName,_c74,_c80._proto);});delete _c73._childConstructors;}else{base._childConstructors.push(_c74);}$.widget.bridge(name,_c74);return _c74;};$.widget.extend=function(_c82){var _c83=_c6e.call(arguments,1),_c84=0,_c85=_c83.length,key,_c86;for(;_c84<_c85;_c84++){for(key in _c83[_c84]){_c86=_c83[_c84][key];if(_c83[_c84].hasOwnProperty(key)&&_c86!==_c6d){if($.isPlainObject(_c86)){_c82[key]=$.isPlainObject(_c82[key])?$.widget.extend({},_c82[key],_c86):$.widget.extend({},_c86);}else{_c82[key]=_c86;}}}}return _c82;};$.widget.bridge=function(name,_c87){var _c88=_c87.prototype.widgetFullName||name;$.fn[name]=function(_c89){var _c8a=typeof _c89==="string",args=_c6e.call(arguments,1),_c8b=this;_c89=!_c8a&&args.length?$.widget.extend.apply(null,[_c89].concat(args)):_c89;if(_c8a){this.each(function(){var _c8c,_c8d=$.data(this,_c88);if(_c89==="instance"){_c8b=_c8d;return false;}if(!_c8d){return $.error("cannot call methods on "+name+" prior to initialization; "+"attempted to call method '"+_c89+"'");}if(!$.isFunction(_c8d[_c89])||_c89.charAt(0)==="_"){return $.error("no such method '"+_c89+"' for "+name+" widget instance");}_c8c=_c8d[_c89].apply(_c8d,args);if(_c8c!==_c8d&&_c8c!==_c6d){_c8b=_c8c&&_c8c.jquery?_c8b.pushStack(_c8c.get()):_c8c;return false;}});}else{this.each(function(){var _c8e=$.data(this,_c88);if(_c8e){_c8e.option(_c89||{})._init();}else{$.data(this,_c88,new _c87(_c89,this));}});}return _c8b;};};$.Widget=function(){};$.Widget._childConstructors=[];$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(_c8f,_c90){_c90=$(_c90||this.defaultElement||this)[0];this.element=$(_c90);this.uuid=uuid++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=$.widget.extend({},this.options,this._getCreateOptions(),_c8f);this.bindings=$();this.hoverable=$();this.focusable=$();if(_c90!==this){$.data(_c90,this.widgetFullName,this);this._on(true,this.element,{remove:function(_c91){if(_c91.target===_c90){this.destroy();}}});this.document=$(_c90.style?_c90.ownerDocument:_c90.document||_c90);this.window=$(this.document[0].defaultView||this.document[0].parentWindow);}this._create();this._trigger("create",null,this._getCreateEventData());this._init();},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");},_destroy:$.noop,widget:function(){return this.element;},option:function(key,_c92){var _c93=key,_c94,_c95,i;if(arguments.length===0){return $.widget.extend({},this.options);}if(typeof key==="string"){_c93={};_c94=key.split(".");key=_c94.shift();if(_c94.length){_c95=_c93[key]=$.widget.extend({},this.options[key]);for(i=0;i<_c94.length-1;i++){_c95[_c94[i]]=_c95[_c94[i]]||{};_c95=_c95[_c94[i]];}key=_c94.pop();if(_c92===_c6d){return _c95[key]===_c6d?null:_c95[key];}_c95[key]=_c92;}else{if(_c92===_c6d){return this.options[key]===_c6d?null:this.options[key];}_c93[key]=_c92;}}this._setOptions(_c93);return this;},_setOptions:function(_c96){var key;for(key in _c96){this._setOption(key,_c96[key]);}return this;},_setOption:function(key,_c97){this.options[key]=_c97;if(key==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled",!!_c97);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");}return this;},enable:function(){return this._setOptions({disabled:false});},disable:function(){return this._setOptions({disabled:true});},_on:function(_c98,_c99,_c9a){var _c9b,_c9c=this;if(typeof _c98!=="boolean"){_c9a=_c99;_c99=_c98;_c98=false;}if(!_c9a){_c9a=_c99;_c99=this.element;_c9b=this.widget();}else{_c99=_c9b=$(_c99);this.bindings=this.bindings.add(_c99);}$.each(_c9a,function(_c9d,_c9e){function _c9f(){if(!_c98&&(_c9c.options.disabled===true||$(this).hasClass("ui-state-disabled"))){return;}return (typeof _c9e==="string"?_c9c[_c9e]:_c9e).apply(_c9c,arguments);};if(typeof _c9e!=="string"){_c9f.guid=_c9e.guid=_c9e.guid||_c9f.guid||$.guid++;}var _ca0=_c9d.match(/^(\w+)\s*(.*)$/),_ca1=_ca0[1]+_c9c.eventNamespace,_ca2=_ca0[2];if(_ca2){_c9b.delegate(_ca2,_ca1,_c9f);}else{_c99.bind(_ca1,_c9f);}});},_off:function(_ca3,_ca4){_ca4=(_ca4||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;_ca3.unbind(_ca4).undelegate(_ca4);},_delay:function(_ca5,_ca6){function _ca7(){return (typeof _ca5==="string"?_ca8[_ca5]:_ca5).apply(_ca8,arguments);};var _ca8=this;return setTimeout(_ca7,_ca6||0);},_hoverable:function(_ca9){this.hoverable=this.hoverable.add(_ca9);this._on(_ca9,{mouseenter:function(_caa){$(_caa.currentTarget).addClass("ui-state-hover");},mouseleave:function(_cab){$(_cab.currentTarget).removeClass("ui-state-hover");}});},_focusable:function(_cac){this.focusable=this.focusable.add(_cac);this._on(_cac,{focusin:function(_cad){$(_cad.currentTarget).addClass("ui-state-focus");},focusout:function(_cae){$(_cae.currentTarget).removeClass("ui-state-focus");}});},_trigger:function(type,_caf,data){var prop,orig,_cb0=this.options[type];data=data||{};_caf=$.Event(_caf);_caf.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();_caf.target=this.element[0];orig=_caf.originalEvent;if(orig){for(prop in orig){if(!(prop in _caf)){_caf[prop]=orig[prop];}}}this.element.trigger(_caf,data);return !($.isFunction(_cb0)&&_cb0.apply(this.element[0],[_caf].concat(data))===false||_caf.isDefaultPrevented());}};$.each({show:"fadeIn",hide:"fadeOut"},function(_cb1,_cb2){$.Widget.prototype["_"+_cb1]=function(_cb3,_cb4,_cb5){if(typeof _cb4==="string"){_cb4={effect:_cb4};}var _cb6,_cb7=!_cb4?_cb1:_cb4===true||typeof _cb4==="number"?_cb2:_cb4.effect||_cb2;_cb4=_cb4||{};if(typeof _cb4==="number"){_cb4={duration:_cb4};}_cb6=!$.isEmptyObject(_cb4);_cb4.complete=_cb5;if(_cb4.delay){_cb3.delay(_cb4.delay);}if(_cb6&&$.effects&&$.effects.effect[_cb7]){_cb3[_cb1](_cb4);}else{if(_cb7!==_cb1&&_cb3[_cb7]){_cb3[_cb7](_cb4.duration,_cb4.easing,_cb5);}else{_cb3.queue(function(next){$(this)[_cb1]();if(_cb5){_cb5.call(_cb3[0]);}next();});}}};});})(_c19);(function($,_cb8){var _cb9=/[A-Z]/g,_cba=function(c){return "-"+c.toLowerCase();};$.extend($.Widget.prototype,{_getCreateOptions:function(){var _cbb,_cbc,elem=this.element[0],_cbd={};if(!$.mobile.getAttribute(elem,"defaults")){for(_cbb in this.options){_cbc=$.mobile.getAttribute(elem,_cbb.replace(_cb9,_cba));if(_cbc!=null){_cbd[_cbb]=_cbc;}}}return _cbd;}});$.mobile.widget=$.Widget;})(_c19);(function($){var _cbe="ui-loader",_cbf=$("html");$.widget("mobile.loader",{options:{theme:"a",textVisible:false,html:"",text:"loading"},defaultHtml:"<div class='"+_cbe+"'>"+"<span class='ui-icon-loading'></span>"+"<h1></h1>"+"</div>",fakeFixLoader:function(){var _cc0=$("."+$.mobile.activeBtnClass).first();this.element.css({top:$.support.scrollTop&&this.window.scrollTop()+this.window.height()/2||_cc0.length&&_cc0.offset().top||100});},checkLoaderPosition:function(){var _cc1=this.element.offset(),_cc2=this.window.scrollTop(),_cc3=$.mobile.getScreenHeight();if(_cc1.top<_cc2||(_cc1.top-_cc2)>_cc3){this.element.addClass("ui-loader-fakefix");this.fakeFixLoader();this.window.unbind("scroll",this.checkLoaderPosition).bind("scroll",$.proxy(this.fakeFixLoader,this));}},resetHtml:function(){this.element.html($(this.defaultHtml).html());},show:function(_cc4,_cc5,_cc6){var _cc7,_cc8,_cc9;this.resetHtml();if($.type(_cc4)==="object"){_cc9=$.extend({},this.options,_cc4);_cc4=_cc9.theme;}else{_cc9=this.options;_cc4=_cc4||_cc9.theme;}_cc8=_cc5||(_cc9.text===false?"":_cc9.text);_cbf.addClass("ui-loading");_cc7=_cc9.textVisible;this.element.attr("class",_cbe+" ui-corner-all ui-body-"+_cc4+" ui-loader-"+(_cc7||_cc5||_cc4.text?"verbose":"default")+(_cc9.textonly||_cc6?" ui-loader-textonly":""));if(_cc9.html){this.element.html(_cc9.html);}else{this.element.find("h1").text(_cc8);}this.element.appendTo($.mobile.pageContainer);this.checkLoaderPosition();this.window.bind("scroll",$.proxy(this.checkLoaderPosition,this));},hide:function(){_cbf.removeClass("ui-loading");if(this.options.text){this.element.removeClass("ui-loader-fakefix");}$.mobile.window.unbind("scroll",this.fakeFixLoader);$.mobile.window.unbind("scroll",this.checkLoaderPosition);}});})(_c19,this);(function($,_cca,_ccb){var _ccc="hashchange",doc=_c1b,_ccd,_cce=$.event.special,_ccf=doc.documentMode,_cd0="on"+_ccc in _cca&&(_ccf===_ccb||_ccf>7);function _cd1(url){url=url||location.href;return "#"+url.replace(/^[^#]*#?(.*)$/,"$1");};$.fn[_ccc]=function(fn){return fn?this.bind(_ccc,fn):this.trigger(_ccc);};$.fn[_ccc].delay=50;_cce[_ccc]=$.extend(_cce[_ccc],{setup:function(){if(_cd0){return false;}$(_ccd.start);},teardown:function(){if(_cd0){return false;}$(_ccd.stop);}});_ccd=(function(){var self={},_cd2,_cd3=_cd1(),_cd4=function(val){return val;},_cd5=_cd4,_cd6=_cd4;self.start=function(){_cd2||poll();};self.stop=function(){_cd2&&clearTimeout(_cd2);_cd2=_ccb;};function poll(){var hash=_cd1(),_cd7=_cd6(_cd3);if(hash!==_cd3){_cd5(_cd3=hash,_cd7);$(_cca).trigger(_ccc);}else{if(_cd7!==_cd3){location.href=location.href.replace(/#.*/,"")+_cd7;}}_cd2=setTimeout(poll,$.fn[_ccc].delay);};_cca.attachEvent&&!_cca.addEventListener&&!_cd0&&(function(){var _cd8,_cd9;self.start=function(){if(!_cd8){_cd9=$.fn[_ccc].src;_cd9=_cd9&&_cd9+_cd1();_cd8=$("<iframe tabindex=\"-1\" title=\"empty\"/>").hide().one("load",function(){_cd9||_cd5(_cd1());poll();}).attr("src",_cd9||"javascript:0").insertAfter("body")[0].contentWindow;doc.onpropertychange=function(){try{if(event.propertyName==="title"){_cd8.document.title=doc.title;}}catch(e){}};}};self.stop=_cd4;_cd6=function(){return _cd1(_cd8.location.href);};_cd5=function(hash,_cda){var _cdb=_cd8.document,_cdc=$.fn[_ccc].domain;if(hash!==_cda){_cdb.title=doc.title;_cdb.open();_cdc&&_cdb.write("<script>document.domain=\""+_cdc+"\"</script>");_cdb.close();_cd8.location.hash=hash;}};})();return self;})();})(_c19,this);(function($,_cdd){_c1a.matchMedia=_c1a.matchMedia||(function(doc,_cde){var bool,_cdf=doc.documentElement,_ce0=_cdf.firstElementChild||_cdf.firstChild,_ce1=doc.createElement("body"),div=doc.createElement("div");div.id="mq-test-1";div.style.cssText="position:absolute;top:-100em";_ce1.style.background="none";_ce1.appendChild(div);return function(q){div.innerHTML="&shy;<style media=\""+q+"\"> #mq-test-1 { width: 42px; }</style>";_cdf.insertBefore(_ce1,_ce0);bool=div.offsetWidth===42;_cdf.removeChild(_ce1);return {matches:bool,media:q};};}(_c1b));$.mobile.media=function(q){return _c1a.matchMedia(q).matches;};})(_c19);(function($,_ce2){var _ce3={touch:"ontouchend" in _c1b};$.mobile.support=$.mobile.support||{};$.extend($.support,_ce3);$.extend($.mobile.support,_ce3);}(_c19));(function($,_ce4){$.extend($.support,{orientation:"orientation" in _c1a&&"onorientationchange" in _c1a});}(_c19));(function($,_ce5){function _ce6(prop){var _ce7=prop.charAt(0).toUpperCase()+prop.substr(1),_ce8=(prop+" "+_ce9.join(_ce7+" ")+_ce7).split(" "),v;for(v in _ce8){if(_cea[_ce8[v]]!==_ce5){return true;}}};var _ceb=$("<body>").prependTo("html"),_cea=_ceb[0].style,_ce9=["Webkit","Moz","O"],_cec="palmGetResource" in _c1a,_ced=_c1a.opera,_cee=_c1a.operamini&&({}).toString.call(_c1a.operamini)==="[object OperaMini]",bb=_c1a.blackberry&&!_ce6("-webkit-transform"),_cef;function _cf0(prop,_cf1,_cf2){var div=_c1b.createElement("div"),uc=function(txt){return txt.charAt(0).toUpperCase()+txt.substr(1);},_cf3=function(vend){if(vend===""){return "";}else{return "-"+vend.charAt(0).toLowerCase()+vend.substr(1)+"-";}},_cf4=function(vend){var _cf5=_cf3(vend)+prop+": "+_cf1+";",_cf6=uc(vend),_cf7=_cf6+(_cf6===""?prop:uc(prop));div.setAttribute("style",_cf5);if(!!div.style[_cf7]){ret=true;}},_cf8=_cf2?_cf2:_ce9,i,ret;for(i=0;i<_cf8.length;i++){_cf4(_cf8[i]);}return !!ret;};function _cf9(){var w=_c1a,svg=!!w.document.createElementNS&&!!w.document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect&&!(w.opera&&navigator.userAgent.indexOf("Chrome")===-1),_cfa=function(data){if(!(data&&svg)){$("html").addClass("ui-nosvg");}},img=new w.Image();img.onerror=function(){_cfa(false);};img.onload=function(){_cfa(img.width===1&&img.height===1);};img.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";};function _cfb(){var _cfc="transform-3d",ret=$.mobile.media("(-"+_ce9.join("-"+_cfc+"),(-")+"-"+_cfc+"),("+_cfc+")"),el,_cfd,t;if(ret){return !!ret;}el=_c1b.createElement("div");_cfd={"MozTransform":"-moz-transform","transform":"transform"};_ceb.append(el);for(t in _cfd){if(el.style[t]!==_ce5){el.style[t]="translate3d( 100px, 1px, 1px )";ret=_c1a.getComputedStyle(el).getPropertyValue(_cfd[t]);}}return (!!ret&&ret!=="none");};function _cfe(){var _cff=location.protocol+"//"+location.host+location.pathname+"ui-dir/",base=$("head base"),_d00=null,href="",link,_d01;if(!base.length){base=_d00=$("<base>",{"href":_cff}).appendTo("head");}else{href=base.attr("href");}link=$("<a href='testurl' />").prependTo(_ceb);_d01=link[0].href;base[0].href=href||location.pathname;if(_d00){_d00.remove();}return _d01.indexOf(_cff)===0;};function _d02(){var _d03=_c1b.createElement("x"),_d04=_c1b.documentElement,_d05=_c1a.getComputedStyle,_d06;if(!("pointerEvents" in _d03.style)){return false;}_d03.style.pointerEvents="auto";_d03.style.pointerEvents="x";_d04.appendChild(_d03);_d06=_d05&&_d05(_d03,"").pointerEvents==="auto";_d04.removeChild(_d03);return !!_d06;};function _d07(){var div=_c1b.createElement("div");return typeof div.getBoundingClientRect!=="undefined";};$.extend($.mobile,{browser:{}});$.mobile.browser.oldIE=(function(){var v=3,div=_c1b.createElement("div"),a=div.all||[];do{div.innerHTML="<!--[if gt IE "+(++v)+"]><br><![endif]-->";}while(a[0]);return v>4?v:!v;})();function _d08(){var w=_c1a,ua=navigator.userAgent,_d09=navigator.platform,_d0a=ua.match(/AppleWebKit\/([0-9]+)/),_d0b=!!_d0a&&_d0a[1],_d0c=ua.match(/Fennec\/([0-9]+)/),_d0d=!!_d0c&&_d0c[1],_d0e=ua.match(/Opera Mobi\/([0-9]+)/),_d0f=!!_d0e&&_d0e[1];if(((_d09.indexOf("iPhone")>-1||_d09.indexOf("iPad")>-1||_d09.indexOf("iPod")>-1)&&_d0b&&_d0b<534)||(w.operamini&&({}).toString.call(w.operamini)==="[object OperaMini]")||(_d0e&&_d0f<7458)||(ua.indexOf("Android")>-1&&_d0b&&_d0b<533)||(_d0d&&_d0d<6)||("palmGetResource" in _c1a&&_d0b&&_d0b<534)||(ua.indexOf("MeeGo")>-1&&ua.indexOf("NokiaBrowser/8.5.0")>-1)){return false;}return true;};$.extend($.support,{cssTransitions:"WebKitTransitionEvent" in _c1a||_cf0("transition","height 100ms linear",["Webkit","Moz",""])&&!$.mobile.browser.oldIE&&!_ced,pushState:"pushState" in history&&"replaceState" in history&&!(_c1a.navigator.userAgent.indexOf("Firefox")>=0&&_c1a.top!==_c1a)&&(_c1a.navigator.userAgent.search(/CriOS/)===-1),mediaquery:$.mobile.media("only all"),cssPseudoElement:!!_ce6("content"),touchOverflow:!!_ce6("overflowScrolling"),cssTransform3d:_cfb(),cssAnimations:!!_ce6("animationName"),boxShadow:!!_ce6("boxShadow")&&!bb,fixedPosition:_d08(),scrollTop:("pageXOffset" in _c1a||"scrollTop" in _c1b.documentElement||"scrollTop" in _ceb[0])&&!_cec&&!_cee,dynamicBaseTag:_cfe(),cssPointerEvents:_d02(),boundingRect:_d07(),inlineSVG:_cf9});_ceb.remove();_cef=(function(){var ua=_c1a.navigator.userAgent;return ua.indexOf("Nokia")>-1&&(ua.indexOf("Symbian/3")>-1||ua.indexOf("Series60/5")>-1)&&ua.indexOf("AppleWebKit")>-1&&ua.match(/(BrowserNG|NokiaBrowser)\/7\.[0-3]/);})();$.mobile.gradeA=function(){return (($.support.mediaquery&&$.support.cssPseudoElement)||$.mobile.browser.oldIE&&$.mobile.browser.oldIE>=8)&&($.support.boundingRect||$.fn.jquery.match(/1\.[0-7+]\.[0-9+]?/)!==null);};$.mobile.ajaxBlacklist=_c1a.blackberry&&!_c1a.WebKitPoint||_cee||_cef;if(_cef){$(function(){$("head link[rel='stylesheet']").attr("rel","alternate stylesheet").attr("rel","stylesheet");});}if(!$.support.boxShadow){$("html").addClass("ui-noboxshadow");}})(_c19);(function($,_d10){var $win=$.mobile.window,self,_d11=function(){};$.event.special.beforenavigate={setup:function(){$win.on("navigate",_d11);},teardown:function(){$win.off("navigate",_d11);}};$.event.special.navigate=self={bound:false,pushStateEnabled:true,originalEventName:_d10,isPushStateEnabled:function(){return $.support.pushState&&$.mobile.pushStateEnabled===true&&this.isHashChangeEnabled();},isHashChangeEnabled:function(){return $.mobile.hashListeningEnabled===true;},popstate:function(_d12){var _d13=new $.Event("navigate"),_d14=new $.Event("beforenavigate"),_d15=_d12.originalEvent.state||{};_d14.originalEvent=_d12;$win.trigger(_d14);if(_d14.isDefaultPrevented()){return;}if(_d12.historyState){$.extend(_d15,_d12.historyState);}_d13.originalEvent=_d12;setTimeout(function(){$win.trigger(_d13,{state:_d15});},0);},hashchange:function(_d16){var _d17=new $.Event("navigate"),_d18=new $.Event("beforenavigate");_d18.originalEvent=_d16;$win.trigger(_d18);if(_d18.isDefaultPrevented()){return;}_d17.originalEvent=_d16;$win.trigger(_d17,{state:_d16.hashchangeState||{}});},setup:function(){if(self.bound){return;}self.bound=true;if(self.isPushStateEnabled()){self.originalEventName="popstate";$win.bind("popstate.navigate",self.popstate);}else{if(self.isHashChangeEnabled()){self.originalEventName="hashchange";$win.bind("hashchange.navigate",self.hashchange);}}}};})(_c19);(function($,_d19){var path,_d1a,_d1b="&ui-state=dialog";$.mobile.path=path={uiStateKey:"&ui-state",urlParseRE:/^\s*(((([^:\/#\?]+:)?(?:(\/\/)((?:(([^:@\/#\?]+)(?:\:([^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((\/?(?:[^\/\?#]+\/+)*)([^\?#]*)))?(\?[^#]+)?)(#.*)?/,getLocation:function(url){var uri=url?this.parseUrl(url):location,hash=this.parseUrl(url||location.href).hash;hash=hash==="#"?"":hash;return uri.protocol+"//"+uri.host+uri.pathname+uri.search+hash;},getDocumentUrl:function(_d1c){return _d1c?$.extend({},path.documentUrl):path.documentUrl.href;},parseLocation:function(){return this.parseUrl(this.getLocation());},parseUrl:function(url){if($.type(url)==="object"){return url;}var _d1d=path.urlParseRE.exec(url||"")||[];return {href:_d1d[0]||"",hrefNoHash:_d1d[1]||"",hrefNoSearch:_d1d[2]||"",domain:_d1d[3]||"",protocol:_d1d[4]||"",doubleSlash:_d1d[5]||"",authority:_d1d[6]||"",username:_d1d[8]||"",password:_d1d[9]||"",host:_d1d[10]||"",hostname:_d1d[11]||"",port:_d1d[12]||"",pathname:_d1d[13]||"",directory:_d1d[14]||"",filename:_d1d[15]||"",search:_d1d[16]||"",hash:_d1d[17]||""};},makePathAbsolute:function(_d1e,_d1f){var _d20,_d21,i,d;if(_d1e&&_d1e.charAt(0)==="/"){return _d1e;}_d1e=_d1e||"";_d1f=_d1f?_d1f.replace(/^\/|(\/[^\/]*|[^\/]+)$/g,""):"";_d20=_d1f?_d1f.split("/"):[];_d21=_d1e.split("/");for(i=0;i<_d21.length;i++){d=_d21[i];switch(d){case ".":break;case "..":if(_d20.length){_d20.pop();}break;default:_d20.push(d);break;}}return "/"+_d20.join("/");},isSameDomain:function(_d22,_d23){return path.parseUrl(_d22).domain===path.parseUrl(_d23).domain;},isRelativeUrl:function(url){return path.parseUrl(url).protocol==="";},isAbsoluteUrl:function(url){return path.parseUrl(url).protocol!=="";},makeUrlAbsolute:function(_d24,_d25){if(!path.isRelativeUrl(_d24)){return _d24;}if(_d25===_d19){_d25=this.documentBase;}var _d26=path.parseUrl(_d24),_d27=path.parseUrl(_d25),_d28=_d26.protocol||_d27.protocol,_d29=_d26.protocol?_d26.doubleSlash:(_d26.doubleSlash||_d27.doubleSlash),_d2a=_d26.authority||_d27.authority,_d2b=_d26.pathname!=="",_d2c=path.makePathAbsolute(_d26.pathname||_d27.filename,_d27.pathname),_d2d=_d26.search||(!_d2b&&_d27.search)||"",hash=_d26.hash;return _d28+_d29+_d2a+_d2c+_d2d+hash;},addSearchParams:function(url,_d2e){var u=path.parseUrl(url),p=(typeof _d2e==="object")?$.param(_d2e):_d2e,s=u.search||"?";return u.hrefNoSearch+s+(s.charAt(s.length-1)!=="?"?"&":"")+p+(u.hash||"");},convertUrlToDataUrl:function(_d2f){var u=path.parseUrl(_d2f);if(path.isEmbeddedPage(u)){return u.hash.split(_d1b)[0].replace(/^#/,"").replace(/\?.*$/,"");}else{if(path.isSameDomain(u,this.documentBase)){return u.hrefNoHash.replace(this.documentBase.domain,"").split(_d1b)[0];}}return _c1a.decodeURIComponent(_d2f);},get:function(_d30){if(_d30===_d19){_d30=path.parseLocation().hash;}return path.stripHash(_d30).replace(/[^\/]*\.[^\/*]+$/,"");},set:function(path){location.hash=path;},isPath:function(url){return (/\//).test(url);},clean:function(url){return url.replace(this.documentBase.domain,"");},stripHash:function(url){return url.replace(/^#/,"");},stripQueryParams:function(url){return url.replace(/\?.*$/,"");},cleanHash:function(hash){return path.stripHash(hash.replace(/\?.*$/,"").replace(_d1b,""));},isHashValid:function(hash){return (/^#[^#]+$/).test(hash);},isExternal:function(url){var u=path.parseUrl(url);return u.protocol&&u.domain!==this.documentUrl.domain?true:false;},hasProtocol:function(url){return (/^(:?\w+:)/).test(url);},isEmbeddedPage:function(url){var u=path.parseUrl(url);if(u.protocol!==""){return (!this.isPath(u.hash)&&u.hash&&(u.hrefNoHash===this.documentUrl.hrefNoHash||(this.documentBaseDiffers&&u.hrefNoHash===this.documentBase.hrefNoHash)));}return (/^#/).test(u.href);},squash:function(url,_d31){var href,_d32,_d33,_d34,_d35=this.isPath(url),uri=this.parseUrl(url),_d36=uri.hash,_d37="";_d31=_d31||(path.isPath(url)?path.getLocation():path.getDocumentUrl());_d32=_d35?path.stripHash(url):url;_d32=path.isPath(uri.hash)?path.stripHash(uri.hash):_d32;_d34=_d32.indexOf(this.uiStateKey);if(_d34>-1){_d37=_d32.slice(_d34);_d32=_d32.slice(0,_d34);}href=path.makeUrlAbsolute(_d32,_d31);_d33=this.parseUrl(href).search;if(_d35){if(path.isPath(_d36)||_d36.replace("#","").indexOf(this.uiStateKey)===0){_d36="";}if(_d37&&_d36.indexOf(this.uiStateKey)===-1){_d36+=_d37;}if(_d36.indexOf("#")===-1&&_d36!==""){_d36="#"+_d36;}href=path.parseUrl(href);href=href.protocol+"//"+href.host+href.pathname+_d33+_d36;}else{href+=href.indexOf("#")>-1?_d37:"#"+_d37;}return href;},isPreservableHash:function(hash){return hash.replace("#","").indexOf(this.uiStateKey)===0;},hashToSelector:function(hash){var _d38=(hash.substring(0,1)==="#");if(_d38){hash=hash.substring(1);}return (_d38?"#":"")+hash.replace(/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g,"\\$1");},getFilePath:function(path){var _d39="&"+$.mobile.subPageUrlKey;return path&&path.split(_d39)[0].split(_d1b)[0];},isFirstPageUrl:function(url){var u=path.parseUrl(path.makeUrlAbsolute(url,this.documentBase)),_d3a=u.hrefNoHash===this.documentUrl.hrefNoHash||(this.documentBaseDiffers&&u.hrefNoHash===this.documentBase.hrefNoHash),fp=$.mobile.firstPage,fpId=fp&&fp[0]?fp[0].id:_d19;return _d3a&&(!u.hash||u.hash==="#"||(fpId&&u.hash.replace(/^#/,"")===fpId));},isPermittedCrossDomainRequest:function(_d3b,_d3c){return $.mobile.allowCrossDomainPages&&(_d3b.protocol==="file:"||_d3b.protocol==="content:")&&_d3c.search(/^https?:/)!==-1;}};path.documentUrl=path.parseLocation();_d1a=$("head").find("base");path.documentBase=_d1a.length?path.parseUrl(path.makeUrlAbsolute(_d1a.attr("href"),path.documentUrl.href)):path.documentUrl;path.documentBaseDiffers=(path.documentUrl.hrefNoHash!==path.documentBase.hrefNoHash);path.getDocumentBase=function(_d3d){return _d3d?$.extend({},path.documentBase):path.documentBase.href;};$.extend($.mobile,{getDocumentUrl:path.getDocumentUrl,getDocumentBase:path.getDocumentBase});})(_c19);(function($,_d3e){$.mobile.History=function(_d3f,_d40){this.stack=_d3f||[];this.activeIndex=_d40||0;};$.extend($.mobile.History.prototype,{getActive:function(){return this.stack[this.activeIndex];},getLast:function(){return this.stack[this.previousIndex];},getNext:function(){return this.stack[this.activeIndex+1];},getPrev:function(){return this.stack[this.activeIndex-1];},add:function(url,data){data=data||{};if(this.getNext()){this.clearForward();}if(data.hash&&data.hash.indexOf("#")===-1){data.hash="#"+data.hash;}data.url=url;this.stack.push(data);this.activeIndex=this.stack.length-1;},clearForward:function(){this.stack=this.stack.slice(0,this.activeIndex+1);},find:function(url,_d41,_d42){_d41=_d41||this.stack;var _d43,i,_d44=_d41.length,_d45;for(i=0;i<_d44;i++){_d43=_d41[i];if(decodeURIComponent(url)===decodeURIComponent(_d43.url)||decodeURIComponent(url)===decodeURIComponent(_d43.hash)){_d45=i;if(_d42){return _d45;}}}return _d45;},closest:function(url){var _d46,a=this.activeIndex;_d46=this.find(url,this.stack.slice(0,a));if(_d46===_d3e){_d46=this.find(url,this.stack.slice(a),true);_d46=_d46===_d3e?_d46:_d46+a;}return _d46;},direct:function(opts){var _d47=this.closest(opts.url),a=this.activeIndex;if(_d47!==_d3e){this.activeIndex=_d47;this.previousIndex=a;}if(_d47<a){(opts.present||opts.back||$.noop)(this.getActive(),"back");}else{if(_d47>a){(opts.present||opts.forward||$.noop)(this.getActive(),"forward");}else{if(_d47===_d3e&&opts.missing){opts.missing(this.getActive());}}}}});})(_c19);(function($,_d48){var path=$.mobile.path,_d49=location.href;$.mobile.Navigator=function(_d4a){this.history=_d4a;this.ignoreInitialHashChange=true;$.mobile.window.bind({"popstate.history":$.proxy(this.popstate,this),"hashchange.history":$.proxy(this.hashchange,this)});};$.extend($.mobile.Navigator.prototype,{squash:function(url,data){var _d4b,href,hash=path.isPath(url)?path.stripHash(url):url;href=path.squash(url);_d4b=$.extend({hash:hash,url:href},data);_c1a.history.replaceState(_d4b,_d4b.title||_c1b.title,href);return _d4b;},hash:function(url,href){var _d4c,loc,hash,_d4d;_d4c=path.parseUrl(url);loc=path.parseLocation();if(loc.pathname+loc.search===_d4c.pathname+_d4c.search){hash=_d4c.hash?_d4c.hash:_d4c.pathname+_d4c.search;}else{if(path.isPath(url)){_d4d=path.parseUrl(href);hash=_d4d.pathname+_d4d.search+(path.isPreservableHash(_d4d.hash)?_d4d.hash.replace("#",""):"");}else{hash=url;}}return hash;},go:function(url,data,_d4e){var _d4f,href,hash,_d50,_d51=$.event.special.navigate.isPushStateEnabled();href=path.squash(url);hash=this.hash(url,href);if(_d4e&&hash!==path.stripHash(path.parseLocation().hash)){this.preventNextHashChange=_d4e;}this.preventHashAssignPopState=true;_c1a.location.hash=hash;this.preventHashAssignPopState=false;_d4f=$.extend({url:href,hash:hash,title:_c1b.title},data);if(_d51){_d50=new $.Event("popstate");_d50.originalEvent={type:"popstate",state:null};this.squash(url,_d4f);if(!_d4e){this.ignorePopState=true;$.mobile.window.trigger(_d50);}}this.history.add(_d4f.url,_d4f);},popstate:function(_d52){var hash,_d53;if(!$.event.special.navigate.isPushStateEnabled()){return;}if(this.preventHashAssignPopState){this.preventHashAssignPopState=false;_d52.stopImmediatePropagation();return;}if(this.ignorePopState){this.ignorePopState=false;return;}if(!_d52.originalEvent.state&&this.history.stack.length===1&&this.ignoreInitialHashChange){this.ignoreInitialHashChange=false;if(location.href===_d49){_d52.preventDefault();return;}}hash=path.parseLocation().hash;if(!_d52.originalEvent.state&&hash){_d53=this.squash(hash);this.history.add(_d53.url,_d53);_d52.historyState=_d53;return;}this.history.direct({url:(_d52.originalEvent.state||{}).url||hash,present:function(_d54,_d55){_d52.historyState=$.extend({},_d54);_d52.historyState.direction=_d55;}});},hashchange:function(_d56){var _d57,hash;if(!$.event.special.navigate.isHashChangeEnabled()||$.event.special.navigate.isPushStateEnabled()){return;}if(this.preventNextHashChange){this.preventNextHashChange=false;_d56.stopImmediatePropagation();return;}_d57=this.history;hash=path.parseLocation().hash;this.history.direct({url:hash,present:function(_d58,_d59){_d56.hashchangeState=$.extend({},_d58);_d56.hashchangeState.direction=_d59;},missing:function(){_d57.add(hash,{hash:hash,title:_c1b.title});}});}});})(_c19);(function($,_d5a){$.mobile.navigate=function(url,data,_d5b){$.mobile.navigate.navigator.go(url,data,_d5b);};$.mobile.navigate.history=new $.mobile.History();$.mobile.navigate.navigator=new $.mobile.Navigator($.mobile.navigate.history);var loc=$.mobile.path.parseLocation();$.mobile.navigate.history.add(loc.href,{hash:loc.hash});})(_c19);(function($,_d5c,_d5d,_d5e){var _d5f="virtualMouseBindings",_d60="virtualTouchID",_d61="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),_d62="clientX clientY pageX pageY screenX screenY".split(" "),_d63=$.event.mouseHooks?$.event.mouseHooks.props:[],_d64=$.event.props.concat(_d63),_d65={},_d66=0,_d67=0,_d68=0,_d69=false,_d6a=[],_d6b=false,_d6c=false,_d6d="addEventListener" in _d5d,_d6e=$(_d5d),_d6f=1,_d70=0,_d71,i;$.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};function _d72(_d73){while(_d73&&typeof _d73.originalEvent!=="undefined"){_d73=_d73.originalEvent;}return _d73;};function _d74(_d75,_d76){var t=_d75.type,oe,_d77,ne,prop,ct,_d78,i,j,len;_d75=$.Event(_d75);_d75.type=_d76;oe=_d75.originalEvent;_d77=$.event.props;if(t.search(/^(mouse|click)/)>-1){_d77=_d64;}if(oe){for(i=_d77.length,prop;i;){prop=_d77[--i];_d75[prop]=oe[prop];}}if(t.search(/mouse(down|up)|click/)>-1&&!_d75.which){_d75.which=1;}if(t.search(/^touch/)!==-1){ne=_d72(oe);t=ne.touches;ct=ne.changedTouches;_d78=(t&&t.length)?t[0]:((ct&&ct.length)?ct[0]:_d5e);if(_d78){for(j=0,len=_d62.length;j<len;j++){prop=_d62[j];_d75[prop]=_d78[prop];}}}return _d75;};function _d79(_d7a){var _d7b={},b,k;while(_d7a){b=$.data(_d7a,_d5f);for(k in b){if(b[k]){_d7b[k]=_d7b.hasVirtualBinding=true;}}_d7a=_d7a.parentNode;}return _d7b;};function _d7c(_d7d,_d7e){var b;while(_d7d){b=$.data(_d7d,_d5f);if(b&&(!_d7e||b[_d7e])){return _d7d;}_d7d=_d7d.parentNode;}return null;};function _d7f(){_d6c=false;};function _d80(){_d6c=true;};function _d81(){_d70=0;_d6a.length=0;_d6b=false;_d80();};function _d82(){_d7f();};function _d83(){_d84();_d66=setTimeout(function(){_d66=0;_d81();},$.vmouse.resetTimerDuration);};function _d84(){if(_d66){clearTimeout(_d66);_d66=0;}};function _d85(_d86,_d87,_d88){var ve;if((_d88&&_d88[_d86])||(!_d88&&_d7c(_d87.target,_d86))){ve=_d74(_d87,_d86);$(_d87.target).trigger(ve);}return ve;};function _d89(_d8a){var _d8b=$.data(_d8a.target,_d60),ve;if(!_d6b&&(!_d70||_d70!==_d8b)){ve=_d85("v"+_d8a.type,_d8a);if(ve){if(ve.isDefaultPrevented()){_d8a.preventDefault();}if(ve.isPropagationStopped()){_d8a.stopPropagation();}if(ve.isImmediatePropagationStopped()){_d8a.stopImmediatePropagation();}}}};function _d8c(_d8d){var _d8e=_d72(_d8d).touches,_d8f,_d90,t;if(_d8e&&_d8e.length===1){_d8f=_d8d.target;_d90=_d79(_d8f);if(_d90.hasVirtualBinding){_d70=_d6f++;$.data(_d8f,_d60,_d70);_d84();_d82();_d69=false;t=_d72(_d8d).touches[0];_d67=t.pageX;_d68=t.pageY;_d85("vmouseover",_d8d,_d90);_d85("vmousedown",_d8d,_d90);}}};function _d91(_d92){if(_d6c){return;}if(!_d69){_d85("vmousecancel",_d92,_d79(_d92.target));}_d69=true;_d83();};function _d93(_d94){if(_d6c){return;}var t=_d72(_d94).touches[0],_d95=_d69,_d96=$.vmouse.moveDistanceThreshold,_d97=_d79(_d94.target);_d69=_d69||(Math.abs(t.pageX-_d67)>_d96||Math.abs(t.pageY-_d68)>_d96);if(_d69&&!_d95){_d85("vmousecancel",_d94,_d97);}_d85("vmousemove",_d94,_d97);_d83();};function _d98(_d99){if(_d6c){return;}_d80();var _d9a=_d79(_d99.target),ve,t;_d85("vmouseup",_d99,_d9a);if(!_d69){ve=_d85("vclick",_d99,_d9a);if(ve&&ve.isDefaultPrevented()){t=_d72(_d99).changedTouches[0];_d6a.push({touchID:_d70,x:t.clientX,y:t.clientY});_d6b=true;}}_d85("vmouseout",_d99,_d9a);_d69=false;_d83();};function _d9b(ele){var _d9c=$.data(ele,_d5f),k;if(_d9c){for(k in _d9c){if(_d9c[k]){return true;}}}return false;};function _d9d(){};function _d9e(_d9f){var _da0=_d9f.substr(1);return {setup:function(){if(!_d9b(this)){$.data(this,_d5f,{});}var _da1=$.data(this,_d5f);_da1[_d9f]=true;_d65[_d9f]=(_d65[_d9f]||0)+1;if(_d65[_d9f]===1){_d6e.bind(_da0,_d89);}$(this).bind(_da0,_d9d);if(_d6d){_d65["touchstart"]=(_d65["touchstart"]||0)+1;if(_d65["touchstart"]===1){_d6e.bind("touchstart",_d8c).bind("touchend",_d98).bind("touchmove",_d93).bind("scroll",_d91);}}},teardown:function(){--_d65[_d9f];if(!_d65[_d9f]){_d6e.unbind(_da0,_d89);}if(_d6d){--_d65["touchstart"];if(!_d65["touchstart"]){_d6e.unbind("touchstart",_d8c).unbind("touchmove",_d93).unbind("touchend",_d98).unbind("scroll",_d91);}}var _da2=$(this),_da3=$.data(this,_d5f);if(_da3){_da3[_d9f]=false;}_da2.unbind(_da0,_d9d);if(!_d9b(this)){_da2.removeData(_d5f);}}};};for(i=0;i<_d61.length;i++){$.event.special[_d61[i]]=_d9e(_d61[i]);}if(_d6d){_d5d.addEventListener("click",function(e){var cnt=_d6a.length,_da4=e.target,x,y,ele,i,o,_da5;if(cnt){x=e.clientX;y=e.clientY;_d71=$.vmouse.clickDistanceThreshold;ele=_da4;while(ele){for(i=0;i<cnt;i++){o=_d6a[i];_da5=0;if((ele===_da4&&Math.abs(o.x-x)<_d71&&Math.abs(o.y-y)<_d71)||$.data(ele,_d60)===o.touchID){e.preventDefault();e.stopPropagation();return;}}ele=ele.parentNode;}}},true);}})(_c19,_c1a,_c1b);(function($,_da6,_da7){var _da8=$(_c1b),_da9=$.mobile.support.touch,_daa="touchmove scroll",_dab=_da9?"touchstart":"mousedown",_dac=_da9?"touchend":"mouseup",_dad=_da9?"touchmove":"mousemove";$.each(("touchstart touchmove touchend "+"tap taphold "+"swipe swipeleft swiperight "+"scrollstart scrollstop").split(" "),function(i,name){$.fn[name]=function(fn){return fn?this.bind(name,fn):this.trigger(name);};if($.attrFn){$.attrFn[name]=true;}});function _dae(obj,_daf,_db0){var _db1=_db0.type;_db0.type=_daf;$.event.dispatch.call(obj,_db0);_db0.type=_db1;};$.event.special.scrollstart={enabled:true,setup:function(){var _db2=this,_db3=$(_db2),_db4,_db5;function _db6(_db7,_db8){_db4=_db8;_dae(_db2,_db4?"scrollstart":"scrollstop",_db7);};_db3.bind(_daa,function(_db9){if(!$.event.special.scrollstart.enabled){return;}if(!_db4){_db6(_db9,true);}clearTimeout(_db5);_db5=setTimeout(function(){_db6(_db9,false);},50);});},teardown:function(){$(this).unbind(_daa);}};$.event.special.tap={tapholdThreshold:750,emitTapOnTaphold:true,setup:function(){var _dba=this,_dbb=$(_dba),_dbc=false;_dbb.bind("vmousedown",function(_dbd){_dbc=false;if(_dbd.which&&_dbd.which!==1){return false;}var _dbe=_dbd.target,_dbf;function _dc0(){clearTimeout(_dbf);};function _dc1(){_dc0();_dbb.unbind("vclick",_dc2).unbind("vmouseup",_dc0);_da8.unbind("vmousecancel",_dc1);};function _dc2(_dc3){_dc1();if(!_dbc&&_dbe===_dc3.target){_dae(_dba,"tap",_dc3);}else{if(_dbc){_dc3.stopPropagation();}}};_dbb.bind("vmouseup",_dc0).bind("vclick",_dc2);_da8.bind("vmousecancel",_dc1);_dbf=setTimeout(function(){if(!$.event.special.tap.emitTapOnTaphold){_dbc=true;}_dae(_dba,"taphold",$.Event("taphold",{target:_dbe}));},$.event.special.tap.tapholdThreshold);});},teardown:function(){$(this).unbind("vmousedown").unbind("vclick").unbind("vmouseup");_da8.unbind("vmousecancel");}};$.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1000,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,start:function(_dc4){var data=_dc4.originalEvent.touches?_dc4.originalEvent.touches[0]:_dc4;return {time:(new Date()).getTime(),coords:[data.pageX,data.pageY],origin:$(_dc4.target)};},stop:function(_dc5){var data=_dc5.originalEvent.touches?_dc5.originalEvent.touches[0]:_dc5;return {time:(new Date()).getTime(),coords:[data.pageX,data.pageY]};},handleSwipe:function(_dc6,stop,_dc7,_dc8){if(stop.time-_dc6.time<$.event.special.swipe.durationThreshold&&Math.abs(_dc6.coords[0]-stop.coords[0])>$.event.special.swipe.horizontalDistanceThreshold&&Math.abs(_dc6.coords[1]-stop.coords[1])<$.event.special.swipe.verticalDistanceThreshold){var _dc9=_dc6.coords[0]>stop.coords[0]?"swipeleft":"swiperight";_dae(_dc7,"swipe",$.Event("swipe",{target:_dc8,swipestart:_dc6,swipestop:stop}));_dae(_dc7,_dc9,$.Event(_dc9,{target:_dc8,swipestart:_dc6,swipestop:stop}));return true;}return false;},setup:function(){var _dca=this,_dcb=$(_dca);_dcb.bind(_dab,function(_dcc){var stop,_dcd=$.event.special.swipe.start(_dcc),_dce=_dcc.target,_dcf=false;function _dd0(_dd1){if(!_dcd){return;}stop=$.event.special.swipe.stop(_dd1);if(!_dcf){_dcf=$.event.special.swipe.handleSwipe(_dcd,stop,_dca,_dce);}if(Math.abs(_dcd.coords[0]-stop.coords[0])>$.event.special.swipe.scrollSupressionThreshold){_dd1.preventDefault();}};_dcb.bind(_dad,_dd0).one(_dac,function(){_dcf=true;_dcb.unbind(_dad,_dd0);});});},teardown:function(){$(this).unbind(_dab).unbind(_dad).unbind(_dac);}};$.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(_dd2,_dd3){$.event.special[_dd2]={setup:function(){$(this).bind(_dd3,$.noop);},teardown:function(){$(this).unbind(_dd3);}};});})(_c19,this);(function($){$.event.special.throttledresize={setup:function(){$(this).bind("resize",_dd4);},teardown:function(){$(this).unbind("resize",_dd4);}};var _dd5=250,_dd4=function(){curr=(new Date()).getTime();diff=curr-_dd6;if(diff>=_dd5){_dd6=curr;$(this).trigger("throttledresize");}else{if(_dd7){clearTimeout(_dd7);}_dd7=setTimeout(_dd4,_dd5-diff);}},_dd6=0,_dd7,curr,diff;})(_c19);(function($,_dd8){var win=$(_dd8),_dd9="orientationchange",_dda,_ddb,_ddc,_ddd,_dde={"0":true,"180":true},ww,wh,_ddf;if($.support.orientation){ww=_dd8.innerWidth||win.width();wh=_dd8.innerHeight||win.height();_ddf=50;_ddc=ww>wh&&(ww-wh)>_ddf;_ddd=_dde[_dd8.orientation];if((_ddc&&_ddd)||(!_ddc&&!_ddd)){_dde={"-90":true,"90":true};}}$.event.special.orientationchange=$.extend({},$.event.special.orientationchange,{setup:function(){if($.support.orientation&&!$.event.special.orientationchange.disabled){return false;}_ddb=_dda();win.bind("throttledresize",_de0);},teardown:function(){if($.support.orientation&&!$.event.special.orientationchange.disabled){return false;}win.unbind("throttledresize",_de0);},add:function(_de1){var _de2=_de1.handler;_de1.handler=function(_de3){_de3.orientation=_dda();return _de2.apply(this,arguments);};}});function _de0(){var _de4=_dda();if(_de4!==_ddb){_ddb=_de4;win.trigger(_dd9);}};$.event.special.orientationchange.orientation=_dda=function(){var _de5=true,elem=_c1b.documentElement;if($.support.orientation){_de5=_dde[_dd8.orientation];}else{_de5=elem&&elem.clientWidth/elem.clientHeight<1.1;}return _de5?"portrait":"landscape";};$.fn[_dd9]=function(fn){return fn?this.bind(_dd9,fn):this.trigger(_dd9);};if($.attrFn){$.attrFn[_dd9]=true;}}(_c19,this));(function($,_de6){var _de7=$("head").children("base"),base={element:(_de7.length?_de7:$("<base>",{href:$.mobile.path.documentBase.hrefNoHash}).prependTo($("head"))),linkSelector:"[src], link[href], a[rel='external'], :jqmData(ajax='false'), a[target]",set:function(href){if(!$.mobile.dynamicBaseEnabled){return;}if($.support.dynamicBaseTag){base.element.attr("href",$.mobile.path.makeUrlAbsolute(href,$.mobile.path.documentBase));}},rewrite:function(href,page){var _de8=$.mobile.path.get(href);page.find(base.linkSelector).each(function(i,link){var _de9=$(link).is("[href]")?"href":$(link).is("[src]")?"src":"action",_dea=$(link).attr(_de9);_dea=_dea.replace(location.protocol+"//"+location.host+location.pathname,"");if(!/^(\w+:|#|\/)/.test(_dea)){$(link).attr(_de9,_de8+_dea);}});},reset:function(){base.element.attr("href",$.mobile.path.documentBase.hrefNoSearch);}};$.mobile.base=base;})(_c19);(function($,_deb){$.mobile.widgets={};var _dec=$.widget,_ded=$.mobile.keepNative;$.widget=(function(orig){return function(){var _dee=orig.apply(this,arguments),name=_dee.prototype.widgetName;_dee.initSelector=((_dee.prototype.initSelector!==_deb)?_dee.prototype.initSelector:":jqmData(role='"+name+"')");$.mobile.widgets[name]=_dee;return _dee;};})($.widget);$.extend($.widget,_dec);$.mobile.document.on("create",function(_def){$(_def.target).enhanceWithin();});$.widget("mobile.page",{options:{theme:"a",domCache:false,keepNativeDefault:$.mobile.keepNative,contentTheme:null,enhanced:false},_createWidget:function(){$.Widget.prototype._createWidget.apply(this,arguments);this._trigger("init");},_create:function(){if(this._trigger("beforecreate")===false){return false;}if(!this.options.enhanced){this._enhance();}this._on(this.element,{pagebeforehide:"removeContainerBackground",pagebeforeshow:"_handlePageBeforeShow"});this.element.enhanceWithin();if($.mobile.getAttribute(this.element[0],"role")==="dialog"&&$.mobile.dialog){this.element.dialog();}},_enhance:function(){var _df0="data-"+$.mobile.ns,self=this;if(this.options.role){this.element.attr("data-"+$.mobile.ns+"role",this.options.role);}this.element.attr("tabindex","0").addClass("ui-page ui-page-theme-"+this.options.theme);this.element.find("["+_df0+"role='content']").each(function(){var _df1=$(this),_df2=this.getAttribute(_df0+"theme")||_deb;self.options.contentTheme=_df2||self.options.contentTheme||(self.options.dialog&&self.options.theme)||(self.element.jqmData("role")==="dialog"&&self.options.theme);_df1.addClass("ui-content");if(self.options.contentTheme){_df1.addClass("ui-body-"+(self.options.contentTheme));}_df1.attr("role","main").addClass("ui-content");});},bindRemove:function(_df3){var page=this.element;if(!page.data("mobile-page").options.domCache&&page.is(":jqmData(external-page='true')")){page.bind("pagehide.remove",_df3||function(e,data){if(!data.samePage){var _df4=$(this),_df5=new $.Event("pageremove");_df4.trigger(_df5);if(!_df5.isDefaultPrevented()){_df4.removeWithDependents();}}});}},_setOptions:function(o){if(o.theme!==_deb){this.element.removeClass("ui-body-"+this.options.theme).addClass("ui-body-"+o.theme);}if(o.contentTheme!==_deb){this.element.find("[data-"+$.mobile.ns+"='content']").removeClass("ui-body-"+this.options.contentTheme).addClass("ui-body-"+o.contentTheme);}},_handlePageBeforeShow:function(){this.setContainerBackground();},removeContainerBackground:function(){this.element.closest(":mobile-pagecontainer").pagecontainer({"theme":"none"});},setContainerBackground:function(_df6){this.element.parent().pagecontainer({"theme":_df6||this.options.theme});},keepNativeSelector:function(){var _df7=this.options,_df8=$.trim(_df7.keepNative||""),_df9=$.trim($.mobile.keepNative),_dfa=$.trim(_df7.keepNativeDefault),_dfb=(_ded===_df9?"":_df9),_dfc=(_dfb===""?_dfa:"");return ((_df8?[_df8]:[]).concat(_dfb?[_dfb]:[]).concat(_dfc?[_dfc]:[]).join(", "));}});})(_c19);(function($,_dfd){$.widget("mobile.pagecontainer",{options:{theme:"a"},initSelector:false,_create:function(){this.setLastScrollEnabled=true;this._on(this.window,{navigate:"_filterNavigateEvents"});this._on(this.window,{navigate:"_disableRecordScroll",scrollstop:"_delayedRecordScroll"});this._on({pagechange:"_afterContentChange"});this.window.one("navigate",$.proxy(function(){this.setLastScrollEnabled=true;},this));},_setOptions:function(_dfe){if(_dfe.theme!==_dfd&&_dfe.theme!=="none"){this.element.removeClass("ui-overlay-"+this.options.theme).addClass("ui-overlay-"+_dfe.theme);}else{if(_dfe.theme!==_dfd){this.element.removeClass("ui-overlay-"+this.options.theme);}}this._super(_dfe);},_disableRecordScroll:function(){this.setLastScrollEnabled=false;},_enableRecordScroll:function(){this.setLastScrollEnabled=true;},_afterContentChange:function(){this.setLastScrollEnabled=true;this._off(this.window,"scrollstop");this._on(this.window,{scrollstop:"_delayedRecordScroll"});},_recordScroll:function(){if(!this.setLastScrollEnabled){return;}var _dff=this._getActiveHistory(),_e00,_e01,_e02;if(_dff){_e00=this._getScroll();_e01=this._getMinScroll();_e02=this._getDefaultScroll();_dff.lastScroll=_e00<_e01?_e02:_e00;}},_delayedRecordScroll:function(){setTimeout($.proxy(this,"_recordScroll"),100);},_getScroll:function(){return this.window.scrollTop();},_getMinScroll:function(){return $.mobile.minScrollBack;},_getDefaultScroll:function(){return $.mobile.defaultHomeScroll;},_filterNavigateEvents:function(e,data){var url;if(e.originalEvent&&e.originalEvent.isDefaultPrevented()){return;}url=e.originalEvent.type.indexOf("hashchange")>-1?data.state.hash:data.state.url;if(!url){url=this._getHash();}if(!url||url==="#"||url.indexOf("#"+$.mobile.path.uiStateKey)===0){url=location.href;}this._handleNavigate(url,data.state);},_getHash:function(){return $.mobile.path.parseLocation().hash;},getActivePage:function(){return this.activePage;},_getInitialContent:function(){return $.mobile.firstPage;},_getHistory:function(){return $.mobile.navigate.history;},_getActiveHistory:function(){return $.mobile.navigate.history.getActive();},_getDocumentBase:function(){return $.mobile.path.documentBase;},back:function(){this.go(-1);},forward:function(){this.go(1);},go:function(_e03){if($.mobile.hashListeningEnabled){_c1a.history.go(_e03);}else{var _e04=$.mobile.navigate.history.activeIndex,_e05=_e04+parseInt(_e03,10),url=$.mobile.navigate.history.stack[_e05].url,_e06=(_e03>=1)?"forward":"back";$.mobile.navigate.history.activeIndex=_e05;$.mobile.navigate.history.previousIndex=_e04;this.change(url,{direction:_e06,changeHash:false,fromHashChange:true});}},_handleDestination:function(to){var _e07;if($.type(to)==="string"){to=$.mobile.path.stripHash(to);}if(to){_e07=this._getHistory();to=!$.mobile.path.isPath(to)?($.mobile.path.makeUrlAbsolute("#"+to,this._getDocumentBase())):to;if(to===$.mobile.path.makeUrlAbsolute("#"+_e07.initialDst,this._getDocumentBase())&&_e07.stack.length&&_e07.stack[0].url!==_e07.initialDst.replace($.mobile.dialogHashKey,"")){to=this._getInitialContent();}}return to||this._getInitialContent();},_handleDialog:function(_e08,data){var to,_e09,_e0a=this.getActivePage();if(_e0a&&!_e0a.hasClass("ui-dialog")){if(data.direction==="back"){this.back();}else{this.forward();}return false;}else{to=data.pageUrl;_e09=this._getActiveHistory();$.extend(_e08,{role:_e09.role,transition:_e09.transition,reverse:data.direction==="back"});}return to;},_handleNavigate:function(url,data){var to=$.mobile.path.stripHash(url),_e0b=this._getHistory(),_e0c=_e0b.stack.length===0?"none":_dfd,_e0d={changeHash:false,fromHashChange:true,reverse:data.direction==="back"};$.extend(_e0d,data,{transition:(_e0b.getLast()||{}).transition||_e0c});if(_e0b.activeIndex>0&&to.indexOf($.mobile.dialogHashKey)>-1&&_e0b.initialDst!==to){to=this._handleDialog(_e0d,data);if(to===false){return;}}this._changeContent(this._handleDestination(to),_e0d);},_changeContent:function(to,opts){$.mobile.changePage(to,opts);},_getBase:function(){return $.mobile.base;},_getNs:function(){return $.mobile.ns;},_enhance:function(_e0e,role){return _e0e.page({role:role});},_include:function(page,_e0f){page.appendTo(this.element);this._enhance(page,_e0f.role);page.page("bindRemove");},_find:function(_e10){var _e11=this._createFileUrl(_e10),_e12=this._createDataUrl(_e10),page,_e13=this._getInitialContent();page=this.element.children("[data-"+this._getNs()+"url='"+_e12+"']");if(page.length===0&&_e12&&!$.mobile.path.isPath(_e12)){page=this.element.children($.mobile.path.hashToSelector("#"+_e12)).attr("data-"+this._getNs()+"url",_e12).jqmData("url",_e12);}if(page.length===0&&$.mobile.path.isFirstPageUrl(_e11)&&_e13&&_e13.parent().length){page=$(_e13);}return page;},_getLoader:function(){return $.mobile.loading();},_showLoading:function(_e14,_e15,msg,_e16){if(this._loadMsg){return;}this._loadMsg=setTimeout($.proxy(function(){this._getLoader().loader("show",_e15,msg,_e16);this._loadMsg=0;},this),_e14);},_hideLoading:function(){clearTimeout(this._loadMsg);this._loadMsg=0;this._getLoader().loader("hide");},_showError:function(){this._hideLoading();this._showLoading(0,$.mobile.pageLoadErrorMessageTheme,$.mobile.pageLoadErrorMessage,true);setTimeout($.proxy(this,"_hideLoading"),1500);},_parse:function(html,_e17){var page,all=$("<div></div>");all.get(0).innerHTML=html;page=all.find(":jqmData(role='page'), :jqmData(role='dialog')").first();if(!page.length){page=$("<div data-"+this._getNs()+"role='page'>"+(html.split(/<\/?body[^>]*>/gmi)[1]||"")+"</div>");}page.attr("data-"+this._getNs()+"url",$.mobile.path.convertUrlToDataUrl(_e17)).attr("data-"+this._getNs()+"external-page",true);return page;},_setLoadedTitle:function(page,html){var _e18=html.match(/<title[^>]*>([^<]*)/)&&RegExp.$1;if(_e18&&!page.jqmData("title")){_e18=$("<div>"+_e18+"</div>").text();page.jqmData("title",_e18);}},_isRewritableBaseTag:function(){return $.mobile.dynamicBaseEnabled&&!$.support.dynamicBaseTag;},_createDataUrl:function(_e19){return $.mobile.path.convertUrlToDataUrl(_e19);},_createFileUrl:function(_e1a){return $.mobile.path.getFilePath(_e1a);},_triggerWithDeprecated:function(name,data,page){var _e1b=$.Event("page"+name),_e1c=$.Event(this.widgetName+name);(page||this.element).trigger(_e1b,data);this.element.trigger(_e1c,data);return {deprecatedEvent:_e1b,event:_e1c};},_loadSuccess:function(_e1d,_e1e,_e1f,_e20){var _e21=this._createFileUrl(_e1d),_e22=this._createDataUrl(_e1d);return $.proxy(function(html,_e23,xhr){var _e24,_e25=new RegExp("(<[^>]+\\bdata-"+this._getNs()+"role=[\"']?page[\"']?[^>]*>)"),_e26=new RegExp("\\bdata-"+this._getNs()+"url=[\"']?([^\"'>]*)[\"']?");if(_e25.test(html)&&RegExp.$1&&_e26.test(RegExp.$1)&&RegExp.$1){_e21=$.mobile.path.getFilePath($("<div>"+RegExp.$1+"</div>").text());}if(_e1f.prefetch===_dfd){this._getBase().set(_e21);}_e24=this._parse(html,_e21);this._setLoadedTitle(_e24,html);_e1e.xhr=xhr;_e1e.textStatus=_e23;_e1e.page=_e24;_e1e.content=_e24;if(!this._trigger("load",_dfd,_e1e)){return;}if(this._isRewritableBaseTag()&&_e24){this._getBase().rewrite(_e21,_e24);}this._include(_e24,_e1f);if(_e1d.indexOf("&"+$.mobile.subPageUrlKey)>-1){_e24=this.element.children("[data-"+this._getNs()+"url='"+_e22+"']");}if(_e1f.showLoadMsg){this._hideLoading();}this.element.trigger("pageload");_e20.resolve(_e1d,_e1f,_e24);},this);},_loadDefaults:{type:"get",data:_dfd,reloadPage:false,reload:false,role:_dfd,showLoadMsg:false,loadMsgDelay:50},load:function(url,_e27){var _e28=(_e27&&_e27.deferred)||$.Deferred(),_e29=$.extend({},this._loadDefaults,_e27),_e2a=null,_e2b=$.mobile.path.makeUrlAbsolute(url,this._findBaseWithDefault()),_e2c,_e2d,_e2e,_e2f;_e29.reload=_e29.reloadPage;if(_e29.data&&_e29.type==="get"){_e2b=$.mobile.path.addSearchParams(_e2b,_e29.data);_e29.data=_dfd;}if(_e29.data&&_e29.type==="post"){_e29.reload=true;}_e2c=this._createFileUrl(_e2b);_e2d=this._createDataUrl(_e2b);_e2a=this._find(_e2b);if(_e2a.length===0&&$.mobile.path.isEmbeddedPage(_e2c)&&!$.mobile.path.isFirstPageUrl(_e2c)){_e28.reject(_e2b,_e29);return;}this._getBase().reset();if(_e2a.length&&!_e29.reload){this._enhance(_e2a,_e29.role);_e28.resolve(_e2b,_e29,_e2a);if(!_e29.prefetch){this._getBase().set(url);}return;}_e2f={url:url,absUrl:_e2b,dataUrl:_e2d,deferred:_e28,options:_e29};_e2e=this._triggerWithDeprecated("beforeload",_e2f);if(_e2e.deprecatedEvent.isDefaultPrevented()||_e2e.event.isDefaultPrevented()){return;}if(_e29.showLoadMsg){this._showLoading(_e29.loadMsgDelay);}if(_e29.prefetch===_dfd){this._getBase().reset();}if(!($.mobile.allowCrossDomainPages||$.mobile.path.isSameDomain($.mobile.path.documentUrl,_e2b))){_e28.reject(_e2b,_e29);return;}$.ajax({url:_e2c,type:_e29.type,data:_e29.data,contentType:_e29.contentType,dataType:"html",success:this._loadSuccess(_e2b,_e2f,_e29,_e28),error:this._loadError(_e2b,_e2f,_e29,_e28)});},_loadError:function(_e30,_e31,_e32,_e33){return $.proxy(function(xhr,_e34,_e35){this._getBase().set($.mobile.path.get());_e31.xhr=xhr;_e31.textStatus=_e34;_e31.errorThrown=_e35;var _e36=this._triggerWithDeprecated("loadfailed",_e31);if(_e36.deprecatedEvent.isDefaultPrevented()||_e36.event.isDefaultPrevented()){return;}if(_e32.showLoadMsg){this._showError();}_e33.reject(_e30,_e32);},this);},_getTransitionHandler:function(_e37){_e37=$.mobile._maybeDegradeTransition(_e37);return $.mobile.transitionHandlers[_e37]||$.mobile.defaultTransitionHandler;},_triggerCssTransitionEvents:function(to,from,_e38){var _e39=false;_e38=_e38||"";if(from){if(to[0]===from[0]){_e39=true;}this._triggerWithDeprecated(_e38+"hide",{nextPage:to,samePage:_e39},from);}this._triggerWithDeprecated(_e38+"show",{prevPage:from||$("")},to);},_cssTransition:function(to,from,_e3a){var _e3b=_e3a.transition,_e3c=_e3a.reverse,_e3d=_e3a.deferred,_e3e,_e3f;this._triggerCssTransitionEvents(to,from,"before");this._hideLoading();_e3e=this._getTransitionHandler(_e3b);_e3f=(new _e3e(_e3b,_e3c,to,from)).transition();_e3f.done(function(){_e3d.resolve.apply(_e3d,arguments);});_e3f.done($.proxy(function(){this._triggerCssTransitionEvents(to,from);},this));},_releaseTransitionLock:function(){_e40=false;if(_e41.length>0){$.mobile.changePage.apply(null,_e41.pop());}},_removeActiveLinkClass:function(_e42){$.mobile.removeActiveLinkClass(_e42);},_loadUrl:function(to,_e43,_e44){_e44.target=to;_e44.deferred=$.Deferred();this.load(to,_e44);_e44.deferred.done($.proxy(function(url,_e45,_e46){_e40=false;_e45.absUrl=_e43.absUrl;this.transition(_e46,_e43,_e45);},this));_e44.deferred.fail($.proxy(function(){this._removeActiveLinkClass(true);this._releaseTransitionLock();this._triggerWithDeprecated("changefailed",_e43);},this));},_triggerPageBeforeChange:function(to,_e47,_e48){var _e49=new $.Event("pagebeforechange");$.extend(_e47,{toPage:to,options:_e48});if($.type(to)==="string"){_e47.absUrl=$.mobile.path.makeUrlAbsolute(to,this._findBaseWithDefault());}else{_e47.absUrl=_e48.absUrl;}this.element.trigger(_e49,_e47);if(_e49.isDefaultPrevented()){return false;}return true;},change:function(to,_e4a){if(_e40){_e41.unshift(arguments);return;}var _e4b=$.extend({},$.mobile.changePage.defaults,_e4a),_e4c={};_e4b.fromPage=_e4b.fromPage||this.activePage;if(!this._triggerPageBeforeChange(to,_e4c,_e4b)){return;}to=_e4c.toPage;if($.type(to)==="string"){_e40=true;this._loadUrl(to,_e4c,_e4b);}else{this.transition(to,_e4c,_e4b);}},transition:function(_e4d,_e4e,_e4f){var _e50,url,_e51,_e52,_e53,_e54,_e55,_e56,_e57,_e58,_e59,_e5a,_e5b,_e5c;if(_e40){_e41.unshift([_e4d,_e4f]);return;}if(!this._triggerPageBeforeChange(_e4d,_e4e,_e4f)){return;}_e5c=this._triggerWithDeprecated("beforetransition",_e4e);if(_e5c.deprecatedEvent.isDefaultPrevented()||_e5c.event.isDefaultPrevented()){return;}_e40=true;if(_e4d[0]===$.mobile.firstPage[0]&&!_e4f.dataUrl){_e4f.dataUrl=$.mobile.path.documentUrl.hrefNoHash;}_e50=_e4f.fromPage;url=(_e4f.dataUrl&&$.mobile.path.convertUrlToDataUrl(_e4f.dataUrl))||_e4d.jqmData("url");_e51=url;_e52=$.mobile.path.getFilePath(url);_e53=$.mobile.navigate.history.getActive();_e54=$.mobile.navigate.history.activeIndex===0;_e55=0;_e56=_c1b.title;_e57=(_e4f.role==="dialog"||_e4d.jqmData("role")==="dialog")&&_e4d.jqmData("dialog")!==true;if(_e50&&_e50[0]===_e4d[0]&&!_e4f.allowSamePageTransition){_e40=false;this._triggerWithDeprecated("transition",_e4e);this.element.trigger("pagechange",_e4e);if(_e4f.fromHashChange){$.mobile.navigate.history.direct({url:url});}return;}_e4d.page({role:_e4f.role});if(_e4f.fromHashChange){_e55=_e4f.direction==="back"?-1:1;}try{if(_c1b.activeElement&&_c1b.activeElement.nodeName.toLowerCase()!=="body"){$(_c1b.activeElement).blur();}else{$("input:focus, textarea:focus, select:focus").blur();}}catch(e){}_e58=false;if(_e57&&_e53){if(_e53.url&&_e53.url.indexOf($.mobile.dialogHashKey)>-1&&this.activePage&&!this.activePage.hasClass("ui-dialog")&&$.mobile.navigate.history.activeIndex>0){_e4f.changeHash=false;_e58=true;}url=(_e53.url||"");if(!_e58&&url.indexOf("#")>-1){url+=$.mobile.dialogHashKey;}else{url+="#"+$.mobile.dialogHashKey;}if($.mobile.navigate.history.activeIndex===0&&url===$.mobile.navigate.history.initialDst){url+=$.mobile.dialogHashKey;}}_e59=(!_e53)?_e56:_e4d.jqmData("title")||_e4d.children(":jqmData(role='header')").find(".ui-title").text();if(!!_e59&&_e56===_c1b.title){_e56=_e59;}if(!_e4d.jqmData("title")){_e4d.jqmData("title",_e56);}_e4f.transition=_e4f.transition||((_e55&&!_e54)?_e53.transition:_dfd)||(_e57?$.mobile.defaultDialogTransition:$.mobile.defaultPageTransition);if(!_e55&&_e58){$.mobile.navigate.history.getActive().pageUrl=_e51;}if(url&&!_e4f.fromHashChange){if(!$.mobile.path.isPath(url)&&url.indexOf("#")<0){url="#"+url;}_e5a={transition:_e4f.transition,title:_e56,pageUrl:_e51,role:_e4f.role};if(_e4f.changeHash!==false&&$.mobile.hashListeningEnabled){$.mobile.navigate(url,_e5a,true);}else{if(_e4d[0]!==$.mobile.firstPage[0]){$.mobile.navigate.history.add(url,_e5a);}}}_c1b.title=_e56;$.mobile.activePage=_e4d;this.activePage=_e4d;_e4f.reverse=_e4f.reverse||_e55<0;_e5b=$.Deferred();this._cssTransition(_e4d,_e50,{transition:_e4f.transition,reverse:_e4f.reverse,deferred:_e5b});_e5b.done($.proxy(function(name,_e5d,$to,_e5e,_e5f){$.mobile.removeActiveLinkClass();if(_e4f.duplicateCachedPage){_e4f.duplicateCachedPage.remove();}if(!_e5f){$.mobile.focusPage(_e4d);}this._releaseTransitionLock();this.element.trigger("pagechange",_e4e);this._triggerWithDeprecated("transition",_e4e);},this));},_findBaseWithDefault:function(){var _e60=(this.activePage&&$.mobile.getClosestBaseUrl(this.activePage));return _e60||$.mobile.path.documentBase.hrefNoHash;}});$.mobile.navreadyDeferred=$.Deferred();var _e41=[],_e40=false;})(_c19);(function($,_e61){var _e62=$.Deferred(),_e63=$.mobile.path.documentUrl,_e64=null;function _e65(ele){while(ele){if((typeof ele.nodeName==="string")&&ele.nodeName.toLowerCase()==="a"){break;}ele=ele.parentNode;}return ele;};$.mobile.loadPage=function(url,opts){var _e66;opts=opts||{};_e66=(opts.pageContainer||$.mobile.pageContainer);opts.deferred=$.Deferred();_e66.pagecontainer("load",url,opts);return opts.deferred.promise();};$.mobile.back=function(){var nav=_c1a.navigator;if(this.phonegapNavigationEnabled&&nav&&nav.app&&nav.app.backHistory){nav.app.backHistory();}else{$.mobile.pageContainer.pagecontainer("back");}};$.mobile.focusPage=function(page){var _e67=page.find("[autofocus]"),_e68=page.find(".ui-title:eq(0)");if(_e67.length){_e67.focus();return;}if(_e68.length){_e68.focus();}else{page.focus();}};$.mobile._maybeDegradeTransition=$.mobile._maybeDegradeTransition||function(_e69){return _e69;};$.fn.animationComplete=function(_e6a){if($.support.cssTransitions){return $(this).one("webkitAnimationEnd animationend",_e6a);}else{setTimeout(_e6a,0);return $(this);}};$.mobile.changePage=function(to,_e6b){$.mobile.pageContainer.pagecontainer("change",to,_e6b);};$.mobile.changePage.defaults={transition:_e61,reverse:false,changeHash:true,fromHashChange:false,role:_e61,duplicateCachedPage:_e61,pageContainer:_e61,showLoadMsg:true,dataUrl:_e61,fromPage:_e61,allowSamePageTransition:false};$.mobile._registerInternalEvents=function(){var _e6c=function(_e6d,_e6e){var url,ret=true,_e6f,_e70,_e71;if(!$.mobile.ajaxEnabled||_e6d.is(":jqmData(ajax='false')")||!_e6d.jqmHijackable().length||_e6d.attr("target")){return false;}url=(_e64&&_e64.attr("formaction"))||_e6d.attr("action");_e71=(_e6d.attr("method")||"get").toLowerCase();if(!url){url=$.mobile.getClosestBaseUrl(_e6d);if(_e71==="get"){url=$.mobile.path.parseUrl(url).hrefNoSearch;}if(url===$.mobile.path.documentBase.hrefNoHash){url=_e63.hrefNoSearch;}}url=$.mobile.path.makeUrlAbsolute(url,$.mobile.getClosestBaseUrl(_e6d));if(($.mobile.path.isExternal(url)&&!$.mobile.path.isPermittedCrossDomainRequest(_e63,url))){return false;}if(!_e6e){_e6f=_e6d.serializeArray();if(_e64&&_e64[0].form===_e6d[0]){_e70=_e64.attr("name");if(_e70){$.each(_e6f,function(key,_e72){if(_e72.name===_e70){_e70="";return false;}});if(_e70){_e6f.push({name:_e70,value:_e64.attr("value")});}}}ret={url:url,options:{type:_e71,data:$.param(_e6f),transition:_e6d.jqmData("transition"),reverse:_e6d.jqmData("direction")==="reverse",reloadPage:true}};}return ret;};$.mobile.document.delegate("form","submit",function(_e73){var _e74;if(!_e73.isDefaultPrevented()){_e74=_e6c($(this));if(_e74){$.mobile.changePage(_e74.url,_e74.options);_e73.preventDefault();}}});$.mobile.document.bind("vclick",function(_e75){var $btn,_e76,_e77=_e75.target,_e78=false;if(_e75.which>1||!$.mobile.linkBindingEnabled){return;}_e64=$(_e77);if($.data(_e77,"mobile-button")){if(!_e6c($(_e77).closest("form"),true)){return;}if(_e77.parentNode){_e77=_e77.parentNode;}}else{_e77=_e65(_e77);if(!(_e77&&$.mobile.path.parseUrl(_e77.getAttribute("href")||"#").hash!=="#")){return;}if(!$(_e77).jqmHijackable().length){return;}}if(!!~_e77.className.indexOf("ui-link-inherit")){if(_e77.parentNode){_e76=$.data(_e77.parentNode,"buttonElements");}}else{_e76=$.data(_e77,"buttonElements");}if(_e76){_e77=_e76.outer;}else{_e78=true;}$btn=$(_e77);if(_e78){$btn=$btn.closest(".ui-btn");}if($btn.length>0&&!($btn.hasClass("ui-state-disabled"||$btn.hasClass("ui-disabled")))){$.mobile.removeActiveLinkClass(true);$.mobile.activeClickedLink=$btn;$.mobile.activeClickedLink.addClass($.mobile.activeBtnClass);}});$.mobile.document.bind("click",function(_e79){if(!$.mobile.linkBindingEnabled||_e79.isDefaultPrevented()){return;}var link=_e65(_e79.target),_e7a=$(link),_e7b=function(){_c1a.setTimeout(function(){$.mobile.removeActiveLinkClass(true);},200);},_e7c,href,_e7d,_e7e,_e7f,_e80,role;if($.mobile.activeClickedLink&&$.mobile.activeClickedLink[0]===_e79.target.parentNode){_e7b();}if(!link||_e79.which>1||!_e7a.jqmHijackable().length){return;}if(_e7a.is(":jqmData(rel='back')")){$.mobile.back();return false;}_e7c=$.mobile.getClosestBaseUrl(_e7a);href=$.mobile.path.makeUrlAbsolute(_e7a.attr("href")||"#",_e7c);if(!$.mobile.ajaxEnabled&&!$.mobile.path.isEmbeddedPage(href)){_e7b();return;}if(href.search("#")!==-1){href=href.replace(/[^#]*#/,"");if(!href){_e79.preventDefault();return;}else{if($.mobile.path.isPath(href)){href=$.mobile.path.makeUrlAbsolute(href,_e7c);}else{href=$.mobile.path.makeUrlAbsolute("#"+href,_e63.hrefNoHash);}}}_e7d=_e7a.is("[rel='external']")||_e7a.is(":jqmData(ajax='false')")||_e7a.is("[target]");_e7e=_e7d||($.mobile.path.isExternal(href)&&!$.mobile.path.isPermittedCrossDomainRequest(_e63,href));if(_e7e){_e7b();return;}_e7f=_e7a.jqmData("transition");_e80=_e7a.jqmData("direction")==="reverse"||_e7a.jqmData("back");role=_e7a.attr("data-"+$.mobile.ns+"rel")||_e61;$.mobile.changePage(href,{transition:_e7f,reverse:_e80,role:role,link:_e7a});_e79.preventDefault();});$.mobile.document.delegate(".ui-page","pageshow.prefetch",function(){var urls=[];$(this).find("a:jqmData(prefetch)").each(function(){var _e81=$(this),url=_e81.attr("href");if(url&&$.inArray(url,urls)===-1){urls.push(url);$.mobile.loadPage(url,{role:_e81.attr("data-"+$.mobile.ns+"rel"),prefetch:true});}});});$.mobile.pageContainer.pagecontainer();$.mobile.document.bind("pageshow",$.mobile.resetActivePageHeight);$.mobile.window.bind("throttledresize",$.mobile.resetActivePageHeight);};$(function(){_e62.resolve();});$.when(_e62,$.mobile.navreadyDeferred).done(function(){$.mobile._registerInternalEvents();});})(_c19);(function($,_e82,_e83){$.mobile.Transition=function(){this.init.apply(this,arguments);};$.extend($.mobile.Transition.prototype,{toPreClass:" ui-page-pre-in",init:function(name,_e84,$to,_e85){$.extend(this,{name:name,reverse:_e84,$to:$to,$from:_e85,deferred:new $.Deferred()});},cleanFrom:function(){this.$from.removeClass($.mobile.activePageClass+" out in reverse "+this.name).height("");},beforeDoneIn:function(){},beforeDoneOut:function(){},beforeStartOut:function(){},doneIn:function(){this.beforeDoneIn();this.$to.removeClass("out in reverse "+this.name).height("");this.toggleViewportClass();if($.mobile.window.scrollTop()!==this.toScroll){this.scrollPage();}if(!this.sequential){this.$to.addClass($.mobile.activePageClass);}this.deferred.resolve(this.name,this.reverse,this.$to,this.$from,true);},doneOut:function(_e86,_e87,none,_e88){this.beforeDoneOut();this.startIn(_e86,_e87,none,_e88);},hideIn:function(_e89){this.$to.css("z-index",-10);_e89.call(this);this.$to.css("z-index","");},scrollPage:function(){$.event.special.scrollstart.enabled=false;if($.mobile.hideUrlBar||this.toScroll!==$.mobile.defaultHomeScroll){_e82.scrollTo(0,this.toScroll);}setTimeout(function(){$.event.special.scrollstart.enabled=true;},150);},startIn:function(_e8a,_e8b,none,_e8c){this.hideIn(function(){this.$to.addClass($.mobile.activePageClass+this.toPreClass);if(!_e8c){$.mobile.focusPage(this.$to);}this.$to.height(_e8a+this.toScroll);if(!none){this.scrollPage();}});if(!none){this.$to.animationComplete($.proxy(function(){this.doneIn();},this));}this.$to.removeClass(this.toPreClass).addClass(this.name+" in "+_e8b);if(none){this.doneIn();}},startOut:function(_e8d,_e8e,none){this.beforeStartOut(_e8d,_e8e,none);this.$from.height(_e8d+$.mobile.window.scrollTop()).addClass(this.name+" out"+_e8e);},toggleViewportClass:function(){$.mobile.pageContainer.toggleClass("ui-mobile-viewport-transitioning viewport-"+this.name);},transition:function(){var _e8f=this.reverse?" reverse":"",_e90=$.mobile.getScreenHeight(),_e91=$.mobile.maxTransitionWidth!==false&&$.mobile.window.width()>$.mobile.maxTransitionWidth,none=!$.support.cssTransitions||!$.support.cssAnimations||_e91||!this.name||this.name==="none"||Math.max($.mobile.window.scrollTop(),this.toScroll)>$.mobile.getMaxScrollForTransition();this.toScroll=$.mobile.navigate.history.getActive().lastScroll||$.mobile.defaultHomeScroll;this.toggleViewportClass();if(this.$from&&!none){this.startOut(_e90,_e8f,none);}else{this.doneOut(_e90,_e8f,none,true);}return this.deferred.promise();}});})(_c19,this);(function($){$.mobile.SerialTransition=function(){this.init.apply(this,arguments);};$.extend($.mobile.SerialTransition.prototype,$.mobile.Transition.prototype,{sequential:true,beforeDoneOut:function(){if(this.$from){this.cleanFrom();}},beforeStartOut:function(_e92,_e93,none){this.$from.animationComplete($.proxy(function(){this.doneOut(_e92,_e93,none);},this));}});})(_c19);(function($){$.mobile.ConcurrentTransition=function(){this.init.apply(this,arguments);};$.extend($.mobile.ConcurrentTransition.prototype,$.mobile.Transition.prototype,{sequential:false,beforeDoneIn:function(){if(this.$from){this.cleanFrom();}},beforeStartOut:function(_e94,_e95,none){this.doneOut(_e94,_e95,none);}});})(_c19);(function($){var _e96=function(){return $.mobile.getScreenHeight()*3;};$.mobile.transitionHandlers={"sequential":$.mobile.SerialTransition,"simultaneous":$.mobile.ConcurrentTransition};$.mobile.defaultTransitionHandler=$.mobile.transitionHandlers.sequential;$.mobile.transitionFallbacks={};$.mobile._maybeDegradeTransition=function(_e97){if(_e97&&!$.support.cssTransform3d&&$.mobile.transitionFallbacks[_e97]){_e97=$.mobile.transitionFallbacks[_e97];}return _e97;};$.mobile.getMaxScrollForTransition=$.mobile.getMaxScrollForTransition||_e96;})(_c19);(function($,_e98,_e99){$.mobile.transitionFallbacks.flip="fade";})(_c19,this);(function($,_e9a,_e9b){$.mobile.transitionFallbacks.flow="fade";})(_c19,this);(function($,_e9c,_e9d){$.mobile.transitionFallbacks.pop="fade";})(_c19,this);(function($,_e9e,_e9f){$.mobile.transitionHandlers.slide=$.mobile.transitionHandlers.simultaneous;$.mobile.transitionFallbacks.slide="fade";})(_c19,this);(function($,_ea0,_ea1){$.mobile.transitionFallbacks.slidedown="fade";})(_c19,this);(function($,_ea2,_ea3){$.mobile.transitionFallbacks.slidefade="fade";})(_c19,this);(function($,_ea4,_ea5){$.mobile.transitionFallbacks.slideup="fade";})(_c19,this);(function($,_ea6,_ea7){$.mobile.transitionFallbacks.turn="fade";})(_c19,this);(function($,_ea8){$.mobile.degradeInputs={color:false,date:false,datetime:false,"datetime-local":false,email:false,month:false,number:false,range:"number",search:"text",tel:false,time:false,url:false,week:false};$.mobile.page.prototype.options.degradeInputs=$.mobile.degradeInputs;$.mobile.degradeInputsWithin=function(_ea9){_ea9=$(_ea9);_ea9.find("input").not($.mobile.page.prototype.keepNativeSelector()).each(function(){var _eaa=$(this),type=this.getAttribute("type"),_eab=$.mobile.degradeInputs[type]||"text",html,_eac,_ead,_eae;if($.mobile.degradeInputs[type]){html=$("<div>").html(_eaa.clone()).html();_eac=html.indexOf(" type=")>-1;_ead=_eac?/\s+type=["']?\w+['"]?/:/\/?>/;_eae=" type=\""+_eab+"\" data-"+$.mobile.ns+"type=\""+type+"\""+(_eac?"":">");_eaa.replaceWith(html.replace(_ead,_eae));}});};})(_c19);(function($,_eaf,_eb0){$.widget("mobile.page",$.mobile.page,{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:true,dialog:false},_create:function(){this._super();if(this.options.dialog){$.extend(this,{_inner:this.element.children(),_headerCloseButton:null});if(!this.options.enhanced){this._setCloseBtn(this.options.closeBtn);}}},_enhance:function(){this._super();if(this.options.dialog){this.element.addClass("ui-dialog").wrapInner($("<div/>",{"role":"dialog","class":"ui-dialog-contain ui-overlay-shadow"+(this.options.corners?" ui-corner-all":"")}));}},_setOptions:function(_eb1){var _eb2,_eb3,_eb4=this.options;if(_eb1.corners!==_eb0){this._inner.toggleClass("ui-corner-all",!!_eb1.corners);}if(_eb1.overlayTheme!==_eb0){if($.mobile.activePage[0]===this.element[0]){_eb4.overlayTheme=_eb1.overlayTheme;this._handlePageBeforeShow();}}if(_eb1.closeBtnText!==_eb0){_eb2=_eb4.closeBtn;_eb3=_eb1.closeBtnText;}if(_eb1.closeBtn!==_eb0){_eb2=_eb1.closeBtn;}if(_eb2){this._setCloseBtn(_eb2,_eb3);}this._super(_eb1);},_handlePageBeforeShow:function(){if(this.options.overlayTheme&&this.options.dialog){this.removeContainerBackground();this.setContainerBackground(this.options.overlayTheme);}else{this._super();}},_setCloseBtn:function(_eb5,text){var dst,btn=this._headerCloseButton;_eb5="left"===_eb5?"left":"right"===_eb5?"right":"none";if("none"===_eb5){if(btn){btn.remove();btn=null;}}else{if(btn){btn.removeClass("ui-btn-left ui-btn-right").addClass("ui-btn-"+_eb5);if(text){btn.text(text);}}else{dst=this._inner.find(":jqmData(role='header')").first();btn=$("<a></a>",{"href":"#","class":"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-"+_eb5}).attr("data-"+$.mobile.ns+"rel","back").text(text||this.options.closeBtnText||"").prependTo(dst);this._on(btn,{click:"close"});}}this._headerCloseButton=btn;}});})(_c19,this);(function($,_eb6,_eb7){$.widget("mobile.dialog",{options:{closeBtn:"left",closeBtnText:"Close",overlayTheme:"a",corners:true},_handlePageBeforeShow:function(){this._isCloseable=true;if(this.options.overlayTheme){this.element.page("removeContainerBackground").page("setContainerBackground",this.options.overlayTheme);}},_handlePageBeforeHide:function(){this._isCloseable=false;},_handleVClickSubmit:function(_eb8){var _eb9,_eba=$(_eb8.target).closest(_eb8.type==="vclick"?"a":"form");if(_eba.length&&!_eba.jqmData("transition")){_eb9={};_eb9["data-"+$.mobile.ns+"transition"]=($.mobile.navigate.history.getActive()||{})["transition"]||$.mobile.defaultDialogTransition;_eb9["data-"+$.mobile.ns+"direction"]="reverse";_eba.attr(_eb9);}},_create:function(){var elem=this.element,opts=this.options;elem.addClass("ui-dialog").wrapInner($("<div/>",{"role":"dialog","class":"ui-dialog-contain ui-overlay-shadow"+(!!opts.corners?" ui-corner-all":"")}));$.extend(this,{_isCloseable:false,_inner:elem.children(),_headerCloseButton:null});this._on(elem,{vclick:"_handleVClickSubmit",submit:"_handleVClickSubmit",pagebeforeshow:"_handlePageBeforeShow",pagebeforehide:"_handlePageBeforeHide"});this._setCloseBtn(opts.closeBtn);},_setOptions:function(_ebb){var _ebc,_ebd,_ebe=this.options;if(_ebb.corners!==_eb7){this._inner.toggleClass("ui-corner-all",!!_ebb.corners);}if(_ebb.overlayTheme!==_eb7){if($.mobile.activePage[0]===this.element[0]){_ebe.overlayTheme=_ebb.overlayTheme;this._handlePageBeforeShow();}}if(_ebb.closeBtnText!==_eb7){_ebc=_ebe.closeBtn;_ebd=_ebb.closeBtnText;}if(_ebb.closeBtn!==_eb7){_ebc=_ebb.closeBtn;}if(_ebc){this._setCloseBtn(_ebc,_ebd);}this._super(_ebb);},_setCloseBtn:function(_ebf,text){var dst,btn=this._headerCloseButton;_ebf="left"===_ebf?"left":"right"===_ebf?"right":"none";if("none"===_ebf){if(btn){btn.remove();btn=null;}}else{if(btn){btn.removeClass("ui-btn-left ui-btn-right").addClass("ui-btn-"+_ebf);if(text){btn.text(text);}}else{dst=this._inner.find(":jqmData(role='header')").first();btn=$("<a></a>",{"role":"button","href":"#","class":"ui-btn ui-corner-all ui-icon-delete ui-btn-icon-notext ui-btn-"+_ebf}).text(text||this.options.closeBtnText||"").prependTo(dst);this._on(btn,{click:"close"});}}this._headerCloseButton=btn;},close:function(){var hist=$.mobile.navigate.history;if(this._isCloseable){this._isCloseable=false;if($.mobile.hashListeningEnabled&&hist.activeIndex>0){$.mobile.back();}else{$.mobile.pageContainer.pagecontainer("back");}}}});})(_c19,this);(function($,_ec0){var _ec1=/([A-Z])/g;$.widget("mobile.collapsible",{options:{enhanced:false,expandCueText:null,collapseCueText:null,collapsed:true,heading:"h1,h2,h3,h4,h5,h6,legend",collapsedIcon:null,expandedIcon:null,iconpos:null,theme:null,contentTheme:null,inset:null,corners:null,mini:null},_create:function(){var elem=this.element,ui={accordion:elem.closest(":jqmData(role='collapsible-set')"+($.mobile.collapsibleset?", :mobile-collapsibleset":"")).addClass("ui-collapsible-set")};$.extend(this,{_ui:ui});if(this.options.enhanced){ui.heading=$(".ui-collapsible-heading",this.element[0]);ui.content=ui.heading.next();ui.anchor=$("a",ui.heading[0]).first();ui.status=ui.anchor.children(".ui-collapsible-heading-status");}else{this._enhance(elem,ui);}this._on(ui.heading,{"tap":function(){ui.heading.find("a").first().addClass($.mobile.activeBtnClass);},"click":function(_ec2){this._handleExpandCollapse(!ui.heading.hasClass("ui-collapsible-heading-collapsed"));_ec2.preventDefault();_ec2.stopPropagation();}});},_getOptions:function(_ec3){var key,_ec4=this._ui.accordion,_ec5=this._ui.accordionWidget;_ec3=$.extend({},_ec3);if(_ec4.length&&!_ec5){this._ui.accordionWidget=_ec5=_ec4.data("mobile-collapsibleset");}for(key in _ec3){_ec3[key]=(_ec3[key]!=null)?_ec3[key]:(_ec5)?_ec5.options[key]:_ec4.length?$.mobile.getAttribute(_ec4[0],key.replace(_ec1,"-$1").toLowerCase()):null;if(null==_ec3[key]){_ec3[key]=$.mobile.collapsible.defaults[key];}}return _ec3;},_themeClassFromOption:function(_ec6,_ec7){return (_ec7?(_ec7==="none"?"":_ec6+_ec7):"");},_enhance:function(elem,ui){var _ec8,opts=this._getOptions(this.options),_ec9=this._themeClassFromOption("ui-body-",opts.contentTheme);elem.addClass("ui-collapsible "+(opts.inset?"ui-collapsible-inset ":"")+(opts.inset&&opts.corners?"ui-corner-all ":"")+(_ec9?"ui-collapsible-themed-content ":""));ui.originalHeading=elem.children(this.options.heading).first(),ui.content=elem.wrapInner("<div "+"class='ui-collapsible-content "+_ec9+"'></div>").children(".ui-collapsible-content"),ui.heading=ui.originalHeading;if(ui.heading.is("legend")){ui.heading=$("<div role='heading'>"+ui.heading.html()+"</div>");ui.placeholder=$("<div><!-- placeholder for legend --></div>").insertBefore(ui.originalHeading);ui.originalHeading.remove();}_ec8=(opts.collapsed?(opts.collapsedIcon?"ui-icon-"+opts.collapsedIcon:""):(opts.expandedIcon?"ui-icon-"+opts.expandedIcon:""));ui.status=$("<span class='ui-collapsible-heading-status'></span>");ui.anchor=ui.heading.detach().addClass("ui-collapsible-heading").append(ui.status).wrapInner("<a href='#' class='ui-collapsible-heading-toggle'></a>").find("a").first().addClass("ui-btn "+(_ec8?_ec8+" ":"")+(_ec8?("ui-btn-icon-"+(opts.iconpos==="right"?"right":"left"))+" ":"")+this._themeClassFromOption("ui-btn-",opts.theme)+" "+(opts.mini?"ui-mini ":""));ui.heading.insertBefore(ui.content);this._handleExpandCollapse(this.options.collapsed);return ui;},refresh:function(){var key,_eca={};for(key in $.mobile.collapsible.defaults){_eca[key]=this.options[key];}this._setOptions(_eca);},_setOptions:function(_ecb){var _ecc,_ecd,_ece,_ecf,elem=this.element,_ed0=this._getOptions(this.options),ui=this._ui,_ed1=ui.anchor,_ed2=ui.status,opts=this._getOptions(_ecb);if(_ecb.collapsed!==_ec0){this._handleExpandCollapse(_ecb.collapsed);}_ecc=elem.hasClass("ui-collapsible-collapsed");if(_ecc){if(opts.expandCueText!==_ec0){_ed2.text(opts.expandCueText);}if(opts.collapsedIcon!==_ec0){if(_ed0.collapsedIcon){_ed1.removeClass("ui-icon-"+_ed0.collapsedIcon);}if(opts.collapsedIcon){_ed1.addClass("ui-icon-"+opts.collapsedIcon);}}}else{if(opts.collapseCueText!==_ec0){_ed2.text(opts.collapseCueText);}if(opts.expandedIcon!==_ec0){if(_ed0.expandedIcon){_ed1.removeClass("ui-icon-"+_ed0.expandedIcon);}if(opts.expandedIcon){_ed1.addClass("ui-icon-"+opts.expandedIcon);}}}if(opts.iconpos!==_ec0){_ed1.removeClass("ui-btn-icon-"+(_ed0.iconPos==="right"?"right":"left"));_ed1.addClass("ui-btn-icon-"+(opts.iconPos==="right"?"right":"left"));}if(opts.theme!==_ec0){_ece=this._themeClassFromOption("ui-btn-",_ed0.theme);_ecd=this._themeClassFromOption("ui-btn-",opts.theme);_ed1.removeClass(_ece).addClass(_ecd);}if(opts.contentTheme!==_ec0){_ece=this._themeClassFromOption("ui-body-",_ed0.theme);_ecd=this._themeClassFromOption("ui-body-",opts.theme);ui.content.removeClass(_ece).addClass(_ecd);}if(opts.inset!==_ec0){elem.toggleClass("ui-collapsible-inset",opts.inset);_ecf=!!(opts.inset&&(opts.corners||_ed0.corners));}if(opts.corners!==_ec0){_ecf=!!(opts.corners&&(opts.inset||_ed0.inset));}if(_ecf!==_ec0){elem.toggleClass("ui-corner-all",_ecf);}if(opts.mini!==_ec0){_ed1.toggleClass("ui-mini",opts.mini);}this._super(_ecb);},_handleExpandCollapse:function(_ed3){var opts=this._getOptions(this.options),ui=this._ui;ui.status.text(_ed3?opts.expandCueText:opts.collapseCueText);ui.heading.toggleClass("ui-collapsible-heading-collapsed",_ed3).find("a").first().toggleClass("ui-icon-"+opts.expandedIcon,!_ed3).toggleClass("ui-icon-"+opts.collapsedIcon,(_ed3||opts.expandedIcon===opts.collapsedIcon)).removeClass($.mobile.activeBtnClass);this.element.toggleClass("ui-collapsible-collapsed",_ed3);ui.content.toggleClass("ui-collapsible-content-collapsed",_ed3).attr("aria-hidden",_ed3).trigger("updatelayout");this.options.collapsed=_ed3;this._trigger(_ed3?"collapse":"expand");},expand:function(){this._handleExpandCollapse(false);},collapse:function(){this._handleExpandCollapse(true);},_destroy:function(){var ui=this._ui,opts=this.options;if(opts.enhanced){return;}if(ui.placeholder){ui.originalHeading.insertBefore(ui.placeholder);ui.placeholder.remove();ui.heading.remove();}else{ui.status.remove();ui.heading.removeClass("ui-collapsible-heading ui-collapsible-heading-collapsed").children().contents().unwrap();}ui.anchor.contents().unwrap();ui.content.contents().unwrap();this.element.removeClass("ui-collapsible ui-collapsible-collapsed "+"ui-collapsible-themed-content ui-collapsible-inset ui-corner-all");}});$.mobile.collapsible.defaults={expandCueText:" click to expand contents",collapseCueText:" click to collapse contents",collapsedIcon:"plus",contentTheme:"inherit",expandedIcon:"minus",iconpos:"left",inset:true,corners:true,theme:"inherit",mini:false};})(_c19);(function($,_ed4){$.mobile.behaviors.addFirstLastClasses={_getVisibles:function($els,_ed5){var _ed6;if(_ed5){_ed6=$els.not(".ui-screen-hidden");}else{_ed6=$els.filter(":visible");if(_ed6.length===0){_ed6=$els.not(".ui-screen-hidden");}}return _ed6;},_addFirstLastClasses:function($els,_ed7,_ed8){$els.removeClass("ui-first-child ui-last-child");_ed7.eq(0).addClass("ui-first-child").end().last().addClass("ui-last-child");if(!_ed8){this.element.trigger("updatelayout");}},_removeFirstLastClasses:function($els){$els.removeClass("ui-first-child ui-last-child");}};})(_c19);(function($,_ed9){var _eda=":mobile-collapsible, "+$.mobile.collapsible.initSelector;$.widget("mobile.collapsibleset",$.extend({initSelector:":jqmData(role='collapsible-set'),:jqmData(role='collapsibleset')",options:$.extend({enhanced:false},$.mobile.collapsible.defaults),_handleCollapsibleExpand:function(_edb){var _edc=$(_edb.target).closest(".ui-collapsible");if(_edc.parent().is(":mobile-collapsibleset, :jqmData(role='collapsible-set')")){_edc.siblings(".ui-collapsible:not(.ui-collapsible-collapsed)").collapsible("collapse");}},_create:function(){var elem=this.element,opts=this.options;$.extend(this,{_classes:""});if(!opts.enhanced){elem.addClass("ui-collapsible-set "+this._themeClassFromOption("ui-group-theme-",opts.theme)+" "+(opts.corners&&opts.inset?"ui-corner-all ":""));this.element.find($.mobile.collapsible.initSelector).collapsible();}this._on(elem,{collapsibleexpand:"_handleCollapsibleExpand"});},_themeClassFromOption:function(_edd,_ede){return (_ede?(_ede==="none"?"":_edd+_ede):"");},_init:function(){this._refresh(true);this.element.children(_eda).filter(":jqmData(collapsed='false')").collapsible("expand");},_setOptions:function(_edf){var ret,_ee0,elem=this.element,_ee1=this._themeClassFromOption("ui-group-theme-",_edf.theme);if(_ee1){elem.removeClass(this._themeClassFromOption("ui-group-theme-",this.options.theme)).addClass(_ee1);}if(_edf.inset!==_ed9){_ee0=!!(_edf.inset&&(_edf.corners||this.options.corners));}if(_edf.corners!==_ed9){_ee0=!!(_edf.corners&&(_edf.inset||this.options.inset));}if(_ee0!==_ed9){elem.toggleClass("ui-corner-all",_ee0);}ret=this._super(_edf);this.element.children(":mobile-collapsible").collapsible("refresh");return ret;},_destroy:function(){var el=this.element;this._removeFirstLastClasses(el.children(_eda));el.removeClass("ui-collapsible-set ui-corner-all "+this._themeClassFromOption("ui-group-theme-",this.options.theme)).children(":mobile-collapsible").collapsible("destroy");},_refresh:function(_ee2){var _ee3=this.element.children(_eda);this.element.find($.mobile.collapsible.initSelector).not(".ui-collapsible").collapsible();this._addFirstLastClasses(_ee3,this._getVisibles(_ee3,_ee2),_ee2);},refresh:function(){this._refresh(false);}},$.mobile.behaviors.addFirstLastClasses));})(_c19);(function($,_ee4){$.fn.fieldcontain=function(){return this.addClass("ui-field-contain");};})(_c19);(function($,_ee5){$.fn.grid=function(_ee6){return this.each(function(){var _ee7=$(this),o=$.extend({grid:null},_ee6),_ee8=_ee7.children(),_ee9={solo:1,a:2,b:3,c:4,d:5},grid=o.grid,_eea,_eeb;if(!grid){if(_ee8.length<=5){for(_eeb in _ee9){if(_ee9[_eeb]===_ee8.length){grid=_eeb;}}}else{grid="a";_ee7.addClass("ui-grid-duo");}}_eea=_ee9[grid];_ee7.addClass("ui-grid-"+grid);_ee8.filter(":nth-child("+_eea+"n+1)").addClass("ui-block-a");if(_eea>1){_ee8.filter(":nth-child("+_eea+"n+2)").addClass("ui-block-b");}if(_eea>2){_ee8.filter(":nth-child("+_eea+"n+3)").addClass("ui-block-c");}if(_eea>3){_ee8.filter(":nth-child("+_eea+"n+4)").addClass("ui-block-d");}if(_eea>4){_ee8.filter(":nth-child("+_eea+"n+5)").addClass("ui-block-e");}});};})(_c19);(function($,_eec){$.widget("mobile.navbar",{options:{iconpos:"top",grid:null},_create:function(){var _eed=this.element,_eee=_eed.find("a"),_eef=_eee.filter(":jqmData(icon)").length?this.options.iconpos:_eec;_eed.addClass("ui-navbar").attr("role","navigation").find("ul").jqmEnhanceable().grid({grid:this.options.grid});_eee.each(function(){var icon=$.mobile.getAttribute(this,"icon"),_ef0=$.mobile.getAttribute(this,"theme"),_ef1="ui-btn";if(_ef0){_ef1+=" ui-btn-"+_ef0;}if(icon){_ef1+=" ui-icon-"+icon+" ui-btn-icon-"+_eef;}$(this).addClass(_ef1);});_eed.delegate("a","vclick",function(){var _ef2=$(this);if(!(_ef2.hasClass("ui-state-disabled")||_ef2.hasClass("ui-disabled")||_ef2.hasClass($.mobile.activeBtnClass))){_eee.removeClass($.mobile.activeBtnClass);_ef2.addClass($.mobile.activeBtnClass);$(_c1b).one("pagehide",function(){_ef2.removeClass($.mobile.activeBtnClass);});}});_eed.closest(".ui-page").bind("pagebeforeshow",function(){_eee.filter(".ui-state-persist").addClass($.mobile.activeBtnClass);});}});})(_c19);(function($,_ef3){var _ef4=$.mobile.getAttribute;$.widget("mobile.listview",$.extend({options:{theme:null,countTheme:null,dividerTheme:null,icon:"carat-r",splitIcon:"carat-r",splitTheme:null,corners:true,shadow:true,inset:false},_create:function(){var t=this,_ef5="";_ef5+=t.options.inset?" ui-listview-inset":"";if(!!t.options.inset){_ef5+=t.options.corners?" ui-corner-all":"";_ef5+=t.options.shadow?" ui-shadow":"";}t.element.addClass(" ui-listview"+_ef5);t.refresh(true);},_findFirstElementByTagName:function(ele,_ef6,_ef7,_ef8){var dict={};dict[_ef7]=dict[_ef8]=true;while(ele){if(dict[ele.nodeName]){return ele;}ele=ele[_ef6];}return null;},_addThumbClasses:function(_ef9){var i,img,len=_ef9.length;for(i=0;i<len;i++){img=$(this._findFirstElementByTagName(_ef9[i].firstChild,"nextSibling","img","IMG"));if(img.length){$(this._findFirstElementByTagName(img[0].parentNode,"parentNode","li","LI")).addClass(img.hasClass("ui-li-icon")?"ui-li-has-icon":"ui-li-has-thumb");}}},_getChildrenByTagName:function(ele,_efa,_efb){var _efc=[],dict={};dict[_efa]=dict[_efb]=true;ele=ele.firstChild;while(ele){if(dict[ele.nodeName]){_efc.push(ele);}ele=ele.nextSibling;}return $(_efc);},_beforeListviewRefresh:$.noop,_afterListviewRefresh:$.noop,refresh:function(_efd){var _efe,pos,_eff,item,_f00,_f01,_f02,icon,a,_f03,_f04,_f05,_f06,last,_f07,_f08,_f09,_f0a,_f0b,li,o=this.options,_f0c=this.element,ol=!!$.nodeName(_f0c[0],"ol"),_f0d=_f0c.attr("start"),_f0e={},_f0f=_f0c.find(".ui-li-count"),_f10=_ef4(_f0c[0],"counttheme")||this.options.countTheme,_f11=_f10?"ui-body-"+_f10:"ui-body-inherit";if(o.theme){_f0c.addClass("ui-group-theme-"+o.theme);}if(ol&&(_f0d||_f0d===0)){_f04=parseInt(_f0d,10)-1;_f0c.css("counter-reset","listnumbering "+_f04);}this._beforeListviewRefresh();li=this._getChildrenByTagName(_f0c[0],"li","LI");for(pos=0,_eff=li.length;pos<_eff;pos++){item=li.eq(pos);_f00="";if(_efd||item[0].className.search(/\bui-li-static\b|\bui-li-divider\b/)<0){a=this._getChildrenByTagName(item[0],"a","A");_f03=(_ef4(item[0],"role")==="list-divider");_f06=item.attr("value");_f01=_ef4(item[0],"theme");if(a.length&&a[0].className.search(/\bui-btn\b/)<0&&!_f03){_f02=_ef4(item[0],"icon");icon=(_f02===false)?false:(_f02||o.icon);a.removeClass("ui-link");_efe="ui-btn";if(_f01){_efe+=" ui-btn-"+_f01;}if(a.length>1){_f00="ui-li-has-alt";last=a.last();_f07=_ef4(last[0],"theme")||o.splitTheme||_ef4(item[0],"theme",true);_f08=_f07?" ui-btn-"+_f07:"";_f09=_ef4(last[0],"icon")||_ef4(item[0],"icon")||o.splitIcon;_f0a="ui-btn ui-btn-icon-notext ui-icon-"+_f09+_f08;last.attr("title",$.trim(last.getEncodedText())).addClass(_f0a).empty();}else{if(icon){_efe+=" ui-btn-icon-right ui-icon-"+icon;}}a.first().addClass(_efe);}else{if(_f03){_f0b=(_ef4(item[0],"theme")||o.dividerTheme||o.theme);_f00="ui-li-divider ui-bar-"+(_f0b?_f0b:"inherit");item.attr("role","heading");}else{if(a.length<=0){_f00="ui-li-static ui-body-"+(_f01?_f01:"inherit");}}}if(ol&&_f06){_f05=parseInt(_f06,10)-1;item.css("counter-reset","listnumbering "+_f05);}}if(!_f0e[_f00]){_f0e[_f00]=[];}_f0e[_f00].push(item[0]);}for(_f00 in _f0e){$(_f0e[_f00]).addClass(_f00);}_f0f.each(function(){$(this).closest("li").addClass("ui-li-has-count");});if(_f11){_f0f.addClass(_f11);}this._addThumbClasses(li);this._addThumbClasses(li.find(".ui-btn"));this._afterListviewRefresh();this._addFirstLastClasses(li,this._getVisibles(li,_efd),_efd);}},$.mobile.behaviors.addFirstLastClasses));})(_c19);(function($,_f12){function _f13(elt){var text=$.trim(elt.text())||null;if(!text){return null;}text=text.slice(0,1).toUpperCase();return text;};$.widget("mobile.listview",$.mobile.listview,{options:{autodividers:false,autodividersSelector:_f13},_beforeListviewRefresh:function(){if(this.options.autodividers){this._replaceDividers();this._superApply(arguments);}},_replaceDividers:function(){var i,lis,li,_f14,_f15=null,list=this.element,_f16;list.children("li:jqmData(role='list-divider')").remove();lis=list.children("li");for(i=0;i<lis.length;i++){li=lis[i];_f14=this.options.autodividersSelector($(li));if(_f14&&_f15!==_f14){_f16=_c1b.createElement("li");_f16.appendChild(_c1b.createTextNode(_f14));_f16.setAttribute("data-"+$.mobile.ns+"role","list-divider");li.parentNode.insertBefore(_f16,li);}_f15=_f14;}}});})(_c19);(function($,_f17){var _f18=/(^|\s)ui-li-divider($|\s)/,_f19=/(^|\s)ui-screen-hidden($|\s)/;$.widget("mobile.listview",$.mobile.listview,{options:{hideDividers:false},_afterListviewRefresh:function(){var _f1a,idx,item,_f1b=true;this._superApply(arguments);if(this.options.hideDividers){_f1a=this._getChildrenByTagName(this.element[0],"li","LI");for(idx=_f1a.length-1;idx>-1;idx--){item=_f1a[idx];if(item.className.match(_f18)){if(_f1b){item.className=item.className+" ui-screen-hidden";}_f1b=true;}else{if(!item.className.match(_f19)){_f1b=false;}}}}}});})(_c19);(function($,_f1c){$.mobile.nojs=function(_f1d){$(":jqmData(role='nojs')",_f1d).addClass("ui-nojs");};})(_c19);(function($,_f1e){$.mobile.behaviors.formReset={_handleFormReset:function(){this._on(this.element.closest("form"),{reset:function(){this._delay("_reset");}});}};})(_c19);(function($,_f1f){$.widget("mobile.checkboxradio",$.extend({initSelector:"input:not( :jqmData(role='flipswitch' ) )[type='checkbox'],input[type='radio']:not( :jqmData(role='flipswitch' ))",options:{theme:"inherit",mini:false,wrapperClass:null,enhanced:false,iconpos:"left"},_create:function(){var _f20=this.element,o=this.options,_f21=function(_f22,_f23){return _f22.jqmData(_f23)||_f22.closest("form, fieldset").jqmData(_f23);},_f24=_f20.closest("label"),_f25=_f24.length?_f24:_f20.closest("form, fieldset, :jqmData(role='page'), :jqmData(role='dialog')").find("label").filter("[for='"+$.mobile.path.hashToSelector(_f20[0].id)+"']").first(),_f26=_f20[0].type,_f27="ui-"+_f26+"-on",_f28="ui-"+_f26+"-off";if(_f26!=="checkbox"&&_f26!=="radio"){return;}if(this.element[0].disabled){this.options.disabled=true;}o.iconpos=_f21(_f20,"iconpos")||_f25.attr("data-"+$.mobile.ns+"iconpos")||o.iconpos,o.mini=_f21(_f20,"mini")||o.mini;$.extend(this,{input:_f20,label:_f25,parentLabel:_f24,inputtype:_f26,checkedClass:_f27,uncheckedClass:_f28});if(!this.options.enhanced){this._enhance();}this._on(_f25,{vmouseover:"_handleLabelVMouseOver",vclick:"_handleLabelVClick"});this._on(_f20,{vmousedown:"_cacheVals",vclick:"_handleInputVClick",focus:"_handleInputFocus",blur:"_handleInputBlur"});this._handleFormReset();this.refresh();},_enhance:function(){this.label.addClass("ui-btn ui-corner-all");if(this.parentLabel.length>0){this.input.add(this.label).wrapAll(this._wrapper());}else{this.element.wrap(this._wrapper());this.element.parent().prepend(this.label);}this._setOptions({"theme":this.options.theme,"iconpos":this.options.iconpos,"mini":this.options.mini});},_wrapper:function(){return $("<div class='"+(this.options.wrapperClass?this.options.wrapperClass:"")+" ui-"+this.inputtype+(this.options.disabled?" ui-state-disabled":"")+"' >");},_handleInputFocus:function(){this.label.addClass($.mobile.focusClass);},_handleInputBlur:function(){this.label.removeClass($.mobile.focusClass);},_handleInputVClick:function(){var _f29=this.element;if(_f29.is(":checked")){_f29.prop("checked",true);this._getInputSet().not(_f29).prop("checked",false);}else{_f29.prop("checked",false);}this._updateAll();},_handleLabelVMouseOver:function(_f2a){if(this.label.parent().hasClass("ui-state-disabled")){_f2a.stopPropagation();}},_handleLabelVClick:function(_f2b){var _f2c=this.element;if(_f2c.is(":disabled")){_f2b.preventDefault();return;}this._cacheVals();_f2c.prop("checked",this.inputtype==="radio"&&true||!_f2c.prop("checked"));_f2c.triggerHandler("click");this._getInputSet().not(_f2c).prop("checked",false);this._updateAll();return false;},_cacheVals:function(){this._getInputSet().each(function(){$(this).attr("data-"+$.mobile.ns+"cacheVal",this.checked);});},_getInputSet:function(){if(this.inputtype==="checkbox"){return this.element;}return this.element.closest("form, :jqmData(role='page'), :jqmData(role='dialog')").find("input[name='"+this.element[0].name+"'][type='"+this.inputtype+"']");},_updateAll:function(){var self=this;this._getInputSet().each(function(){var _f2d=$(this);if(this.checked||self.inputtype==="checkbox"){_f2d.trigger("change");}}).checkboxradio("refresh");},_reset:function(){this.refresh();},_hasIcon:function(){var _f2e,_f2f,_f30=$.mobile.controlgroup;if(_f30){_f2e=this.element.closest(":mobile-controlgroup,"+_f30.prototype.initSelector);if(_f2e.length>0){_f2f=$.data(_f2e[0],"mobile-controlgroup");return ((_f2f?_f2f.options.type:_f2e.attr("data-"+$.mobile.ns+"type"))!=="horizontal");}}return true;},refresh:function(){var _f31=this._hasIcon(),_f32=this.element[0].checked,_f33=$.mobile.activeBtnClass,_f34="ui-btn-icon-"+this.options.iconpos,_f35=[],_f36=[];if(_f31){_f36.push(_f33);_f35.push(_f34);}else{_f36.push(_f34);(_f32?_f35:_f36).push(_f33);}if(_f32){_f35.push(this.checkedClass);_f36.push(this.uncheckedClass);}else{_f35.push(this.uncheckedClass);_f36.push(this.checkedClass);}this.label.addClass(_f35.join(" ")).removeClass(_f36.join(" "));},widget:function(){return this.label.parent();},_setOptions:function(_f37){var _f38=this.label,_f39=this.options,_f3a=this.widget(),_f3b=this._hasIcon();if(_f37.disabled!==_f1f){this.input.prop("disabled",!!_f37.disabled);_f3a.toggleClass("ui-state-disabled",!!_f37.disabled);}if(_f37.mini!==_f1f){_f3a.toggleClass("ui-mini",!!_f37.mini);}if(_f37.theme!==_f1f){_f38.removeClass("ui-btn-"+_f39.theme).addClass("ui-btn-"+_f37.theme);}if(_f37.wrapperClass!==_f1f){_f3a.removeClass(_f39.wrapperClass).addClass(_f37.wrapperClass);}if(_f37.iconpos!==_f1f&&_f3b){_f38.removeClass("ui-btn-icon-"+_f39.iconpos).addClass("ui-btn-icon-"+_f37.iconpos);}else{if(!_f3b){_f38.removeClass("ui-btn-icon-"+_f39.iconpos);}}this._super(_f37);}},$.mobile.behaviors.formReset));})(_c19);(function($,_f3c){$.widget("mobile.button",{initSelector:"input[type='button'], input[type='submit'], input[type='reset']",options:{theme:null,icon:null,iconpos:"left",iconshadow:false,corners:true,shadow:true,inline:null,mini:null,wrapperClass:null,enhanced:false},_create:function(){if(this.element.is(":disabled")){this.options.disabled=true;}if(!this.options.enhanced){this._enhance();}$.extend(this,{wrapper:this.element.parent()});this._on({focus:function(){this.widget().addClass($.mobile.focusClass);},blur:function(){this.widget().removeClass($.mobile.focusClass);}});this.refresh(true);},_enhance:function(){this.element.wrap(this._button());},_button:function(){var _f3d=this.options,_f3e=this._getIconClasses(this.options);return $("<div class='ui-btn ui-input-btn"+(_f3d.wrapperClass?" "+_f3d.wrapperClass:"")+(_f3d.theme?" ui-btn-"+_f3d.theme:"")+(_f3d.corners?" ui-corner-all":"")+(_f3d.shadow?" ui-shadow":"")+(_f3d.inline?" ui-btn-inline":"")+(_f3d.mini?" ui-mini":"")+(_f3d.disabled?" ui-state-disabled":"")+(_f3e?(" "+_f3e):"")+"' >"+this.element.val()+"</div>");},widget:function(){return this.wrapper;},_destroy:function(){this.element.insertBefore(this.button);this.button.remove();},_getIconClasses:function(_f3f){return (_f3f.icon?("ui-icon-"+_f3f.icon+(_f3f.iconshadow?" ui-shadow-icon":"")+" ui-btn-icon-"+_f3f.iconpos):"");},_setOptions:function(_f40){var _f41=this.widget();if(_f40.theme!==_f3c){_f41.removeClass(this.options.theme).addClass("ui-btn-"+_f40.theme);}if(_f40.corners!==_f3c){_f41.toggleClass("ui-corner-all",_f40.corners);}if(_f40.shadow!==_f3c){_f41.toggleClass("ui-shadow",_f40.shadow);}if(_f40.inline!==_f3c){_f41.toggleClass("ui-btn-inline",_f40.inline);}if(_f40.mini!==_f3c){_f41.toggleClass("ui-mini",_f40.mini);}if(_f40.disabled!==_f3c){this.element.prop("disabled",_f40.disabled);_f41.toggleClass("ui-state-disabled",_f40.disabled);}if(_f40.icon!==_f3c||_f40.iconshadow!==_f3c||_f40.iconpos!==_f3c){_f41.removeClass(this._getIconClasses(this.options)).addClass(this._getIconClasses($.extend({},this.options,_f40)));}this._super(_f40);},refresh:function(_f42){if(this.options.icon&&this.options.iconpos==="notext"&&this.element.attr("title")){this.element.attr("title",this.element.val());}if(!_f42){var _f43=this.element.detach();$(this.wrapper).text(this.element.val()).append(_f43);}}});})(_c19);(function($){var meta=$("meta[name=viewport]"),_f44=meta.attr("content"),_f45=_f44+",maximum-scale=1, user-scalable=no",_f46=_f44+",maximum-scale=10, user-scalable=yes",_f47=/(user-scalable[\s]*=[\s]*no)|(maximum-scale[\s]*=[\s]*1)[$,\s]/.test(_f44);$.mobile.zoom=$.extend({},{enabled:!_f47,locked:false,disable:function(lock){if(!_f47&&!$.mobile.zoom.locked){meta.attr("content",_f45);$.mobile.zoom.enabled=false;$.mobile.zoom.locked=lock||false;}},enable:function(_f48){if(!_f47&&(!$.mobile.zoom.locked||_f48===true)){meta.attr("content",_f46);$.mobile.zoom.enabled=true;$.mobile.zoom.locked=false;}},restore:function(){if(!_f47){meta.attr("content",_f44);$.mobile.zoom.enabled=true;}}});}(_c19));(function($,_f49){$.widget("mobile.textinput",{initSelector:"input[type='text'],"+"input[type='search'],"+":jqmData(type='search'),"+"input[type='number'],"+":jqmData(type='number'),"+"input[type='password'],"+"input[type='email'],"+"input[type='url'],"+"input[type='tel'],"+"textarea,"+"input[type='time'],"+"input[type='date'],"+"input[type='month'],"+"input[type='week'],"+"input[type='datetime'],"+"input[type='datetime-local'],"+"input[type='color'],"+"input:not([type]),"+"input[type='file']",options:{theme:null,corners:true,mini:false,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,wrapperClass:"",enhanced:false},_create:function(){var _f4a=this.options,_f4b=this.element.is("[type='search'], :jqmData(type='search')"),_f4c=this.element[0].tagName==="TEXTAREA",_f4d=this.element.is("[data-"+($.mobile.ns||"")+"type='range']"),_f4e=((this.element.is("input")||this.element.is("[data-"+($.mobile.ns||"")+"type='search']"))&&!_f4d);if(this.element.prop("disabled")){_f4a.disabled=true;}$.extend(this,{classes:this._classesFromOptions(),isSearch:_f4b,isTextarea:_f4c,isRange:_f4d,inputNeedsWrap:_f4e});this._autoCorrect();if(!_f4a.enhanced){this._enhance();}this._on({"focus":"_handleFocus","blur":"_handleBlur"});},refresh:function(){this.setOptions({"disabled":this.element.is(":disabled")});},_enhance:function(){var _f4f=[];if(this.isTextarea){_f4f.push("ui-input-text");}if(this.isTextarea||this.isRange){_f4f.push("ui-shadow-inset");}if(this.inputNeedsWrap){this.element.wrap(this._wrap());}else{_f4f=_f4f.concat(this.classes);}this.element.addClass(_f4f.join(" "));},widget:function(){return (this.inputNeedsWrap)?this.element.parent():this.element;},_classesFromOptions:function(){var _f50=this.options,_f51=[];_f51.push("ui-body-"+((_f50.theme===null)?"inherit":_f50.theme));if(_f50.corners){_f51.push("ui-corner-all");}if(_f50.mini){_f51.push("ui-mini");}if(_f50.disabled){_f51.push("ui-state-disabled");}if(_f50.wrapperClass){_f51.push(_f50.wrapperClass);}return _f51;},_wrap:function(){return $("<div class='"+(this.isSearch?"ui-input-search ":"ui-input-text ")+this.classes.join(" ")+" "+"ui-shadow-inset'></div>");},_autoCorrect:function(){if(typeof this.element[0].autocorrect!=="undefined"&&!$.support.touchOverflow){this.element[0].setAttribute("autocorrect","off");this.element[0].setAttribute("autocomplete","off");}},_handleBlur:function(){this.widget().removeClass($.mobile.focusClass);if(this.options.preventFocusZoom){$.mobile.zoom.enable(true);}},_handleFocus:function(){if(this.options.preventFocusZoom){$.mobile.zoom.disable(true);}this.widget().addClass($.mobile.focusClass);},_setOptions:function(_f52){var _f53=this.widget();this._super(_f52);if(!(_f52.disabled===_f49&&_f52.mini===_f49&&_f52.corners===_f49&&_f52.theme===_f49&&_f52.wrapperClass===_f49)){_f53.removeClass(this.classes.join(" "));this.classes=this._classesFromOptions();_f53.addClass(this.classes.join(" "));}if(_f52.disabled!==_f49){this.element.prop("disabled",!!_f52.disabled);}},_destroy:function(){if(this.options.enhanced){return;}if(this.inputNeedsWrap){this.element.unwrap();}this.element.removeClass("ui-input-text "+this.classes.join(" "));}});})(_c19);(function($,_f54){$.widget("mobile.slider",$.extend({initSelector:"input[type='range'], :jqmData(type='range'), :jqmData(role='slider')",widgetEventPrefix:"slide",options:{theme:null,trackTheme:null,corners:true,mini:false,highlight:false},_create:function(){var self=this,_f55=this.element,_f56=this.options.trackTheme||$.mobile.getAttribute(_f55[0],"theme"),_f57=_f56?" ui-bar-"+_f56:" ui-bar-inherit",_f58=(this.options.corners||_f55.jqmData("corners"))?" ui-corner-all":"",_f59=(this.options.mini||_f55.jqmData("mini"))?" ui-mini":"",_f5a=_f55[0].nodeName.toLowerCase(),_f5b=(_f5a==="select"),_f5c=_f55.parent().is(":jqmData(role='rangeslider')"),_f5d=(_f5b)?"ui-slider-switch":"",_f5e=_f55.attr("id"),_f5f=$("[for='"+_f5e+"']"),_f60=_f5f.attr("id")||_f5e+"-label",min=!_f5b?parseFloat(_f55.attr("min")):0,max=!_f5b?parseFloat(_f55.attr("max")):_f55.find("option").length-1,step=_c1a.parseFloat(_f55.attr("step")||1),_f61=_c1b.createElement("a"),_f62=$(_f61),_f63=_c1b.createElement("div"),_f64=$(_f63),_f65=this.options.highlight&&!_f5b?(function(){var bg=_c1b.createElement("div");bg.className="ui-slider-bg "+$.mobile.activeBtnClass;return $(bg).prependTo(_f64);})():false,_f66,_f67,j,_f68,i,_f69,_f6a,side,_f6b,_f6c;_f5f.attr("id",_f60);this.isToggleSwitch=_f5b;_f61.setAttribute("href","#");_f63.setAttribute("role","application");_f63.className=[this.isToggleSwitch?"ui-slider ui-slider-track ui-shadow-inset ":"ui-slider-track ui-shadow-inset ",_f5d,_f57,_f58,_f59].join("");_f61.className="ui-slider-handle";_f63.appendChild(_f61);_f62.attr({"role":"slider","aria-valuemin":min,"aria-valuemax":max,"aria-valuenow":this._value(),"aria-valuetext":this._value(),"title":this._value(),"aria-labelledby":_f60});$.extend(this,{slider:_f64,handle:_f62,control:_f55,type:_f5a,step:step,max:max,min:min,valuebg:_f65,isRangeslider:_f5c,dragging:false,beforeStart:null,userModified:false,mouseMoved:false});if(_f5b){_f6a=_f55.attr("tabindex");if(_f6a){_f62.attr("tabindex",_f6a);}_f55.attr("tabindex","-1").focus(function(){$(this).blur();_f62.focus();});_f67=_c1b.createElement("div");_f67.className="ui-slider-inneroffset";for(j=0,_f68=_f63.childNodes.length;j<_f68;j++){_f67.appendChild(_f63.childNodes[j]);}_f63.appendChild(_f67);_f62.addClass("ui-slider-handle-snapping");_f66=_f55.find("option");for(i=0,_f69=_f66.length;i<_f69;i++){side=!i?"b":"a";_f6b=!i?"":" "+$.mobile.activeBtnClass;_f6c=_c1b.createElement("span");_f6c.className=["ui-slider-label ui-slider-label-",side,_f6b].join("");_f6c.setAttribute("role","img");_f6c.appendChild(_c1b.createTextNode(_f66[i].innerHTML));$(_f6c).prependTo(_f64);}self._labels=$(".ui-slider-label",_f64);}_f55.addClass(_f5b?"ui-slider-switch":"ui-slider-input");this._on(_f55,{"change":"_controlChange","keyup":"_controlKeyup","blur":"_controlBlur","vmouseup":"_controlVMouseUp"});_f64.bind("vmousedown",$.proxy(this._sliderVMouseDown,this)).bind("vclick",false);this._on(_c1b,{"vmousemove":"_preventDocumentDrag"});this._on(_f64.add(_c1b),{"vmouseup":"_sliderVMouseUp"});_f64.insertAfter(_f55);if(!_f5b&&!_f5c){_f67=this.options.mini?"<div class='ui-slider ui-mini'>":"<div class='ui-slider'>";_f55.add(_f64).wrapAll(_f67);}this._on(this.handle,{"vmousedown":"_handleVMouseDown","keydown":"_handleKeydown","keyup":"_handleKeyup"});this.handle.bind("vclick",false);this._handleFormReset();this.refresh(_f54,_f54,true);},_setOptions:function(_f6d){if(_f6d.theme!==_f54){this._setTheme(_f6d.theme);}if(_f6d.trackTheme!==_f54){this._setTrackTheme(_f6d.trackTheme);}if(_f6d.corners!==_f54){this._setCorners(_f6d.corners);}if(_f6d.mini!==_f54){this._setMini(_f6d.mini);}if(_f6d.highlight!==_f54){this._setHighlight(_f6d.highlight);}if(_f6d.disabled!==_f54){this._setDisabled(_f6d.disabled);}this._super(_f6d);},_controlChange:function(_f6e){if(this._trigger("controlchange",_f6e)===false){return false;}if(!this.mouseMoved){this.refresh(this._value(),true);}},_controlKeyup:function(){this.refresh(this._value(),true,true);},_controlBlur:function(){this.refresh(this._value(),true);},_controlVMouseUp:function(){this._checkedRefresh();},_handleVMouseDown:function(){this.handle.focus();},_handleKeydown:function(_f6f){var _f70=this._value();if(this.options.disabled){return;}switch(_f6f.keyCode){case $.mobile.keyCode.HOME:case $.mobile.keyCode.END:case $.mobile.keyCode.PAGE_UP:case $.mobile.keyCode.PAGE_DOWN:case $.mobile.keyCode.UP:case $.mobile.keyCode.RIGHT:case $.mobile.keyCode.DOWN:case $.mobile.keyCode.LEFT:_f6f.preventDefault();if(!this._keySliding){this._keySliding=true;this.handle.addClass("ui-state-active");}break;}switch(_f6f.keyCode){case $.mobile.keyCode.HOME:this.refresh(this.min);break;case $.mobile.keyCode.END:this.refresh(this.max);break;case $.mobile.keyCode.PAGE_UP:case $.mobile.keyCode.UP:case $.mobile.keyCode.RIGHT:this.refresh(_f70+this.step);break;case $.mobile.keyCode.PAGE_DOWN:case $.mobile.keyCode.DOWN:case $.mobile.keyCode.LEFT:this.refresh(_f70-this.step);break;}},_handleKeyup:function(){if(this._keySliding){this._keySliding=false;this.handle.removeClass("ui-state-active");}},_sliderVMouseDown:function(_f71){if(this.options.disabled||!(_f71.which===1||_f71.which===0||_f71.which===_f54)){return false;}if(this._trigger("beforestart",_f71)===false){return false;}this.dragging=true;this.userModified=false;this.mouseMoved=false;if(this.isToggleSwitch){this.beforeStart=this.element[0].selectedIndex;}this.refresh(_f71);this._trigger("start");return false;},_sliderVMouseUp:function(){if(this.dragging){this.dragging=false;if(this.isToggleSwitch){this.handle.addClass("ui-slider-handle-snapping");if(this.mouseMoved){if(this.userModified){this.refresh(this.beforeStart===0?1:0);}else{this.refresh(this.beforeStart);}}else{this.refresh(this.beforeStart===0?1:0);}}this.mouseMoved=false;this._trigger("stop");return false;}},_preventDocumentDrag:function(_f72){if(this._trigger("drag",_f72)===false){return false;}if(this.dragging&&!this.options.disabled){this.mouseMoved=true;if(this.isToggleSwitch){this.handle.removeClass("ui-slider-handle-snapping");}this.refresh(_f72);this.userModified=this.beforeStart!==this.element[0].selectedIndex;return false;}},_checkedRefresh:function(){if(this.value!==this._value()){this.refresh(this._value());}},_value:function(){return this.isToggleSwitch?this.element[0].selectedIndex:parseFloat(this.element.val());},_reset:function(){this.refresh(_f54,false,true);},refresh:function(val,_f73,_f74){var self=this,_f75=$.mobile.getAttribute(this.element[0],"theme"),_f76=this.options.theme||_f75,_f77=_f76?" ui-btn-"+_f76:"",_f78=this.options.trackTheme||_f75,_f79=_f78?" ui-bar-"+_f78:" ui-bar-inherit",_f7a=this.options.corners?" ui-corner-all":"",_f7b=this.options.mini?" ui-mini":"",left,_f7c,data,tol,_f7d,_f7e,_f7f,_f80,_f81,min,max,step,_f82,_f83,_f84,_f85,_f86,_f87,_f88,_f89;self.slider[0].className=[this.isToggleSwitch?"ui-slider ui-slider-switch ui-slider-track ui-shadow-inset":"ui-slider-track ui-shadow-inset",_f79,_f7a,_f7b].join("");if(this.options.disabled||this.element.prop("disabled")){this.disable();}this.value=this._value();if(this.options.highlight&&!this.isToggleSwitch&&this.slider.find(".ui-slider-bg").length===0){this.valuebg=(function(){var bg=_c1b.createElement("div");bg.className="ui-slider-bg "+$.mobile.activeBtnClass;return $(bg).prependTo(self.slider);})();}this.handle.addClass("ui-btn"+_f77+" ui-shadow");_f7f=this.element;_f80=!this.isToggleSwitch;_f81=_f80?[]:_f7f.find("option");min=_f80?parseFloat(_f7f.attr("min")):0;max=_f80?parseFloat(_f7f.attr("max")):_f81.length-1;step=(_f80&&parseFloat(_f7f.attr("step"))>0)?parseFloat(_f7f.attr("step")):1;if(typeof val==="object"){data=val;tol=8;left=this.slider.offset().left;_f7c=this.slider.width();_f7d=_f7c/((max-min)/step);if(!this.dragging||data.pageX<left-tol||data.pageX>left+_f7c+tol){return;}if(_f7d>1){_f7e=((data.pageX-left)/_f7c)*100;}else{_f7e=Math.round(((data.pageX-left)/_f7c)*100);}}else{if(val==null){val=_f80?parseFloat(_f7f.val()||0):_f7f[0].selectedIndex;}_f7e=(parseFloat(val)-min)/(max-min)*100;}if(isNaN(_f7e)){return;}_f82=(_f7e/100)*(max-min)+min;_f83=(_f82-min)%step;_f84=_f82-_f83;if(Math.abs(_f83)*2>=step){_f84+=(_f83>0)?step:(-step);}_f85=100/((max-min)/step);_f82=parseFloat(_f84.toFixed(5));if(typeof _f7d==="undefined"){_f7d=_f7c/((max-min)/step);}if(_f7d>1&&_f80){_f7e=(_f82-min)*_f85*(1/step);}if(_f7e<0){_f7e=0;}if(_f7e>100){_f7e=100;}if(_f82<min){_f82=min;}if(_f82>max){_f82=max;}this.handle.css("left",_f7e+"%");this.handle[0].setAttribute("aria-valuenow",_f80?_f82:_f81.eq(_f82).attr("value"));this.handle[0].setAttribute("aria-valuetext",_f80?_f82:_f81.eq(_f82).getEncodedText());this.handle[0].setAttribute("title",_f80?_f82:_f81.eq(_f82).getEncodedText());if(this.valuebg){this.valuebg.css("width",_f7e+"%");}if(this._labels){_f86=this.handle.width()/this.slider.width()*100;_f87=_f7e&&_f86+(100-_f86)*_f7e/100;_f88=_f7e===100?0:Math.min(_f86+100-_f87,100);this._labels.each(function(){var ab=$(this).hasClass("ui-slider-label-a");$(this).width((ab?_f87:_f88)+"%");});}if(!_f74){_f89=false;if(_f80){_f89=_f7f.val()!==_f82;_f7f.val(_f82);}else{_f89=_f7f[0].selectedIndex!==_f82;_f7f[0].selectedIndex=_f82;}if(this._trigger("beforechange",val)===false){return false;}if(!_f73&&_f89){_f7f.trigger("change");}}},_setHighlight:function(_f8a){_f8a=!!_f8a;if(_f8a){this.options.highlight=!!_f8a;this.refresh();}else{if(this.valuebg){this.valuebg.remove();this.valuebg=false;}}},_setTheme:function(_f8b){this.handle.removeClass("ui-btn-"+this.options.theme).addClass("ui-btn-"+_f8b);var _f8c=this.options.theme?this.options.theme:"inherit",_f8d=_f8b?_f8b:"inherit";this.control.removeClass("ui-body-"+_f8c).addClass("ui-body-"+_f8d);},_setTrackTheme:function(_f8e){var _f8f=this.options.trackTheme?this.options.trackTheme:"inherit",_f90=_f8e?_f8e:"inherit";this.slider.removeClass("ui-body-"+_f8f).addClass("ui-body-"+_f90);},_setMini:function(_f91){_f91=!!_f91;if(!this.isToggleSwitch&&!this.isRangeslider){this.slider.parent().toggleClass("ui-mini",_f91);this.element.toggleClass("ui-mini",_f91);}this.slider.toggleClass("ui-mini",_f91);},_setCorners:function(_f92){this.slider.toggleClass("ui-corner-all",_f92);if(!this.isToggleSwitch){this.control.toggleClass("ui-corner-all",_f92);}},_setDisabled:function(_f93){_f93=!!_f93;this.element.prop("disabled",_f93);this.slider.toggleClass("ui-state-disabled").attr("aria-disabled",_f93);}},$.mobile.behaviors.formReset));})(_c19);(function($,_f94){var _f95;function _f96(){if(!_f95){_f95=$("<div></div>",{"class":"ui-slider-popup ui-shadow ui-corner-all"});}return _f95.clone();};$.widget("mobile.slider",$.mobile.slider,{options:{popupEnabled:false,showValue:false},_create:function(){this._super();$.extend(this,{_currentValue:null,_popup:null,_popupVisible:false});this._setOption("popupEnabled",this.options.popupEnabled);this._on(this.handle,{"vmousedown":"_showPopup"});this._on(this.slider.add(this.document),{"vmouseup":"_hidePopup"});this._refresh();},_positionPopup:function(){var _f97=this.handle.offset();this._popup.offset({left:_f97.left+(this.handle.width()-this._popup.width())/2,top:_f97.top-this._popup.outerHeight()-5});},_setOption:function(key,_f98){this._super(key,_f98);if(key==="showValue"){this.handle.html(_f98&&!this.options.mini?this._value():"");}else{if(key==="popupEnabled"){if(_f98&&!this._popup){this._popup=_f96().addClass("ui-body-"+(this.options.theme||"a")).insertBefore(this.element);}}}},refresh:function(){this._super.apply(this,arguments);this._refresh();},_refresh:function(){var o=this.options,_f99;if(o.popupEnabled){this.handle.removeAttr("title");}_f99=this._value();if(_f99===this._currentValue){return;}this._currentValue=_f99;if(o.popupEnabled&&this._popup){this._positionPopup();this._popup.html(_f99);}else{if(o.showValue&&!this.options.mini){this.handle.html(_f99);}}},_showPopup:function(){if(this.options.popupEnabled&&!this._popupVisible){this.handle.html("");this._popup.show();this._positionPopup();this._popupVisible=true;}},_hidePopup:function(){var o=this.options;if(o.popupEnabled&&this._popupVisible){if(o.showValue&&!o.mini){this.handle.html(this._value());}this._popup.hide();this._popupVisible=false;}}});})(_c19);(function($,_f9a){$.widget("mobile.flipswitch",$.extend({options:{onText:"On",offText:"Off",theme:null,enhanced:false,wrapperClass:null,corners:true,mini:false},_create:function(){if(!this.options.enhanced){this._enhance();}else{$.extend(this,{flipswitch:this.element.parent(),on:this.element.find(".ui-flipswitch-on").eq(0),off:this.element.find(".ui-flipswitch-off").eq(0),type:this.element.get(0).tagName});}this._handleFormReset();if(this.element.is(":disabled")){this._setOptions({"disabled":true});}this._on(this.flipswitch,{"click":"_toggle","swipeleft":"_left","swiperight":"_right"});this._on(this.on,{"keydown":"_keydown"});this._on({"change":"refresh"});},widget:function(){return this.flipswitch;},_left:function(){this.flipswitch.removeClass("ui-flipswitch-active");if(this.type==="SELECT"){this.element.get(0).selectedIndex=0;}else{this.element.prop("checked",false);}this.element.trigger("change");},_right:function(){this.flipswitch.addClass("ui-flipswitch-active");if(this.type==="SELECT"){this.element.get(0).selectedIndex=1;}else{this.element.prop("checked",true);}this.element.trigger("change");},_enhance:function(){var _f9b=$("<div>"),_f9c=this.options,_f9d=this.element,_f9e=_f9c.theme?_f9c.theme:"inherit",on=$("<span></span>",{tabindex:1}),off=$("<span></span>"),type=_f9d.get(0).tagName,_f9f=(type==="INPUT")?_f9c.onText:_f9d.find("option").eq(1).text(),_fa0=(type==="INPUT")?_f9c.offText:_f9d.find("option").eq(0).text();on.addClass("ui-flipswitch-on ui-btn ui-shadow ui-btn-inherit").text(_f9f);off.addClass("ui-flipswitch-off").text(_fa0);_f9b.addClass("ui-flipswitch ui-shadow-inset "+"ui-bar-"+_f9e+" "+(_f9c.wrapperClass?_f9c.wrapperClass:"")+" "+((_f9d.is(":checked")||_f9d.find("option").eq(1).is(":selected"))?"ui-flipswitch-active":"")+(_f9d.is(":disabled")?" ui-state-disabled":"")+(_f9c.corners?" ui-corner-all":"")+(_f9c.mini?" ui-mini":"")).append(on,off);_f9d.addClass("ui-flipswitch-input").after(_f9b).appendTo(_f9b);$.extend(this,{flipswitch:_f9b,on:on,off:off,type:type});},_reset:function(){this.refresh();},refresh:function(){var _fa1,_fa2=this.flipswitch.hasClass("ui-flipswitch-active")?"_right":"_left";if(this.type==="SELECT"){_fa1=(this.element.get(0).selectedIndex>0)?"_right":"_left";}else{_fa1=this.element.prop("checked")?"_right":"_left";}if(_fa1!==_fa2){this[_fa1]();}},_toggle:function(){var _fa3=this.flipswitch.hasClass("ui-flipswitch-active")?"_left":"_right";this[_fa3]();},_keydown:function(e){if(e.which===$.mobile.keyCode.LEFT){this._left();}else{if(e.which===$.mobile.keyCode.RIGHT){this._right();}else{if(e.which===$.mobile.keyCode.SPACE){this._toggle();e.preventDefault();}}}},_setOptions:function(_fa4){if(_fa4.theme!==_f9a){var _fa5=_fa4.theme?_fa4.theme:"inherit",_fa6=_fa4.theme?_fa4.theme:"inherit";this.widget().removeClass("ui-bar-"+_fa5).addClass("ui-bar-"+_fa6);}if(_fa4.onText!==_f9a){this.on.text(_fa4.onText);}if(_fa4.offText!==_f9a){this.off.text(_fa4.offText);}if(_fa4.disabled!==_f9a){this.widget().toggleClass("ui-state-disabled",_fa4.disabled);}if(_fa4.mini!==_f9a){this.widget().toggleClass("ui-mini",_fa4.mini);}if(_fa4.corners!==_f9a){this.widget().toggleClass("ui-corner-all",_fa4.corners);}this._super(_fa4);},_destroy:function(){if(this.options.enhanced){return;}this.on.remove();this.off.remove();this.element.unwrap();this.flipswitch.remove();this.removeClass("ui-flipswitch-input");}},$.mobile.behaviors.formReset));})(_c19);(function($,_fa7){$.widget("mobile.rangeslider",$.extend({options:{theme:null,trackTheme:null,corners:true,mini:false,highlight:true},_create:function(){var $el=this.element,_fa8=this.options.mini?"ui-rangeslider ui-mini":"ui-rangeslider",_fa9=$el.find("input").first(),_faa=$el.find("input").last(),_fab=$el.find("label").first(),_fac=$.data(_fa9.get(0),"mobile-slider")||$.data(_fa9.slider().get(0),"mobile-slider"),_fad=$.data(_faa.get(0),"mobile-slider")||$.data(_faa.slider().get(0),"mobile-slider"),_fae=_fac.slider,_faf=_fad.slider,_fb0=_fac.handle,_fb1=$("<div class='ui-rangeslider-sliders' />").appendTo($el);_fa9.addClass("ui-rangeslider-first");_faa.addClass("ui-rangeslider-last");$el.addClass(_fa8);_fae.appendTo(_fb1);_faf.appendTo(_fb1);_fab.insertBefore($el);_fb0.prependTo(_faf);$.extend(this,{_inputFirst:_fa9,_inputLast:_faa,_sliderFirst:_fae,_sliderLast:_faf,_label:_fab,_targetVal:null,_sliderTarget:false,_sliders:_fb1,_proxy:false});this.refresh();this._on(this.element.find("input.ui-slider-input"),{"slidebeforestart":"_slidebeforestart","slidestop":"_slidestop","slidedrag":"_slidedrag","slidebeforechange":"_change","blur":"_change","keyup":"_change"});this._on({"mousedown":"_change"});this._on(this.element.closest("form"),{"reset":"_handleReset"});this._on(_fb0,{"vmousedown":"_dragFirstHandle"});},_handleReset:function(){var self=this;setTimeout(function(){self._updateHighlight();},0);},_dragFirstHandle:function(_fb2){$.data(this._inputFirst.get(0),"mobile-slider").dragging=true;$.data(this._inputFirst.get(0),"mobile-slider").refresh(_fb2);return false;},_slidedrag:function(_fb3){var _fb4=$(_fb3.target).is(this._inputFirst),_fb5=(_fb4)?this._inputLast:this._inputFirst;this._sliderTarget=false;if((this._proxy==="first"&&_fb4)||(this._proxy==="last"&&!_fb4)){$.data(_fb5.get(0),"mobile-slider").dragging=true;$.data(_fb5.get(0),"mobile-slider").refresh(_fb3);return false;}},_slidestop:function(_fb6){var _fb7=$(_fb6.target).is(this._inputFirst);this._proxy=false;this.element.find("input").trigger("vmouseup");this._sliderFirst.css("z-index",_fb7?1:"");},_slidebeforestart:function(_fb8){this._sliderTarget=false;if($(_fb8.originalEvent.target).hasClass("ui-slider-track")){this._sliderTarget=true;this._targetVal=$(_fb8.target).val();}},_setOptions:function(_fb9){if(_fb9.theme!==_fa7){this._setTheme(_fb9.theme);}if(_fb9.trackTheme!==_fa7){this._setTrackTheme(_fb9.trackTheme);}if(_fb9.mini!==_fa7){this._setMini(_fb9.mini);}if(_fb9.highlight!==_fa7){this._setHighlight(_fb9.highlight);}this._super(_fb9);this.refresh();},refresh:function(){var $el=this.element,o=this.options;if(this._inputFirst.is(":disabled")||this._inputLast.is(":disabled")){this.options.disabled=true;}$el.find("input").slider({theme:o.theme,trackTheme:o.trackTheme,disabled:o.disabled,corners:o.corners,mini:o.mini,highlight:o.highlight}).slider("refresh");this._updateHighlight();},_change:function(_fba){if(_fba.type==="keyup"){this._updateHighlight();return false;}var self=this,min=parseFloat(this._inputFirst.val(),10),max=parseFloat(this._inputLast.val(),10),_fbb=$(_fba.target).hasClass("ui-rangeslider-first"),_fbc=_fbb?this._inputFirst:this._inputLast,_fbd=_fbb?this._inputLast:this._inputFirst;if((this._inputFirst.val()>this._inputLast.val()&&_fba.type==="mousedown"&&!$(_fba.target).hasClass("ui-slider-handle"))){_fbc.blur();}else{if(_fba.type==="mousedown"){return;}}if(min>max&&!this._sliderTarget){_fbc.val(_fbb?max:min).slider("refresh");this._trigger("normalize");}else{if(min>max){_fbc.val(this._targetVal).slider("refresh");setTimeout(function(){_fbd.val(_fbb?min:max).slider("refresh");$.data(_fbd.get(0),"mobile-slider").handle.focus();self._sliderFirst.css("z-index",_fbb?"":1);self._trigger("normalize");},0);this._proxy=(_fbb)?"first":"last";}}if(min===max){$.data(_fbc.get(0),"mobile-slider").handle.css("z-index",1);$.data(_fbd.get(0),"mobile-slider").handle.css("z-index",0);}else{$.data(_fbd.get(0),"mobile-slider").handle.css("z-index","");$.data(_fbc.get(0),"mobile-slider").handle.css("z-index","");}this._updateHighlight();if(min>=max){return false;}},_updateHighlight:function(){var min=parseInt($.data(this._inputFirst.get(0),"mobile-slider").handle.get(0).style.left,10),max=parseInt($.data(this._inputLast.get(0),"mobile-slider").handle.get(0).style.left,10),_fbe=(max-min);this.element.find(".ui-slider-bg").css({"margin-left":min+"%","width":_fbe+"%"});},_setTheme:function(_fbf){this._inputFirst.slider("option","theme",_fbf);this._inputLast.slider("option","theme",_fbf);},_setTrackTheme:function(_fc0){this._inputFirst.slider("option","trackTheme",_fc0);this._inputLast.slider("option","trackTheme",_fc0);},_setMini:function(_fc1){this._inputFirst.slider("option","mini",_fc1);this._inputLast.slider("option","mini",_fc1);this.element.toggleClass("ui-mini",!!_fc1);},_setHighlight:function(_fc2){this._inputFirst.slider("option","highlight",_fc2);this._inputLast.slider("option","highlight",_fc2);},_destroy:function(){this._label.prependTo(this.element);this.element.removeClass("ui-rangeslider ui-mini");this._inputFirst.after(this._sliderFirst);this._inputLast.after(this._sliderLast);this._sliders.remove();this.element.find("input").removeClass("ui-rangeslider-first ui-rangeslider-last").slider("destroy");}},$.mobile.behaviors.formReset));})(_c19);(function($,_fc3){$.widget("mobile.textinput",$.mobile.textinput,{options:{clearBtn:false,clearBtnText:"Clear text"},_create:function(){this._super();if(!!this.options.clearBtn||this.isSearch){this._addClearBtn();}},clearButton:function(){return $("<a href='#' class='ui-input-clear ui-btn ui-icon-delete ui-btn-icon-notext ui-corner-all"+"' title='"+this.options.clearBtnText+"'>"+this.options.clearBtnText+"</a>");},_clearBtnClick:function(_fc4){this.element.val("").focus().trigger("change");this._clearBtn.addClass("ui-input-clear-hidden");_fc4.preventDefault();},_addClearBtn:function(){if(!this.options.enhanced){this._enhanceClear();}$.extend(this,{_clearBtn:this.widget().find("a.ui-input-clear")});this._bindClearEvents();this._toggleClear();},_enhanceClear:function(){this.clearButton().appendTo(this.widget());this.widget().addClass("ui-input-has-clear");},_bindClearEvents:function(){this._on(this._clearBtn,{"click":"_clearBtnClick"});this._on({"keyup":"_toggleClear","change":"_toggleClear","input":"_toggleClear","focus":"_toggleClear","blur":"_toggleClear","cut":"_toggleClear","paste":"_toggleClear"});},_unbindClear:function(){this._off(this._clearBtn,"click");this._off(this.element,"keyup change input focus blur cut paste");},_setOptions:function(_fc5){this._super(_fc5);if(_fc5.clearbtn!==_fc3&&!this.element.is("textarea, :jqmData(type='range')")){if(_fc5.clearBtn){this._addClearBtn();}else{this._destroyClear();}}if(_fc5.clearBtnText!==_fc3&&this._clearBtn!==_fc3){this._clearBtn.text(_fc5.clearBtnText);}},_toggleClear:function(){this._delay("_toggleClearClass",0);},_toggleClearClass:function(){this._clearBtn.toggleClass("ui-input-clear-hidden",!this.element.val());},_destroyClear:function(){this.element.removeClass("ui-input-has-clear");this._unbindClear()._clearBtn.remove();},_destroy:function(){this._super();this._destroyClear();}});})(_c19);(function($,_fc6){$.widget("mobile.textinput",$.mobile.textinput,{options:{autogrow:true,keyupTimeoutBuffer:100},_create:function(){this._super();if(this.options.autogrow&&this.isTextarea){this._autogrow();}},_autogrow:function(){this._on({"keyup":"_timeout","change":"_timeout","input":"_timeout","paste":"_timeout",});this._on(true,this.document,{"pageshow":"_handleShow","popupbeforeposition":"_handleShow","updatelayout":"_handleShow","panelopen":"_handleShow"});},_handleShow:function(_fc7){if($.contains(_fc7.target,this.element[0])&&this.element.is(":visible")){if(_fc7.type!=="popupbeforeposition"){this.element.addClass("ui-textinput-autogrow-resize").one("transitionend webkitTransitionEnd oTransitionEnd",$.proxy(function(){this.element.removeClass("ui-textinput-autogrow-resize");},this));}this._prepareHeightUpdate();}},_unbindAutogrow:function(){this._off(this.element,"keyup change input paste");this._off(this.document,"pageshow popupbeforeposition updatelayout panelopen");},keyupTimeout:null,_prepareHeightUpdate:function(_fc8){if(this.keyupTimeout){clearTimeout(this.keyupTimeout);}if(_fc8===_fc6){this._updateHeight();}else{this.keyupTimeout=this._delay("_updateHeight",_fc8);}},_timeout:function(){this._prepareHeightUpdate(this.options.keyupTimeoutBuffer);},_updateHeight:function(){this.keyupTimeout=0;this.element.css({"height":0,"min-height":0,"max-height":0});var _fc9,_fca,_fcb,_fcc=this.element[0].scrollHeight,_fcd=this.element[0].clientHeight,_fce=parseFloat(this.element.css("border-top-width")),_fcf=parseFloat(this.element.css("border-bottom-width")),_fd0=_fce+_fcf,_fd1=_fcc+_fd0+15;if(_fcd===0){_fc9=parseFloat(this.element.css("padding-top"));_fca=parseFloat(this.element.css("padding-bottom"));_fcb=_fc9+_fca;_fd1+=_fcb;}this.element.css({"height":_fd1,"min-height":"","max-height":""});},refresh:function(){if(this.options.autogrow&&this.isTextarea){this._updateHeight();}},_setOptions:function(_fd2){this._super(_fd2);if(_fd2.autogrow!==_fc6&&this.isTextarea){if(_fd2.autogrow){this._autogrow();}else{this._unbindAutogrow();}}}});})(_c19);(function($,_fd3){$.widget("mobile.selectmenu",$.extend({initSelector:"select:not( :jqmData(role='slider')):not( :jqmData(role='flipswitch') )",options:{theme:null,icon:"carat-d",iconpos:"right",inline:false,corners:true,shadow:true,iconshadow:false,overlayTheme:null,dividerTheme:null,hidePlaceholderMenuItems:true,closeText:"Close",nativeMenu:true,preventFocusZoom:/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1,mini:false},_button:function(){return $("<div/>");},_setDisabled:function(_fd4){this.element.attr("disabled",_fd4);this.button.attr("aria-disabled",_fd4);return this._setOption("disabled",_fd4);},_focusButton:function(){var self=this;setTimeout(function(){self.button.focus();},40);},_selectOptions:function(){return this.select.find("option");},_preExtension:function(){var _fd5=this.options.inline||this.element.jqmData("inline"),mini=this.options.mini||this.element.jqmData("mini"),_fd6="";if(!!~this.element[0].className.indexOf("ui-btn-left")){_fd6=" ui-btn-left";}if(!!~this.element[0].className.indexOf("ui-btn-right")){_fd6=" ui-btn-right";}if(_fd5){_fd6+=" ui-btn-inline";}if(mini){_fd6+=" ui-mini";}this.select=this.element.removeClass("ui-btn-left ui-btn-right").wrap("<div class='ui-select"+_fd6+"'>");this.selectId=this.select.attr("id")||("select-"+this.uuid);this.buttonId=this.selectId+"-button";this.label=$("label[for='"+this.selectId+"']");this.isMultiple=this.select[0].multiple;},_destroy:function(){var _fd7=this.element.parents(".ui-select");if(_fd7.length>0){if(_fd7.is(".ui-btn-left, .ui-btn-right")){this.element.addClass(_fd7.hasClass("ui-btn-left")?"ui-btn-left":"ui-btn-right");}this.element.insertAfter(_fd7);_fd7.remove();}},_create:function(){this._preExtension();this.button=this._button();var self=this,_fd8=this.options,_fd9=_fd8.icon?(_fd8.iconpos||this.select.jqmData("iconpos")):false,_fda=this.button.insertBefore(this.select).attr("id",this.buttonId).addClass("ui-btn"+(_fd8.icon?(" ui-icon-"+_fd8.icon+" ui-btn-icon-"+_fd9+(_fd8.iconshadow?" ui-shadow-icon":"")):"")+(_fd8.theme?" ui-btn-"+_fd8.theme:"")+(_fd8.corners?" ui-corner-all":"")+(_fd8.shadow?" ui-shadow":""));this.setButtonText();if(_fd8.nativeMenu&&_c1a.opera&&_c1a.opera.version){_fda.addClass("ui-select-nativeonly");}if(this.isMultiple){this.buttonCount=$("<span>").addClass("ui-li-count ui-body-inherit").hide().appendTo(_fda.addClass("ui-li-has-count"));}if(_fd8.disabled||this.element.attr("disabled")){this.disable();}this.select.change(function(){self.refresh();if(!!_fd8.nativeMenu){this.blur();}});this._handleFormReset();this._on(this.button,{keydown:"_handleKeydown"});this.build();},build:function(){var self=this;this.select.appendTo(self.button).bind("vmousedown",function(){self.button.addClass($.mobile.activeBtnClass);}).bind("focus",function(){self.button.addClass($.mobile.focusClass);}).bind("blur",function(){self.button.removeClass($.mobile.focusClass);}).bind("focus vmouseover",function(){self.button.trigger("vmouseover");}).bind("vmousemove",function(){self.button.removeClass($.mobile.activeBtnClass);}).bind("change blur vmouseout",function(){self.button.trigger("vmouseout").removeClass($.mobile.activeBtnClass);});self.button.bind("vmousedown",function(){if(self.options.preventFocusZoom){$.mobile.zoom.disable(true);}});self.label.bind("click focus",function(){if(self.options.preventFocusZoom){$.mobile.zoom.disable(true);}});self.select.bind("focus",function(){if(self.options.preventFocusZoom){$.mobile.zoom.disable(true);}});self.button.bind("mouseup",function(){if(self.options.preventFocusZoom){setTimeout(function(){$.mobile.zoom.enable(true);},0);}});self.select.bind("blur",function(){if(self.options.preventFocusZoom){$.mobile.zoom.enable(true);}});},selected:function(){return this._selectOptions().filter(":selected");},selectedIndices:function(){var self=this;return this.selected().map(function(){return self._selectOptions().index(this);}).get();},setButtonText:function(){var self=this,_fdb=this.selected(),text=this.placeholder,span=$(_c1b.createElement("span"));this.button.children("span").not(".ui-li-count").remove().end().end().prepend((function(){if(_fdb.length){text=_fdb.map(function(){return $(this).text();}).get().join(", ");}else{text=self.placeholder;}if(text){span.text(text);}else{span.html("&nbsp;");}return span.addClass(self.select.attr("class")).addClass(_fdb.attr("class")).removeClass("ui-screen-hidden");})());},setButtonCount:function(){var _fdc=this.selected();if(this.isMultiple){this.buttonCount[_fdc.length>1?"show":"hide"]().text(_fdc.length);}},_handleKeydown:function(){this._delay("_refreshButton");},_reset:function(){this.refresh();},_refreshButton:function(){this.setButtonText();this.setButtonCount();},refresh:function(){this._refreshButton();},open:$.noop,close:$.noop,disable:function(){this._setDisabled(true);this.button.addClass("ui-state-disabled");},enable:function(){this._setDisabled(false);this.button.removeClass("ui-state-disabled");}},$.mobile.behaviors.formReset));})(_c19);(function($,_fdd){$.mobile.links=function(_fde){$(_fde).find("a").jqmEnhanceable().filter(":jqmData(rel='popup')[href][href!='']").each(function(){var _fdf=this,_fe0=_fdf.getAttribute("href").substring(1);if(_fe0){_fdf.setAttribute("aria-haspopup",true);_fdf.setAttribute("aria-owns",_fe0);_fdf.setAttribute("aria-expanded",false);}}).end().not(".ui-btn, :jqmData(role='none'), :jqmData(role='nojs')").addClass("ui-link");};})(_c19);(function($,_fe1){function _fe2(_fe3,_fe4,_fe5,_fe6){var _fe7=_fe6;if(_fe3<_fe4){_fe7=_fe5+(_fe3-_fe4)/2;}else{_fe7=Math.min(Math.max(_fe5,_fe6-_fe4/2),_fe5+_fe3-_fe4);}return _fe7;};function _fe8(_fe9){return {x:_fe9.scrollLeft(),y:_fe9.scrollTop(),cx:(_fe9[0].innerWidth||_fe9.width()),cy:(_fe9[0].innerHeight||_fe9.height())};};$.widget("mobile.popup",{options:{wrapperClass:null,theme:null,overlayTheme:null,shadow:true,corners:true,transition:"none",positionTo:"origin",tolerance:null,closeLinkSelector:"a:jqmData(rel='back')",closeLinkEvents:"click.popup",navigateEvents:"navigate.popup",closeEvents:"navigate.popup pagebeforechange.popup",dismissible:true,enhanced:false,history:!$.mobile.browser.oldIE},_create:function(){var _fea=this.element,myId=_fea.attr("id"),_feb=this.options;_feb.history=_feb.history&&$.mobile.ajaxEnabled&&$.mobile.hashListeningEnabled;$.extend(this,{_scrollTop:0,_page:_fea.closest(".ui-page"),_ui:null,_fallbackTransition:"",_currentTransition:false,_prerequisites:null,_isOpen:false,_tolerance:null,_resizeData:null,_ignoreResizeTo:0,_orientationchangeInProgress:false});if(this._page.length===0){this._page=$("body");}if(_feb.enhanced){this._ui={container:_fea.parent(),screen:_fea.parent().prev(),placeholder:$(this.document[0].getElementById(myId+"-placeholder"))};}else{this._ui=this._enhance(_fea,myId);this._applyTransition(_feb.transition);}this._setTolerance(_feb.tolerance)._ui.focusElement=this._ui.container;this._on(this._ui.screen,{"vclick":"_eatEventAndClose"});this._on(this.window,{orientationchange:$.proxy(this,"_handleWindowOrientationchange"),resize:$.proxy(this,"_handleWindowResize"),keyup:$.proxy(this,"_handleWindowKeyUp")});this._on(this.document,{"focusin":"_handleDocumentFocusIn"});},_enhance:function(_fec,myId){var _fed=this.options,_fee=_fed.wrapperClass,ui={screen:$("<div class='ui-screen-hidden ui-popup-screen "+this._themeClassFromOption("ui-overlay-",_fed.overlayTheme)+"'></div>"),placeholder:$("<div style='display: none;'><!-- placeholder --></div>"),container:$("<div class='ui-popup-container ui-popup-hidden ui-popup-truncate"+(_fee?(" "+_fee):"")+"'></div>")},_fef=this.document[0].createDocumentFragment();_fef.appendChild(ui.screen[0]);_fef.appendChild(ui.container[0]);if(myId){ui.screen.attr("id",myId+"-screen");ui.container.attr("id",myId+"-popup");ui.placeholder.attr("id",myId+"-placeholder").html("<!-- placeholder for "+myId+" -->");}this._page[0].appendChild(_fef);ui.placeholder.insertAfter(_fec);_fec.detach().addClass("ui-popup "+this._themeClassFromOption("ui-body-",_fed.theme)+" "+(_fed.shadow?"ui-overlay-shadow ":"")+(_fed.corners?"ui-corner-all ":"")).appendTo(ui.container);return ui;},_eatEventAndClose:function(_ff0){_ff0.preventDefault();_ff0.stopImmediatePropagation();if(this.options.dismissible){this.close();}return false;},_resizeScreen:function(){var _ff1=this._ui.screen,_ff2=this._ui.container.outerHeight(true),_ff3=_ff1.removeAttr("style").height(),_ff4=this.document.height()-1;if(_ff3<_ff4){_ff1.height(_ff4);}else{if(_ff2>_ff3){_ff1.height(_ff2);}}},_handleWindowKeyUp:function(_ff5){if(this._isOpen&&_ff5.keyCode===$.mobile.keyCode.ESCAPE){return this._eatEventAndClose(_ff5);}},_expectResizeEvent:function(){var _ff6=_fe8(this.window);if(this._resizeData){if(_ff6.x===this._resizeData.windowCoordinates.x&&_ff6.y===this._resizeData.windowCoordinates.y&&_ff6.cx===this._resizeData.windowCoordinates.cx&&_ff6.cy===this._resizeData.windowCoordinates.cy){return false;}else{clearTimeout(this._resizeData.timeoutId);}}this._resizeData={timeoutId:this._delay("_resizeTimeout",200),windowCoordinates:_ff6};return true;},_resizeTimeout:function(){if(this._isOpen){if(!this._expectResizeEvent()){if(this._ui.container.hasClass("ui-popup-hidden")){this._ui.container.removeClass("ui-popup-hidden ui-popup-truncate");this.reposition({positionTo:"window"});this._ignoreResizeEvents();}this._resizeScreen();this._resizeData=null;this._orientationchangeInProgress=false;}}else{this._resizeData=null;this._orientationchangeInProgress=false;}},_stopIgnoringResizeEvents:function(){this._ignoreResizeTo=0;},_ignoreResizeEvents:function(){if(this._ignoreResizeTo){clearTimeout(this._ignoreResizeTo);}this._ignoreResizeTo=this._delay("_stopIgnoringResizeEvents",1000);},_handleWindowResize:function(){if(this._isOpen&&this._ignoreResizeTo===0){if((this._expectResizeEvent()||this._orientationchangeInProgress)&&!this._ui.container.hasClass("ui-popup-hidden")){this._ui.container.addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style");}}},_handleWindowOrientationchange:function(){if(!this._orientationchangeInProgress&&this._isOpen&&this._ignoreResizeTo===0){this._expectResizeEvent();this._orientationchangeInProgress=true;}},_handleDocumentFocusIn:function(_ff7){var _ff8,_ff9=_ff7.target,ui=this._ui;if(!this._isOpen){return;}if(_ff9!==ui.container[0]){_ff8=$(_ff9);if(0===_ff8.parents().filter(ui.container[0]).length){$(this.document[0].activeElement).one("focus",function(){_ff8.blur();});ui.focusElement.focus();_ff7.preventDefault();_ff7.stopImmediatePropagation();return false;}else{if(ui.focusElement[0]===ui.container[0]){ui.focusElement=_ff8;}}}this._ignoreResizeEvents();},_themeClassFromOption:function(_ffa,_ffb){return (_ffb?(_ffb==="none"?"":(_ffa+_ffb)):(_ffa+"inherit"));},_applyTransition:function(_ffc){if(_ffc){this._ui.container.removeClass(this._fallbackTransition);if(_ffc!=="none"){this._fallbackTransition=$.mobile._maybeDegradeTransition(_ffc);if(this._fallbackTransition==="none"){this._fallbackTransition="";}this._ui.container.addClass(this._fallbackTransition);}}return this;},_setOptions:function(_ffd){var _ffe=this.options,_fff=this.element,_1000=this._ui.screen;if(_ffd.wrapperClass!==_fe1){this._ui.container.removeClass(_ffe.wrapperClass).addClass(_ffd.wrapperClass);}if(_ffd.theme!==_fe1){_fff.removeClass(this._themeClassFromOption("ui-body-",_ffe.theme)).addClass(this._themeClassFromOption("ui-body-",_ffd.theme));}if(_ffd.overlayTheme!==_fe1){_1000.removeClass(this._themeClassFromOption("ui-overlay-",_ffe.overlayTheme)).addClass(this._themeClassFromOption("ui-overlay-",_ffd.overlayTheme));if(this._isOpen){_1000.addClass("in");}}if(_ffd.shadow!==_fe1){_fff.toggleClass("ui-overlay-shadow",_ffd.shadow);}if(_ffd.corners!==_fe1){_fff.toggleClass("ui-corner-all",_ffd.corners);}if(_ffd.transition!==_fe1){if(!this._currentTransition){this._applyTransition(_ffd.transition);}}if(_ffd.tolerance!==_fe1){this._setTolerance(_ffd.tolerance);}if(_ffd.disabled!==_fe1){if(_ffd.disabled){this.close();}}return this._super(_ffd);},_setTolerance:function(value){var tol={t:30,r:15,b:30,l:15},ar;if(value!==_fe1){ar=String(value).split(",");$.each(ar,function(idx,val){ar[idx]=parseInt(val,10);});switch(ar.length){case 1:if(!isNaN(ar[0])){tol.t=tol.r=tol.b=tol.l=ar[0];}break;case 2:if(!isNaN(ar[0])){tol.t=tol.b=ar[0];}if(!isNaN(ar[1])){tol.l=tol.r=ar[1];}break;case 4:if(!isNaN(ar[0])){tol.t=ar[0];}if(!isNaN(ar[1])){tol.r=ar[1];}if(!isNaN(ar[2])){tol.b=ar[2];}if(!isNaN(ar[3])){tol.l=ar[3];}break;default:break;}}this._tolerance=tol;return this;},_clampPopupWidth:function(_1001){var _1002,_1003=_fe8(this.window),_1004={x:this._tolerance.l,y:_1003.y+this._tolerance.t,cx:_1003.cx-this._tolerance.l-this._tolerance.r,cy:_1003.cy-this._tolerance.t-this._tolerance.b};if(!_1001){this._ui.container.css("max-width",_1004.cx);}_1002={cx:this._ui.container.outerWidth(true),cy:this._ui.container.outerHeight(true)};return {rc:_1004,menuSize:_1002};},_calculateFinalLocation:function(_1005,_1006){var _1007,_1008=_1006.rc,_1009=_1006.menuSize;_1007={left:_fe2(_1008.cx,_1009.cx,_1008.x,_1005.x),top:_fe2(_1008.cy,_1009.cy,_1008.y,_1005.y)};_1007.top=Math.max(0,_1007.top);_1007.top-=Math.min(_1007.top,Math.max(0,_1007.top+_1009.cy-this.document.height()));return _1007;},_placementCoords:function(_100a){return this._calculateFinalLocation(_100a,this._clampPopupWidth());},_createPrerequisites:function(_100b,_100c,_100d){var _100e,self=this;_100e={screen:$.Deferred(),container:$.Deferred()};_100e.screen.then(function(){if(_100e===self._prerequisites){_100b();}});_100e.container.then(function(){if(_100e===self._prerequisites){_100c();}});$.when(_100e.screen,_100e.container).done(function(){if(_100e===self._prerequisites){self._prerequisites=null;_100d();}});self._prerequisites=_100e;},_animate:function(args){this._ui.screen.removeClass(args.classToRemove).addClass(args.screenClassToAdd);args.prerequisites.screen.resolve();if(args.transition&&args.transition!=="none"){if(args.applyTransition){this._applyTransition(args.transition);}if(this._fallbackTransition){this._ui.container.animationComplete($.proxy(args.prerequisites.container,"resolve")).addClass(args.containerClassToAdd).removeClass(args.classToRemove);return;}}this._ui.container.removeClass(args.classToRemove);args.prerequisites.container.resolve();},_desiredCoords:function(_100f){var _1010,dst=null,_1011=_fe8(this.window),x=_100f.x,y=_100f.y,pTo=_100f.positionTo;if(pTo&&pTo!=="origin"){if(pTo==="window"){x=_1011.cx/2+_1011.x;y=_1011.cy/2+_1011.y;}else{try{dst=$(pTo);}catch(err){dst=null;}if(dst){dst.filter(":visible");if(dst.length===0){dst=null;}}}}if(dst){_1010=dst.offset();x=_1010.left+dst.outerWidth()/2;y=_1010.top+dst.outerHeight()/2;}if($.type(x)!=="number"||isNaN(x)){x=_1011.cx/2+_1011.x;}if($.type(y)!=="number"||isNaN(y)){y=_1011.cy/2+_1011.y;}return {x:x,y:y};},_reposition:function(_1012){_1012={x:_1012.x,y:_1012.y,positionTo:_1012.positionTo};this._trigger("beforeposition",_fe1,_1012);this._ui.container.offset(this._placementCoords(this._desiredCoords(_1012)));},reposition:function(_1013){if(this._isOpen){this._reposition(_1013);}},_openPrerequisitesComplete:function(){var id=this.element.attr("id");this._ui.container.addClass("ui-popup-active");this._isOpen=true;this._resizeScreen();this._ui.container.attr("tabindex","0").focus();this._ignoreResizeEvents();if(id){this.document.find("[aria-haspopup='true'][aria-owns='"+id+"']").attr("aria-expanded",true);}this._trigger("afteropen");},_open:function(_1014){var _1015=$.extend({},this.options,_1014),_1016=(function(){var ua=navigator.userAgent,_1017=ua.match(/AppleWebKit\/([0-9\.]+)/),_1018=!!_1017&&_1017[1],_1019=ua.match(/Android (\d+(?:\.\d+))/),_101a=!!_1019&&_1019[1],_101b=ua.indexOf("Chrome")>-1;if(_1019!==null&&_101a==="4.0"&&_1018&&_1018>534.13&&!_101b){return true;}return false;}());this._createPrerequisites($.noop,$.noop,$.proxy(this,"_openPrerequisitesComplete"));this._currentTransition=_1015.transition;this._applyTransition(_1015.transition);this._ui.screen.removeClass("ui-screen-hidden");this._ui.container.removeClass("ui-popup-truncate");this._reposition(_1015);this._ui.container.removeClass("ui-popup-hidden");if(this.options.overlayTheme&&_1016){this.element.closest(".ui-page").addClass("ui-popup-open");}this._animate({additionalCondition:true,transition:_1015.transition,classToRemove:"",screenClassToAdd:"in",containerClassToAdd:"in",applyTransition:false,prerequisites:this._prerequisites});},_closePrerequisiteScreen:function(){this._ui.screen.removeClass("out").addClass("ui-screen-hidden");},_closePrerequisiteContainer:function(){this._ui.container.removeClass("reverse out").addClass("ui-popup-hidden ui-popup-truncate").removeAttr("style");},_closePrerequisitesDone:function(){var _101c=this._ui.container,id=this.element.attr("id");_101c.removeAttr("tabindex");$.mobile.popup.active=_fe1;$(":focus",_101c[0]).add(_101c[0]).blur();if(id){this.document.find("[aria-haspopup='true'][aria-owns='"+id+"']").attr("aria-expanded",false);}this._trigger("afterclose");},_close:function(_101d){this._ui.container.removeClass("ui-popup-active");this._page.removeClass("ui-popup-open");this._isOpen=false;this._createPrerequisites($.proxy(this,"_closePrerequisiteScreen"),$.proxy(this,"_closePrerequisiteContainer"),$.proxy(this,"_closePrerequisitesDone"));this._animate({additionalCondition:this._ui.screen.hasClass("in"),transition:(_101d?"none":(this._currentTransition)),classToRemove:"in",screenClassToAdd:"out",containerClassToAdd:"reverse out",applyTransition:true,prerequisites:this._prerequisites});},_unenhance:function(){if(this.options.enhanced){return;}this._setOptions({theme:$.mobile.popup.prototype.options.theme});this.element.detach().insertAfter(this._ui.placeholder).removeClass("ui-popup ui-overlay-shadow ui-corner-all ui-body-inherit");this._ui.screen.remove();this._ui.container.remove();this._ui.placeholder.remove();},_destroy:function(){if($.mobile.popup.active===this){this.element.one("popupafterclose",$.proxy(this,"_unenhance"));this.close();}else{this._unenhance();}return this;},_closePopup:function(_101e,data){var _101f,toUrl,_1020=this.options,_1021=false;if((_101e&&_101e.isDefaultPrevented())||$.mobile.popup.active!==this){return;}_c1a.scrollTo(0,this._scrollTop);if(_101e&&_101e.type==="pagebeforechange"&&data){if(typeof data.toPage==="string"){_101f=data.toPage;}else{_101f=data.toPage.jqmData("url");}_101f=$.mobile.path.parseUrl(_101f);toUrl=_101f.pathname+_101f.search+_101f.hash;if(this._myUrl!==$.mobile.path.makeUrlAbsolute(toUrl)){_1021=true;}else{_101e.preventDefault();}}this.window.off(_1020.closeEvents);this.element.undelegate(_1020.closeLinkSelector,_1020.closeLinkEvents);this._close(_1021);},_bindContainerClose:function(){this.window.on(this.options.closeEvents,$.proxy(this,"_closePopup"));},widget:function(){return this._ui.container;},open:function(_1022){var url,_1023,_1024,_1025,_1026,_1027,self=this,_1028=this.options;if($.mobile.popup.active||_1028.disabled){return this;}$.mobile.popup.active=this;this._scrollTop=this.window.scrollTop();if(!(_1028.history)){self._open(_1022);self._bindContainerClose();self.element.delegate(_1028.closeLinkSelector,_1028.closeLinkEvents,function(_1029){self.close();_1029.preventDefault();});return this;}_1027=$.mobile.navigate.history;_1023=$.mobile.dialogHashKey;_1024=$.mobile.activePage;_1025=(_1024?_1024.hasClass("ui-dialog"):false);this._myUrl=url=_1027.getActive().url;_1026=(url.indexOf(_1023)>-1)&&!_1025&&(_1027.activeIndex>0);if(_1026){self._open(_1022);self._bindContainerClose();return this;}if(url.indexOf(_1023)===-1&&!_1025){url=url+(url.indexOf("#")>-1?_1023:"#"+_1023);}else{url=$.mobile.path.parseLocation().hash+_1023;}if(_1027.activeIndex===0&&url===_1027.initialDst){url+=_1023;}this.window.one("beforenavigate",function(_102a){_102a.preventDefault();self._open(_1022);self._bindContainerClose();});this.urlAltered=true;$.mobile.navigate(url,{role:"dialog"});return this;},close:function(){if($.mobile.popup.active!==this){return this;}this._scrollTop=this.window.scrollTop();if(this.options.history&&this.urlAltered){$.mobile.back();this.urlAltered=false;}else{this._closePopup();}return this;}});$.mobile.popup.handleLink=function($link){var _102b,path=$.mobile.path,popup=$(path.hashToSelector(path.parseUrl($link.attr("href")).hash)).first();if(popup.length>0&&popup.data("mobile-popup")){_102b=$link.offset();popup.popup("open",{x:_102b.left+$link.outerWidth()/2,y:_102b.top+$link.outerHeight()/2,transition:$link.jqmData("transition"),positionTo:$link.jqmData("position-to")});}setTimeout(function(){$link.removeClass($.mobile.activeBtnClass);},300);};$.mobile.document.on("pagebeforechange",function(_102c,data){if(data.options.role==="popup"){$.mobile.popup.handleLink(data.options.link);_102c.preventDefault();}});})(_c19);(function($,_102d){var _102e=".ui-disabled,.ui-state-disabled,.ui-li-divider,.ui-screen-hidden,:jqmData(role='placeholder')",_102f=function(item,_1030,_1031){var _1032=item[_1031+"All"]().not(_102e).first();if(_1032.length){_1030.blur().attr("tabindex","-1");_1032.find("a").first().focus();}};$.widget("mobile.selectmenu",$.mobile.selectmenu,{_create:function(){var o=this.options;o.nativeMenu=o.nativeMenu||(this.element.parents(":jqmData(role='popup'),:mobile-popup").length>0);return this._super();},_handleSelectFocus:function(){this.element.blur();this.button.focus();},_handleKeydown:function(event){this._super(event);this._handleButtonVclickKeydown(event);},_handleButtonVclickKeydown:function(event){if(this.options.disabled||this.isOpen){return;}if(event.type==="vclick"||event.keyCode&&(event.keyCode===$.mobile.keyCode.ENTER||event.keyCode===$.mobile.keyCode.SPACE)){this._decideFormat();if(this.menuType==="overlay"){this.button.attr("href","#"+this.popupId).attr("data-"+($.mobile.ns||"")+"rel","popup");}else{this.button.attr("href","#"+this.dialogId).attr("data-"+($.mobile.ns||"")+"rel","dialog");}this.isOpen=true;}},_handleListFocus:function(e){var _1033=(e.type==="focusin")?{tabindex:"0",event:"vmouseover"}:{tabindex:"-1",event:"vmouseout"};$(e.target).attr("tabindex",_1033.tabindex).trigger(_1033.event);},_handleListKeydown:function(event){var _1034=$(event.target),li=_1034.closest("li");switch(event.keyCode){case 38:_102f(li,_1034,"prev");return false;case 40:_102f(li,_1034,"next");return false;case 13:case 32:_1034.trigger("click");return false;}},_handleMenuPageHide:function(){this.thisPage.page("bindRemove");},_handleHeaderCloseClick:function(){if(this.menuType==="overlay"){this.close();return false;}},build:function(){var _1035,_1036,_1037,label,_1038,_1039,_103a,_103b,_103c,_103d,_103e,_103f,list,_1040,_1041,_1042,_1043,_1044,self,o=this.options;if(o.nativeMenu){return this._super();}self=this;_1035=this.selectId;_1036=_1035+"-listbox";_1037=_1035+"-dialog";label=this.label;_1038=this.element.closest(".ui-page");_1039=this.element[0].multiple;_103a=_1035+"-menu";_103b=o.theme?(" data-"+$.mobile.ns+"theme='"+o.theme+"'"):"";_103c=o.overlayTheme?(" data-"+$.mobile.ns+"theme='"+o.overlayTheme+"'"):"";_103d=(o.dividerTheme&&_1039)?(" data-"+$.mobile.ns+"divider-theme='"+o.dividerTheme+"'"):"";_103e=$("<div data-"+$.mobile.ns+"role='dialog' class='ui-selectmenu' id='"+_1037+"'"+_103b+_103c+">"+"<div data-"+$.mobile.ns+"role='header'>"+"<div class='ui-title'>"+label.getEncodedText()+"</div>"+"</div>"+"<div data-"+$.mobile.ns+"role='content'></div>"+"</div>");_103f=$("<div id='"+_1036+"' class='ui-selectmenu'>").insertAfter(this.select).popup({theme:o.overlayTheme});list=$("<ul class='ui-selectmenu-list' id='"+_103a+"' role='listbox' aria-labelledby='"+this.buttonId+"'"+_103b+_103d+">").appendTo(_103f);_1040=$("<div class='ui-header ui-bar-"+(o.theme?o.theme:"inherit")+"'>").prependTo(_103f);_1041=$("<h1 class='ui-title'>").appendTo(_1040);if(this.isMultiple){_1044=$("<a>",{"role":"button","text":o.closeText,"href":"#","class":"ui-btn ui-corner-all ui-btn-left ui-btn-icon-notext ui-icon-delete"}).appendTo(_1040);}$.extend(this,{selectId:_1035,menuId:_103a,popupId:_1036,dialogId:_1037,thisPage:_1038,menuPage:_103e,label:label,isMultiple:_1039,theme:o.theme,listbox:_103f,list:list,header:_1040,headerTitle:_1041,headerClose:_1044,menuPageContent:_1042,menuPageClose:_1043,placeholder:""});this.refresh();if(this._origTabIndex===_102d){this._origTabIndex=(this.select[0].getAttribute("tabindex")===null)?false:this.select.attr("tabindex");}this.select.attr("tabindex","-1");this._on(this.select,{focus:"_handleSelectFocus"});this._on(this.button,{vclick:"_handleButtonVclickKeydown"});this.list.attr("role","listbox");this._on(this.list,{focusin:"_handleListFocus",focusout:"_handleListFocus",keydown:"_handleListKeydown"});this.list.delegate("li:not(.ui-disabled,.ui-state-disabled,.ui-li-divider)","click",function(event){var _1045=self.select[0].selectedIndex,_1046=$.mobile.getAttribute(this,"option-index"),_1047=self._selectOptions().eq(_1046)[0];_1047.selected=self.isMultiple?!_1047.selected:true;if(self.isMultiple){$(this).find("a").toggleClass("ui-checkbox-on",_1047.selected).toggleClass("ui-checkbox-off",!_1047.selected);}if(self.isMultiple||_1045!==_1046){self.select.trigger("change");}if(self.isMultiple){self.list.find("li:not(.ui-li-divider)").eq(_1046).find("a").first().focus();}else{self.close();}event.preventDefault();});this._on(this.menuPage,{pagehide:"_handleMenuPageHide"});this._on(this.listbox,{popupafterclose:"close"});if(this.isMultiple){this._on(this.headerClose,{click:"_handleHeaderCloseClick"});}return this;},_isRebuildRequired:function(){var list=this.list.find("li"),_1048=this._selectOptions().not(".ui-screen-hidden");return _1048.text()!==list.text();},selected:function(){return this._selectOptions().filter(":selected:not( :jqmData(placeholder='true') )");},refresh:function(force){var self,_1049;if(this.options.nativeMenu){return this._super(force);}self=this;if(force||this._isRebuildRequired()){self._buildList();}_1049=this.selectedIndices();self.setButtonText();self.setButtonCount();self.list.find("li:not(.ui-li-divider)").find("a").removeClass($.mobile.activeBtnClass).end().attr("aria-selected",false).each(function(i){if($.inArray(i,_1049)>-1){var item=$(this);item.attr("aria-selected",true);if(self.isMultiple){item.find("a").removeClass("ui-checkbox-off").addClass("ui-checkbox-on");}else{if(item.hasClass("ui-screen-hidden")){item.next().find("a").addClass($.mobile.activeBtnClass);}else{item.find("a").addClass($.mobile.activeBtnClass);}}}});},close:function(){if(this.options.disabled||!this.isOpen){return;}var self=this;if(self.menuType==="page"){self.menuPage.dialog("close");self.list.appendTo(self.listbox);}else{self.listbox.popup("close");}self._focusButton();self.isOpen=false;},open:function(){this.button.click();},_focusMenuItem:function(){var _104a=this.list.find("a."+$.mobile.activeBtnClass);if(_104a.length===0){_104a=this.list.find("li:not("+_102e+") a.ui-btn");}_104a.first().focus();},_decideFormat:function(){var self=this,_104b=this.window,_104c=self.list.parent(),_104d=_104c.outerHeight(),_104e=_104b.scrollTop(),_104f=self.button.offset().top,_1050=_104b.height();if(_104d>_1050-80||!$.support.scrollTop){self.menuPage.appendTo($.mobile.pageContainer).page();self.menuPageContent=self.menuPage.find(".ui-content");self.menuPageClose=self.menuPage.find(".ui-header a");self.thisPage.unbind("pagehide.remove");if(_104e===0&&_104f>_1050){self.thisPage.one("pagehide",function(){$(this).jqmData("lastScroll",_104f);});}self.menuPage.one({pageshow:$.proxy(this,"_focusMenuItem"),pagehide:$.proxy(this,"close")});self.menuType="page";self.menuPageContent.append(self.list);self.menuPage.find("div .ui-title").text(self.label.text());}else{self.menuType="overlay";self.listbox.one({popupafteropen:$.proxy(this,"_focusMenuItem")});}},_buildList:function(){var self=this,o=this.options,_1051=this.placeholder,_1052=true,_1053="false",_1054,_1055,_1056,_1057="data-"+$.mobile.ns,_1058=_1057+"option-index",_1059=_1057+"icon",_105a=_1057+"role",_105b=_1057+"placeholder",_105c=_c1b.createDocumentFragment(),_105d=false,_105e,i,_105f,_1060,_1061,text,_1062,_1063,_1064,_1065,item;self.list.empty().filter(".ui-listview").listview("destroy");_1054=this._selectOptions();_1055=_1054.length;_1056=this.select[0];for(i=0;i<_1055;i++,_105d=false){_105f=_1054[i];_1060=$(_105f);if(_1060.hasClass("ui-screen-hidden")){continue;}_1061=_105f.parentNode;text=_1060.text();_1062=_c1b.createElement("a");_1063=[];_1062.setAttribute("href","#");_1062.appendChild(_c1b.createTextNode(text));if(_1061!==_1056&&_1061.nodeName.toLowerCase()==="optgroup"){_1064=_1061.getAttribute("label");if(_1064!==_105e){_1065=_c1b.createElement("li");_1065.setAttribute(_105a,"list-divider");_1065.setAttribute("role","option");_1065.setAttribute("tabindex","-1");_1065.appendChild(_c1b.createTextNode(_1064));_105c.appendChild(_1065);_105e=_1064;}}if(_1052&&(!_105f.getAttribute("value")||text.length===0||_1060.jqmData("placeholder"))){_1052=false;_105d=true;if(null===_105f.getAttribute(_105b)){this._removePlaceholderAttr=true;}_105f.setAttribute(_105b,true);if(o.hidePlaceholderMenuItems){_1063.push("ui-screen-hidden");}if(_1051!==text){_1051=self.placeholder=text;}}item=_c1b.createElement("li");if(_105f.disabled){_1063.push("ui-state-disabled");item.setAttribute("aria-disabled",true);}item.setAttribute(_1058,i);item.setAttribute(_1059,_1053);if(_105d){item.setAttribute(_105b,true);}item.className=_1063.join(" ");item.setAttribute("role","option");_1062.setAttribute("tabindex","-1");if(this.isMultiple){$(_1062).addClass("ui-btn ui-checkbox-off ui-btn-icon-right");}item.appendChild(_1062);_105c.appendChild(item);}self.list[0].appendChild(_105c);if(!this.isMultiple&&!_1051.length){this.header.addClass("ui-screen-hidden");}else{this.headerTitle.text(this.placeholder);}self.list.listview();},_button:function(){return this.options.nativeMenu?this._super():$("<a>",{"href":"#","role":"button","id":this.buttonId,"aria-haspopup":"true","aria-owns":this.menuId});},_destroy:function(){if(!this.options.nativeMenu){this.close();if(this._origTabIndex!==_102d){if(this._origTabIndex!==false){this.select.attr("tabindex",this._origTabIndex);}else{this.select.removeAttr("tabindex");}}if(this._removePlaceholderAttr){this._selectOptions().removeAttr("data-"+$.mobile.ns+"placeholder");}this.listbox.remove();this.menuPage.remove();}this._super();}});})(_c19);(function($,_1066){var _1067={"ui-shadow":"shadow","ui-corner-all":"corners","ui-btn-inline":"inline","ui-shadow-icon":"iconshadow","ui-mini":"mini"},_1068=function(){var ret=$.mobile.getAttribute.apply(this,arguments);return (ret==null?_1066:ret);},_1069=/[A-Z]/g;function _106a(_106b,_106c){var _106d=_106c?_106c:[];_106d.push("ui-btn");if(_106b.theme){_106d.push("ui-btn-"+_106b.theme);}if(_106b.icon){_106d=_106d.concat(["ui-icon-"+_106b.icon,"ui-btn-icon-"+_106b.iconpos]);if(_106b.iconshadow){_106d.push("ui-shadow-icon");}}if(_106b.inline){_106d.push("ui-btn-inline");}if(_106b.shadow){_106d.push("ui-shadow");}if(_106b.corners){_106d.push("ui-corner-all");}if(_106b.mini){_106d.push("ui-mini");}return _106d;};function _106e(_106f){var idx,map,_1070,_1071=false,_1072=true,o={icon:"",inline:false,shadow:false,corners:false,iconshadow:false,mini:false},_1073=[];_106f=_106f.split(" ");for(idx=0;idx<_106f.length;idx++){_1070=true;map=_1067[_106f[idx]];if(map!==_1066){_1070=false;o[map]=true;}else{if(_106f[idx].indexOf("ui-btn-icon-")===0){_1070=false;_1072=false;o.iconpos=_106f[idx].substring(12);}else{if(_106f[idx].indexOf("ui-icon-")===0){_1070=false;o.icon=_106f[idx].substring(8);}else{if(_106f[idx].indexOf("ui-btn-")===0&&_106f[idx].length===8){_1070=false;o.theme=_106f[idx].substring(7);}else{if(_106f[idx]==="ui-btn"){_1070=false;_1071=true;}}}}}if(_1070){_1073.push(_106f[idx]);}}if(_1072){o.icon="";}return {options:o,unknownClasses:_1073,alreadyEnhanced:_1071};};function _1074(c){return "-"+c.toLowerCase();};$.fn.buttonMarkup=function(_1075,_1076){var idx,data,el,_1077,_1078,_1079=$.fn.buttonMarkup.defaults;for(idx=0;idx<this.length;idx++){el=this[idx];data=_1076?{alreadyEnhanced:false,unknownClasses:[]}:_106e(el.className);_1077=$.extend({},(data.alreadyEnhanced?data.options:{}),_1075);if(!data.alreadyEnhanced){for(_1078 in _1079){if(_1077[_1078]===_1066){_1077[_1078]=_1068(el,_1078.replace(_1069,_1074));}}}el.className=_106a($.extend({},_1079,_1077),data.unknownClasses).join(" ");if(el.tagName.toLowerCase()!=="button"){el.setAttribute("role","button");}}return this;};$.fn.buttonMarkup.defaults={icon:"",iconpos:"left",theme:null,inline:false,shadow:true,corners:true,iconshadow:false,mini:false};$.extend($.fn.buttonMarkup,{initSelector:"a:jqmData(role='button'), .ui-bar > a, .ui-bar > :jqmData(role='controlgroup') > a, button"});})(_c19);(function($,_107a){$.widget("mobile.controlgroup",$.extend({options:{enhanced:false,theme:null,shadow:false,corners:true,excludeInvisible:true,type:"vertical",mini:false},_create:function(){var elem=this.element,opts=this.options;if($.fn.buttonMarkup){this.element.find($.fn.buttonMarkup.initSelector).buttonMarkup();}$.each(this._childWidgets,$.proxy(function(_107b,_107c){if($.mobile[_107c]){this.element.find($.mobile[_107c].initSelector).not($.mobile.page.prototype.keepNativeSelector())[_107c]();}},this));$.extend(this,{_ui:null,_initialRefresh:true});if(opts.enhanced){this._ui={groupLegend:elem.children(".ui-controlgroup-label").children(),childWrapper:elem.children(".ui-controlgroup-controls")};}else{this._ui=this._enhance();}},_childWidgets:["checkboxradio","selectmenu","button"],_themeClassFromOption:function(value){return (value?(value==="none"?"":"ui-group-theme-"+value):"");},_enhance:function(){var elem=this.element,opts=this.options,ui={groupLegend:elem.children("legend"),childWrapper:elem.addClass("ui-controlgroup "+"ui-controlgroup-"+(opts.type==="horizontal"?"horizontal":"vertical")+" "+this._themeClassFromOption(opts.theme)+" "+(opts.corners?"ui-corner-all ":"")+(opts.mini?"ui-mini ":"")).wrapInner("<div "+"class='ui-controlgroup-controls "+(opts.shadow===true?"ui-shadow":"")+"'></div>").children()};if(ui.groupLegend.length>0){$("<div role='heading' class='ui-controlgroup-label'></div>").append(ui.groupLegend).prependTo(elem);}return ui;},_init:function(){this.refresh();},_setOptions:function(_107d){var _107e,_107f,elem=this.element;if(_107d.type!==_107a){elem.removeClass("ui-controlgroup-horizontal ui-controlgroup-vertical").addClass("ui-controlgroup-"+(_107d.type==="horizontal"?"horizontal":"vertical"));_107e=true;}if(_107d.theme!==_107a){elem.removeClass(this._themeClassFromOption(this.options.theme)).addClass(this._themeClassFromOption(_107d.theme));}if(_107d.corners!==_107a){elem.toggleClass("ui-corner-all",_107d.corners);}if(_107d.mini!==_107a){elem.toggleClass("ui-mini",_107d.mini);}if(_107d.shadow!==_107a){this._ui.childWrapper.toggleClass("ui-shadow",_107d.shadow);}if(_107d.excludeInvisible!==_107a){this.options.excludeInvisible=_107d.excludeInvisible;_107e=true;}_107f=this._super(_107d);if(_107e){this.refresh();}return _107f;},container:function(){return this._ui.childWrapper;},refresh:function(){var $el=this.container(),els=$el.find(".ui-btn").not(".ui-slider-handle"),_1080=this._initialRefresh;if($.mobile.checkboxradio){$el.find(":mobile-checkboxradio").checkboxradio("refresh");}this._addFirstLastClasses(els,this.options.excludeInvisible?this._getVisibles(els,_1080):els,_1080);this._initialRefresh=false;},_destroy:function(){var ui,_1081,opts=this.options;if(opts.enhanced){return this;}ui=this._ui;_1081=this.element.removeClass("ui-controlgroup "+"ui-controlgroup-horizontal ui-controlgroup-vertical ui-corner-all ui-mini "+this._themeClassFromOption(opts.theme)).find(".ui-btn").not(".ui-slider-handle");this._removeFirstLastClasses(_1081);ui.groupLegend.unwrap();ui.childWrapper.children().unwrap();}},$.mobile.behaviors.addFirstLastClasses));})(_c19);(function($,_1082){$.widget("mobile.toolbar",{initSelector:":jqmData(role='footer'), :jqmData(role='header')",options:{theme:null,addBackBtn:false,backBtnTheme:null,backBtnText:"Back"},_create:function(){var _1083,_1084,role=this.element.is(":jqmData(role='header')")?"header":"footer",page=this.element.closest(".ui-page");if(page.length===0){page=false;this._on(this.document,{"pageshow":"refresh"});}$.extend(this,{role:role,page:page,leftbtn:_1083,rightbtn:_1084,backBtn:null});this.element.attr("role",role==="header"?"banner":"contentinfo").addClass("ui-"+role);this.refresh();this._setOptions(this.options);},_setOptions:function(o){if(o.addBackBtn!==_1082){if(this.options.addBackBtn&&this.role==="header"&&$(".ui-page").length>1&&this.page[0].getAttribute("data-"+$.mobile.ns+"url")!==$.mobile.path.stripHash(location.hash)&&!this.leftbtn){this._addBackButton();}else{this.element.find(".ui-toolbar-back-btn").remove();}}if(o.backBtnTheme!=null){this.element.find(".ui-toolbar-back-btn").addClass("ui-btn ui-btn-"+o.backBtnTheme);}if(o.backBtnText!==_1082){this.element.find(".ui-toolbar-back-btn .ui-btn-text").text(o.backBtnText);}if(o.theme!==_1082){var _1085=this.options.theme?this.options.theme:"inherit",_1086=o.theme?o.theme:"inherit";this.element.removeClass("ui-bar-"+_1085).addClass("ui-bar-"+_1086);}this._super(o);},refresh:function(){if(this.role==="header"){this._addHeaderButtonClasses();}if(!this.page){this._setRelative();if(this.role==="footer"){this.element.appendTo("body");}}this._addHeadingClasses();this._btnMarkup();},_setRelative:function(){$("[data-"+$.mobile.ns+"role='page']").css({"position":"relative"});},_btnMarkup:function(){this.element.children("a").attr("data-"+$.mobile.ns+"role","button");this.element.trigger("create");},_addHeaderButtonClasses:function(){var _1087=this.element.children("a, button");this.leftbtn=_1087.hasClass("ui-btn-left");this.rightbtn=_1087.hasClass("ui-btn-right");this.leftbtn=this.leftbtn||_1087.eq(0).not(".ui-btn-right").addClass("ui-btn-left").length;this.rightbtn=this.rightbtn||_1087.eq(1).addClass("ui-btn-right").length;},_addBackButton:function(){var theme,_1088=this.options;if(!this.backBtn){theme=_1088.backBtnTheme||_1088.theme;this.backBtn=$("<a role='button' href='javascript:void(0);' "+"class='ui-btn ui-corner-all ui-shadow ui-btn-left "+(theme?"ui-btn-"+theme+" ":"")+"ui-toolbar-back-btn ui-icon-carat-l ui-btn-icon-left' "+"data-"+$.mobile.ns+"rel='back'>"+_1088.backBtnText+"</a>").prependTo(this.element);}},_addHeadingClasses:function(){this.element.children("h1, h2, h3, h4, h5, h6").addClass("ui-title").attr({"role":"heading","aria-level":"1"});}});})(_c19);(function($,_1089){$.widget("mobile.toolbar",$.mobile.toolbar,{options:{position:null,visibleOnPageShow:true,disablePageZoom:true,transition:"slide",fullscreen:false,tapToggle:true,tapToggleBlacklist:"a, button, input, select, textarea, .ui-header-fixed, .ui-footer-fixed, .ui-flipswitch, .ui-popup, .ui-panel, .ui-panel-dismiss-open",hideDuringFocus:"input, textarea, select",updatePagePadding:true,trackPersistentToolbars:true,supportBlacklist:function(){return !$.support.fixedPosition;}},_create:function(){this._super();if(this.options.position==="fixed"&&!this.options.supportBlacklist()){this._makeFixed();}},_makeFixed:function(){this.element.addClass("ui-"+this.role+"-fixed");this.updatePagePadding();this._addTransitionClass();this._bindPageEvents();this._bindToggleHandlers();this._setOptions(this.options);},_setOptions:function(o){if(o.position==="fixed"&&this.options.position!=="fixed"){this._makeFixed();}if(this.options.position==="fixed"&&!this.options.supportBlacklist()){var $page=(!!this.page)?this.page:($(".ui-page-active").length>0)?$(".ui-page-active"):$(".ui-page").eq(0);if(o.fullscreen!==_1089){if(o.fullscreen){this.element.addClass("ui-"+this.role+"-fullscreen");$page.addClass("ui-page-"+this.role+"-fullscreen");}else{this.element.removeClass("ui-"+this.role+"-fullscreen");$page.removeClass("ui-page-"+this.role+"-fullscreen").addClass("ui-page-"+this.role+"-fixed");}}}this._super(o);},_addTransitionClass:function(){var _108a=this.options.transition;if(_108a&&_108a!=="none"){if(_108a==="slide"){_108a=this.element.hasClass("ui-header")?"slidedown":"slideup";}this.element.addClass(_108a);}},_bindPageEvents:function(){var page=(!!this.page)?this.element.closest(".ui-page"):this.document;this._on(page,{"pagebeforeshow":"_handlePageBeforeShow","webkitAnimationStart":"_handleAnimationStart","animationstart":"_handleAnimationStart","updatelayout":"_handleAnimationStart","pageshow":"_handlePageShow","pagebeforehide":"_handlePageBeforeHide"});},_handlePageBeforeShow:function(){var o=this.options;if(o.disablePageZoom){$.mobile.zoom.disable(true);}if(!o.visibleOnPageShow){this.hide(true);}},_handleAnimationStart:function(){if(this.options.updatePagePadding){this.updatePagePadding((!!this.page)?this.page:".ui-page-active");}},_handlePageShow:function(){this.updatePagePadding((!!this.page)?this.page:".ui-page-active");if(this.options.updatePagePadding){this._on(this.window,{"throttledresize":"updatePagePadding"});}},_handlePageBeforeHide:function(e,ui){var o=this.options,_108b,_108c,_108d,_108e;if(o.disablePageZoom){$.mobile.zoom.enable(true);}if(o.updatePagePadding){this._off(this.window,"throttledresize");}if(o.trackPersistentToolbars){_108b=$(".ui-footer-fixed:jqmData(id)",this.page);_108c=$(".ui-header-fixed:jqmData(id)",this.page);_108d=_108b.length&&ui.nextPage&&$(".ui-footer-fixed:jqmData(id='"+_108b.jqmData("id")+"')",ui.nextPage)||$();_108e=_108c.length&&ui.nextPage&&$(".ui-header-fixed:jqmData(id='"+_108c.jqmData("id")+"')",ui.nextPage)||$();if(_108d.length||_108e.length){_108d.add(_108e).appendTo($.mobile.pageContainer);ui.nextPage.one("pageshow",function(){_108e.prependTo(this);_108d.appendTo(this);});}}},_visible:true,updatePagePadding:function(_108f){var $el=this.element,_1090=(this.role==="header"),pos=parseFloat($el.css(_1090?"top":"bottom"));if(this.options.fullscreen){return;}_108f=(_108f&&_108f.type===_1089&&_108f)||this.page||$el.closest(".ui-page");_108f=(!!this.page)?this.page:".ui-page-active";$(_108f).css("padding-"+(_1090?"top":"bottom"),$el.outerHeight()+pos);},_useTransition:function(_1091){var $win=this.window,$el=this.element,_1092=$win.scrollTop(),_1093=$el.height(),_1094=(!!this.page)?$el.closest(".ui-page").height():$(".ui-page-active").height(),_1095=$.mobile.getScreenHeight();return !_1091&&(this.options.transition&&this.options.transition!=="none"&&((this.role==="header"&&!this.options.fullscreen&&_1092>_1093)||(this.role==="footer"&&!this.options.fullscreen&&_1092+_1095<_1094-_1093))||this.options.fullscreen);},show:function(_1096){var _1097="ui-fixed-hidden",$el=this.element;if(this._useTransition(_1096)){$el.removeClass("out "+_1097).addClass("in").animationComplete(function(){$el.removeClass("in");});}else{$el.removeClass(_1097);}this._visible=true;},hide:function(_1098){var _1099="ui-fixed-hidden",$el=this.element,_109a="out"+(this.options.transition==="slide"?" reverse":"");if(this._useTransition(_1098)){$el.addClass(_109a).removeClass("in").animationComplete(function(){$el.addClass(_1099).removeClass(_109a);});}else{$el.addClass(_1099).removeClass(_109a);}this._visible=false;},toggle:function(){this[this._visible?"hide":"show"]();},_bindToggleHandlers:function(){var self=this,o=self.options,_109b,_109c,_109d=true,page=(!!this.page)?this.page:$(".ui-page");page.bind("vclick",function(e){if(o.tapToggle&&!$(e.target).closest(o.tapToggleBlacklist).length){self.toggle();}}).bind("focusin focusout",function(e){if(screen.width<1025&&$(e.target).is(o.hideDuringFocus)&&!$(e.target).closest(".ui-header-fixed, .ui-footer-fixed").length){if(e.type==="focusout"&&!_109d){_109d=true;clearTimeout(_109c);_109b=setTimeout(function(){self.show();},0);}else{if(e.type==="focusin"&&!!_109d){clearTimeout(_109b);_109d=false;_109c=setTimeout(function(){self.hide();},0);}}}});},_setRelative:function(){if(this.options.position!=="fixed"){$("[data-"+$.mobile.ns+"role='page']").css({"position":"relative"});}},_destroy:function(){var $el=this.element,_109e=$el.hasClass("ui-header");$el.closest(".ui-page").css("padding-"+(_109e?"top":"bottom"),"");$el.removeClass("ui-header-fixed ui-footer-fixed ui-header-fullscreen ui-footer-fullscreen in out fade slidedown slideup ui-fixed-hidden");$el.closest(".ui-page").removeClass("ui-page-header-fixed ui-page-footer-fixed ui-page-header-fullscreen ui-page-footer-fullscreen");}});})(_c19);(function($,_109f){$.widget("mobile.toolbar",$.mobile.toolbar,{_makeFixed:function(){this._super();this._workarounds();},_workarounds:function(){var ua=navigator.userAgent,_10a0=navigator.platform,_10a1=ua.match(/AppleWebKit\/([0-9]+)/),_10a2=!!_10a1&&_10a1[1],os=null,self=this;if(_10a0.indexOf("iPhone")>-1||_10a0.indexOf("iPad")>-1||_10a0.indexOf("iPod")>-1){os="ios";}else{if(ua.indexOf("Android")>-1){os="android";}else{return;}}if(os==="ios"){self._bindScrollWorkaround();}else{if(os==="android"&&_10a2&&_10a2<534){self._bindScrollWorkaround();self._bindListThumbWorkaround();}else{return;}}},_viewportOffset:function(){var $el=this.element,_10a3=$el.hasClass("ui-header"),_10a4=Math.abs($el.offset().top-this.window.scrollTop());if(!_10a3){_10a4=Math.round(_10a4-this.window.height()+$el.outerHeight())-60;}return _10a4;},_bindScrollWorkaround:function(){var self=this;this._on(this.window,{scrollstop:function(){var _10a5=self._viewportOffset();if(_10a5>2&&self._visible){self._triggerRedraw();}}});},_bindListThumbWorkaround:function(){this.element.closest(".ui-page").addClass("ui-android-2x-fixed");},_triggerRedraw:function(){var _10a6=parseFloat($(".ui-page-active").css("padding-bottom"));$(".ui-page-active").css("padding-bottom",(_10a6+1)+"px");setTimeout(function(){$(".ui-page-active").css("padding-bottom",_10a6+"px");},0);},destroy:function(){this._super();this.element.closest(".ui-page-active").removeClass("ui-android-2x-fix");}});})(_c19);(function($,_10a7){var _10a8=($.mobile.browser.oldIE&&$.mobile.browser.oldIE<=8),_10a9=$("<div class='ui-popup-arrow-guide'></div>"+"<div class='ui-popup-arrow-container"+(_10a8?" ie":"")+"'>"+"<div class='ui-popup-arrow'>"+"<div class='ui-popup-arrow-background'></div>"+"</div>"+"</div>"),_10aa=Math.sqrt(2)/2;function _10ab(){var clone=_10a9.clone(),gd=clone.eq(0),ct=clone.eq(1),ar=ct.children(),bg=ar.children();return {arEls:ct.add(gd),gd:gd,ct:ct,ar:ar,bg:bg};};$.widget("mobile.popup",$.mobile.popup,{options:{arrow:""},_create:function(){var ar,ret=this._super();if(this.options.arrow){this._ui.arrow=ar=this._addArrow();}return ret;},_addArrow:function(){var theme,opts=this.options,ar=_10ab();theme=this._themeClassFromOption("ui-body-",opts.theme);ar.ar.addClass(theme+(opts.shadow?" ui-overlay-shadow":""));ar.bg.addClass(theme);ar.arEls.hide().appendTo(this.element);return ar;},_unenhance:function(){var ar=this._ui.arrow;if(ar){ar.arEls.remove();}return this._super();},_tryAnArrow:function(p,dir,_10ac,s,best){var _10ad,r,diff,_10ae={},tip={};if(s.arFull[p.dimKey]>s.guideDims[p.dimKey]){return best;}_10ae[p.fst]=_10ac[p.fst]+(s.arHalf[p.oDimKey]+s.menuHalf[p.oDimKey])*p.offsetFactor-s.contentBox[p.fst]+(s.clampInfo.menuSize[p.oDimKey]-s.contentBox[p.oDimKey])*p.arrowOffsetFactor;_10ae[p.snd]=_10ac[p.snd];_10ad=s.result||this._calculateFinalLocation(_10ae,s.clampInfo);r={x:_10ad.left,y:_10ad.top};tip[p.fst]=r[p.fst]+s.contentBox[p.fst]+p.tipOffset;tip[p.snd]=Math.max(_10ad[p.prop]+s.guideOffset[p.prop]+s.arHalf[p.dimKey],Math.min(_10ad[p.prop]+s.guideOffset[p.prop]+s.guideDims[p.dimKey]-s.arHalf[p.dimKey],_10ac[p.snd]));diff=Math.abs(_10ac.x-tip.x)+Math.abs(_10ac.y-tip.y);if(!best||diff<best.diff){tip[p.snd]-=s.arHalf[p.dimKey]+_10ad[p.prop]+s.contentBox[p.snd];best={dir:dir,diff:diff,result:_10ad,posProp:p.prop,posVal:tip[p.snd]};}return best;},_getPlacementState:function(clamp){var _10af,_10b0,ar=this._ui.arrow,state={clampInfo:this._clampPopupWidth(!clamp),arFull:{cx:ar.ct.width(),cy:ar.ct.height()},guideDims:{cx:ar.gd.width(),cy:ar.gd.height()},guideOffset:ar.gd.offset()};_10af=this.element.offset();ar.gd.css({left:0,top:0,right:0,bottom:0});_10b0=ar.gd.offset();state.contentBox={x:_10b0.left-_10af.left,y:_10b0.top-_10af.top,cx:ar.gd.width(),cy:ar.gd.height()};ar.gd.removeAttr("style");state.guideOffset={left:state.guideOffset.left-_10af.left,top:state.guideOffset.top-_10af.top};state.arHalf={cx:state.arFull.cx/2,cy:state.arFull.cy/2};state.menuHalf={cx:state.clampInfo.menuSize.cx/2,cy:state.clampInfo.menuSize.cy/2};return state;},_placementCoords:function(_10b1){var state,best,_10b2,_10b3,_10b4,diff,bgRef,_10b5=this.options.arrow,ar=this._ui.arrow;if(!ar){return this._super(_10b1);}ar.arEls.show();bgRef={};state=this._getPlacementState(true);_10b2={"l":{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:1,tipOffset:-state.arHalf.cx,arrowOffsetFactor:0},"r":{fst:"x",snd:"y",prop:"top",dimKey:"cy",oDimKey:"cx",offsetFactor:-1,tipOffset:state.arHalf.cx+state.contentBox.cx,arrowOffsetFactor:1},"b":{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:-1,tipOffset:state.arHalf.cy+state.contentBox.cy,arrowOffsetFactor:1},"t":{fst:"y",snd:"x",prop:"left",dimKey:"cx",oDimKey:"cy",offsetFactor:1,tipOffset:-state.arHalf.cy,arrowOffsetFactor:0}};$.each((_10b5===true?"l,t,r,b":_10b5).split(","),$.proxy(function(key,value){best=this._tryAnArrow(_10b2[value],value,_10b1,state,best);},this));if(!best){ar.arEls.hide();return this._super(_10b1);}ar.ct.removeClass("ui-popup-arrow-l ui-popup-arrow-t ui-popup-arrow-r ui-popup-arrow-b").addClass("ui-popup-arrow-"+best.dir).removeAttr("style").css(best.posProp,best.posVal).show();if(!_10a8){_10b4=this.element.offset();bgRef[_10b2[best.dir].fst]=ar.ct.offset();bgRef[_10b2[best.dir].snd]={left:_10b4.left+state.contentBox.x,top:_10b4.top+state.contentBox.y};_10b3=ar.bg.removeAttr("style").css(("cx"===_10b2[best.dir].dimKey?"width":"height"),state.contentBox[_10b2[best.dir].dimKey]).offset();diff={dx:bgRef.x.left-_10b3.left,dy:bgRef.y.top-_10b3.top};ar.bg.css({left:_10aa*diff.dy+_10aa*diff.dx,top:_10aa*diff.dy-_10aa*diff.dx});}return best.result;},_setOptions:function(opts){var _10b6,_10b7=this.options.theme,ar=this._ui.arrow,ret=this._super(opts);if(opts.arrow!==_10a7){if(!ar&&opts.arrow){this._ui.arrow=this._addArrow();return;}else{if(ar&&!opts.arrow){ar.arEls.remove();this._ui.arrow=null;}}}ar=this._ui.arrow;if(ar){if(opts.theme!==_10a7){_10b7=this._themeClassFromOption("ui-body-",_10b7);_10b6=this._themeClassFromOption("ui-body-",opts.theme);ar.ar.removeClass(_10b7).addClass(_10b6);ar.bg.removeClass(_10b7).addClass(_10b6);}if(opts.shadow!==_10a7){ar.ar.toggleClass("ui-overlay-shadow",opts.shadow);}}return ret;},_destroy:function(){var ar=this._ui.arrow;if(ar){ar.arEls.remove();}return this._super();}});})(_c19);(function($,_10b8){$.widget("mobile.panel",{options:{classes:{panel:"ui-panel",panelOpen:"ui-panel-open",panelClosed:"ui-panel-closed",panelFixed:"ui-panel-fixed",panelInner:"ui-panel-inner",modal:"ui-panel-dismiss",modalOpen:"ui-panel-dismiss-open",pageContainer:"ui-panel-page-container",pageWrapper:"ui-panel-wrapper",pageFixedToolbar:"ui-panel-fixed-toolbar",pageContentPrefix:"ui-panel-page-content",animate:"ui-panel-animate"},animate:true,theme:null,position:"left",dismissible:true,display:"reveal",swipeClose:true,positionFixed:false},_panelID:null,_closeLink:null,_parentPage:null,_page:null,_modal:null,_panelInner:null,_wrapper:null,_fixedToolbars:null,_create:function(){var el=this.element,_10b9=el.closest(":jqmData(role='page')");$.extend(this,{_panelID:el.attr("id"),_closeLink:el.find(":jqmData(rel='close')"),_parentPage:(_10b9.length>0)?_10b9:false,_page:this._getPage,_panelInner:this._getPanelInner(),_wrapper:this._getWrapper,_fixedToolbars:this._getFixedToolbars});this._addPanelClasses();if($.support.cssTransform3d&&!!this.options.animate){this.element.addClass(this.options.classes.animate);}this._bindUpdateLayout();this._bindCloseEvents();this._bindLinkListeners();this._bindPageEvents();if(!!this.options.dismissible){this._createModal();}this._bindSwipeEvents();},_getPanelInner:function(){var _10ba=this.element.find("."+this.options.classes.panelInner);if(_10ba.length===0){_10ba=this.element.children().wrapAll("<div class='"+this.options.classes.panelInner+"' />").parent();}return _10ba;},_createModal:function(){var self=this,_10bb=self._parentPage?self._parentPage.parent():self.element.parent();self._modal=$("<div class='"+self.options.classes.modal+"' data-panelid='"+self._panelID+"'></div>").on("mousedown",function(){self.close();}).appendTo(_10bb);},_getPage:function(){var page=this._parentPage?this._parentPage:$("."+$.mobile.activePageClass);return page;},_getWrapper:function(){var _10bc=this._page().find("."+this.options.classes.pageWrapper);if(_10bc.length===0){_10bc=this._page().children(".ui-header:not(.ui-header-fixed), .ui-content:not(.ui-popup), .ui-footer:not(.ui-footer-fixed)").wrapAll("<div class='"+this.options.classes.pageWrapper+"'></div>").parent();}return _10bc;},_getFixedToolbars:function(){var _10bd=$("body").children(".ui-header-fixed, .ui-footer-fixed"),_10be=this._page().find(".ui-header-fixed, .ui-footer-fixed"),_10bf=_10bd.add(_10be).addClass(this.options.classes.pageFixedToolbar);return _10bf;},_getPosDisplayClasses:function(_10c0){return _10c0+"-position-"+this.options.position+" "+_10c0+"-display-"+this.options.display;},_getPanelClasses:function(){var _10c1=this.options.classes.panel+" "+this._getPosDisplayClasses(this.options.classes.panel)+" "+this.options.classes.panelClosed+" "+"ui-body-"+(this.options.theme?this.options.theme:"inherit");if(!!this.options.positionFixed){_10c1+=" "+this.options.classes.panelFixed;}return _10c1;},_addPanelClasses:function(){this.element.addClass(this._getPanelClasses());},_bindCloseEvents:function(){var self=this;self._closeLink.on("click.panel",function(e){e.preventDefault();self.close();return false;});self.element.on("click.panel","a:jqmData(ajax='false')",function(){self.close();});},_positionPanel:function(){var self=this,_10c2=self._panelInner.outerHeight(),_10c3=_10c2>$.mobile.getScreenHeight();if(_10c3||!self.options.positionFixed){if(_10c3){self._unfixPanel();$.mobile.resetActivePageHeight(_10c2);}_c1a.scrollTo(0,$.mobile.defaultHomeScroll);}else{self._fixPanel();}},_bindFixListener:function(){this._on($(_c1a),{"throttledresize":"_positionPanel"});},_unbindFixListener:function(){this._off($(_c1a),"throttledresize");},_unfixPanel:function(){if(!!this.options.positionFixed&&$.support.fixedPosition){this.element.removeClass(this.options.classes.panelFixed);}},_fixPanel:function(){if(!!this.options.positionFixed&&$.support.fixedPosition){this.element.addClass(this.options.classes.panelFixed);}},_bindUpdateLayout:function(){var self=this;self.element.on("updatelayout",function(){if(self._open){self._positionPanel();}});},_bindLinkListeners:function(){this._on("body",{"click a":"_handleClick"});},_handleClick:function(e){if(e.currentTarget.href.split("#")[1]===this._panelID&&this._panelID!==_10b8){e.preventDefault();var link=$(e.target);if(link.hasClass("ui-btn")){link.addClass($.mobile.activeBtnClass);this.element.one("panelopen panelclose",function(){link.removeClass($.mobile.activeBtnClass);});}this.toggle();return false;}},_bindSwipeEvents:function(){var self=this,area=self._modal?self.element.add(self._modal):self.element;if(!!self.options.swipeClose){if(self.options.position==="left"){area.on("swipeleft.panel",function(){self.close();});}else{area.on("swiperight.panel",function(){self.close();});}}},_bindPageEvents:function(){var self=this;this.document.on("panelbeforeopen",function(e){if(self._open&&e.target!==self.element[0]){self.close();}}).on("keyup.panel",function(e){if(e.keyCode===27&&self._open){self.close();}});if(self._parentPage){this.document.on("pagehide",":jqmData(role='page')",function(){if(self._open){self.close(true);}});}else{this.document.on("pagebeforehide",function(){if(self._open){self.close(true);}});}},_open:false,_pageContentOpenClasses:null,_modalOpenClasses:null,open:function(_10c4){if(!this._open){var self=this,o=self.options,_10c5=function(){self.document.off("panelclose");self._page().jqmData("panel","open");if($.support.cssTransform3d&&!!o.animate&&o.display!=="overlay"){self._wrapper().addClass(o.classes.animate);self._fixedToolbars().addClass(o.classes.animate);}if(!_10c4&&$.support.cssTransform3d&&!!o.animate){self.document.on(self._transitionEndEvents,_10c6);}else{setTimeout(_10c6,0);}if(o.theme&&o.display!=="overlay"){self._page().parent().addClass(o.classes.pageContainer+"-themed "+o.classes.pageContainer+"-"+o.theme);}self.element.removeClass(o.classes.panelClosed).addClass(o.classes.panelOpen);self._positionPanel();self._pageContentOpenClasses=self._getPosDisplayClasses(o.classes.pageContentPrefix);if(o.display!=="overlay"){self._page().parent().addClass(o.classes.pageContainer);self._wrapper().addClass(self._pageContentOpenClasses);self._fixedToolbars().addClass(self._pageContentOpenClasses);}self._modalOpenClasses=self._getPosDisplayClasses(o.classes.modal)+" "+o.classes.modalOpen;if(self._modal){self._modal.addClass(self._modalOpenClasses).height(Math.max(self._modal.height(),self.document.height()));}},_10c6=function(){self.document.off(self._transitionEndEvents,_10c6);if(o.display!=="overlay"){self._wrapper().addClass(o.classes.pageContentPrefix+"-open");self._fixedToolbars().addClass(o.classes.pageContentPrefix+"-open");}self._bindFixListener();self._trigger("open");};self._trigger("beforeopen");if(self._page().jqmData("panel")==="open"){self.document.on("panelclose",function(){_10c5();});}else{_10c5();}self._open=true;}},close:function(_10c7){if(this._open){var self=this,o=this.options,_10c8=function(){if(!_10c7&&$.support.cssTransform3d&&!!o.animate){self.document.on(self._transitionEndEvents,_10c9);}else{setTimeout(_10c9,0);}self.element.removeClass(o.classes.panelOpen);if(o.display!=="overlay"){self._wrapper().removeClass(self._pageContentOpenClasses);self._fixedToolbars().removeClass(self._pageContentOpenClasses);}if(self._modal){self._modal.removeClass(self._modalOpenClasses);}},_10c9=function(){self.document.off(self._transitionEndEvents,_10c9);if(o.theme&&o.display!=="overlay"){self._page().parent().removeClass(o.classes.pageContainer+"-themed "+o.classes.pageContainer+"-"+o.theme);}self.element.addClass(o.classes.panelClosed);if(o.display!=="overlay"){self._page().parent().removeClass(o.classes.pageContainer);self._wrapper().removeClass(o.classes.pageContentPrefix+"-open");self._fixedToolbars().removeClass(o.classes.pageContentPrefix+"-open");}if($.support.cssTransform3d&&!!o.animate&&o.display!=="overlay"){self._wrapper().removeClass(o.classes.animate);self._fixedToolbars().removeClass(o.classes.animate);}self._fixPanel();self._unbindFixListener();$.mobile.resetActivePageHeight();self._page().jqmRemoveData("panel");self._trigger("close");};self._trigger("beforeclose");_10c8();self._open=false;}},toggle:function(){this[this._open?"close":"open"]();},_transitionEndEvents:"webkitTransitionEnd oTransitionEnd otransitionend transitionend msTransitionEnd",_destroy:function(){var _10ca,o=this.options,_10cb=($("body > :mobile-panel").length+$.mobile.activePage.find(":mobile-panel").length)>1;if(o.display!=="overlay"){_10ca=$("body > :mobile-panel").add($.mobile.activePage.find(":mobile-panel"));if(_10ca.not(".ui-panel-display-overlay").not(this.element).length===0){this._wrapper().children().unwrap();}if(this._open){this._fixedToolbars().removeClass(o.classes.pageContentPrefix+"-open");if($.support.cssTransform3d&&!!o.animate){this._fixedToolbars().removeClass(o.classes.animate);}this._page().parent().removeClass(o.classes.pageContainer);if(o.theme){this._page().parent().removeClass(o.classes.pageContainer+"-themed "+o.classes.pageContainer+"-"+o.theme);}}}if(!_10cb){this.document.off("panelopen panelclose");if(this._open){this.document.off(this._transitionEndEvents);$.mobile.resetActivePageHeight();}}if(this._open){this._page().jqmRemoveData("panel");}this._panelInner.children().unwrap();this.element.removeClass([this._getPanelClasses(),o.classes.panelOpen,o.classes.animate].join(" ")).off("swipeleft.panel swiperight.panel").off("panelbeforeopen").off("panelhide").off("keyup.panel").off("updatelayout").off(this._transitionEndEvents);this._closeLink.off("click.panel");if(this._modal){this._modal.remove();}}});})(_c19);(function($,_10cc){$.widget("mobile.table",{options:{classes:{table:"ui-table"},enhanced:false},_create:function(){if(!this.options.enhanced){this.element.addClass(this.options.classes.table);}$.extend(this,{headers:_10cc,allHeaders:_10cc});this._refresh(true);},_setHeaders:function(){var trs=this.element.find("thead tr");this.headers=this.element.find("tr:eq(0)").children();this.allHeaders=this.headers.add(trs.children());},refresh:function(){this._refresh();},rebuild:$.noop,_refresh:function(){var table=this.element,trs=table.find("thead tr");this._setHeaders();trs.each(function(){var _10cd=0;$(this).children().each(function(){var span=parseInt(this.getAttribute("colspan"),10),_10ce=":nth-child("+(_10cd+1)+")",j;this.setAttribute("data-"+$.mobile.ns+"colstart",_10cd+1);if(span){for(j=0;j<span-1;j++){_10cd++;_10ce+=", :nth-child("+(_10cd+1)+")";}}$(this).jqmData("cells",table.find("tr").not(trs.eq(0)).not(this).children(_10ce));_10cd++;});});}});})(_c19);(function($,_10cf){$.widget("mobile.table",$.mobile.table,{options:{mode:"columntoggle",columnBtnTheme:null,columnPopupTheme:null,columnBtnText:"Columns...",classes:$.extend($.mobile.table.prototype.options.classes,{popup:"ui-table-columntoggle-popup",columnBtn:"ui-table-columntoggle-btn",priorityPrefix:"ui-table-priority-",columnToggleTable:"ui-table-columntoggle"})},_create:function(){this._super();if(this.options.mode!=="columntoggle"){return;}$.extend(this,{_menu:null});if(this.options.enhanced){this._menu=$(this.document[0].getElementById(this._id()+"-popup")).children().first();this._addToggles(this._menu,true);this._bindToggles(this._menu);}else{this._menu=this._enhanceColToggle();this.element.addClass(this.options.classes.columnToggleTable);}this._setupEvents();this._setToggleState();},_id:function(){return (this.element.attr("id")||(this.widgetName+this.uuid));},_setupEvents:function(){this._on(this.window,{throttledresize:"_setToggleState"});},_bindToggles:function(menu){var _10d0=menu.find("input");this._on(_10d0,{change:"_menuInputChange"});},_addToggles:function(menu,keep){var _10d1,_10d2=0,opts=this.options,_10d3=menu.controlgroup("container");if(keep){_10d1=menu.find("input");}else{_10d3.empty();}this.headers.not("td").each(function(){var _10d4=$(this),_10d5=$.mobile.getAttribute(this,"priority"),cells=_10d4.add(_10d4.jqmData("cells"));if(_10d5){cells.addClass(opts.classes.priorityPrefix+_10d5);(keep?_10d1.eq(_10d2++):$("<label><input type='checkbox' checked />"+(_10d4.children("abbr").first().attr("title")||_10d4.text())+"</label>").appendTo(_10d3).children(0).checkboxradio({theme:opts.columnPopupTheme})).jqmData("cells",cells);}});if(!keep){menu.controlgroup("refresh");this._bindToggles(menu);}},_menuInputChange:function(evt){var input=$(evt.target),_10d6=input[0].checked;input.jqmData("cells").toggleClass("ui-table-cell-hidden",!_10d6).toggleClass("ui-table-cell-visible",_10d6);if(input[0].getAttribute("locked")){input.removeAttr("locked");this._unlockCells(input.jqmData("cells"));}else{input.attr("locked",true);}},_unlockCells:function(cells){cells.removeClass("ui-table-cell-hidden ui-table-cell-visible");},_enhanceColToggle:function(){var id,_10d7,popup,menu,table=this.element,opts=this.options,ns=$.mobile.ns,_10d8=this.document[0].createDocumentFragment();id=this._id()+"-popup";_10d7=$("<a href='#"+id+"' "+"class='"+opts.classes.columnBtn+" ui-btn "+"ui-btn-"+(opts.columnBtnTheme||"a")+" ui-corner-all ui-shadow ui-mini' "+"data-"+ns+"rel='popup'>"+opts.columnBtnText+"</a>");popup=$("<div class='"+opts.classes.popup+"' id='"+id+"'></div>");menu=$("<fieldset></fieldset>").controlgroup();this._addToggles(menu,false);menu.appendTo(popup);_10d8.appendChild(popup[0]);_10d8.appendChild(_10d7[0]);table.before(_10d8);popup.popup();return menu;},rebuild:function(){this._super();if(this.options.mode==="columntoggle"){this._refresh(false);}},_refresh:function(_10d9){this._super(_10d9);if(!_10d9&&this.options.mode==="columntoggle"){this._unlockCells(this.allHeaders);this._addToggles(this._menu,_10d9);this._setToggleState();}},_setToggleState:function(){this._menu.find("input").each(function(){var _10da=$(this);this.checked=_10da.jqmData("cells").eq(0).css("display")==="table-cell";_10da.checkboxradio("refresh");});},_destroy:function(){this._super();}});})(_c19);(function($,_10db){$.widget("mobile.table",$.mobile.table,{options:{mode:"reflow",classes:$.extend($.mobile.table.prototype.options.classes,{reflowTable:"ui-table-reflow",cellLabels:"ui-table-cell-label"})},_create:function(){this._super();if(this.options.mode!=="reflow"){return;}if(!this.options.enhanced){this.element.addClass(this.options.classes.reflowTable);this._updateReflow();}},rebuild:function(){this._super();if(this.options.mode==="reflow"){this._refresh(false);}},_refresh:function(_10dc){this._super(_10dc);if(!_10dc&&this.options.mode==="reflow"){this._updateReflow();}},_updateReflow:function(){var table=this,opts=this.options;$(table.allHeaders.get().reverse()).each(function(){var cells=$(this).jqmData("cells"),_10dd=$.mobile.getAttribute(this,"colstart"),_10de=cells.not(this).filter("thead th").length&&" ui-table-cell-label-top",text=$(this).text(),_10df,_10e0;if(text!==""){if(_10de){_10df=parseInt(this.getAttribute("colspan"),10);_10e0="";if(_10df){_10e0="td:nth-child("+_10df+"n + "+(_10dd)+")";}table._addLabels(cells.filter(_10e0),opts.classes.cellLabels+_10de,text);}else{table._addLabels(cells,opts.classes.cellLabels,text);}}});},_addLabels:function(cells,label,text){cells.not(":has(b."+label+")").prepend("<b class='"+label+"'>"+text+"</b>");}});})(_c19);(function($,_10e1){var _10e2=function(index,_10e3){return ((""+($.mobile.getAttribute(this,"filtertext")||$(this).text())).toLowerCase().indexOf(_10e3)===-1);};$.widget("mobile.filterable",{initSelector:":jqmData(filter='true')",options:{filterReveal:false,filterCallback:_10e2,enhanced:false,input:null,children:"> li, > option, > optgroup option, > tbody tr, > .ui-controlgroup-controls > .ui-btn, > .ui-controlgroup-controls > .ui-checkbox, > .ui-controlgroup-controls > .ui-radio"},_create:function(){var opts=this.options;$.extend(this,{_search:null,_timer:0});this._setInput(opts.input);if(!opts.enhanced){this._filterItems(((this._search&&this._search.val())||"").toLowerCase());}},_onKeyUp:function(){var val,_10e4,_10e5=this._search;if(_10e5){val=_10e5.val().toLowerCase(),_10e4=$.mobile.getAttribute(_10e5[0],"lastval")+"";if(_10e4&&_10e4===val){return;}if(this._timer){_c1a.clearTimeout(this._timer);this._timer=0;}this._timer=this._delay(function(){this._trigger("beforefilter","beforefilter",{input:_10e5});_10e5[0].setAttribute("data-"+$.mobile.ns+"lastval",val);this._filterItems(val);this._timer=0;},250);}},_getFilterableItems:function(){var elem=this.element,_10e6=this.options.children,items=!_10e6?{length:0}:$.isFunction(_10e6)?_10e6():_10e6.nodeName?$(_10e6):_10e6.jquery?_10e6:this.element.find(_10e6);if(items.length===0){items=elem.children();}return items;},_filterItems:function(val){var idx,_10e7,_10e8,dst,show=[],hide=[],opts=this.options,_10e9=this._getFilterableItems();if(val!=null){_10e7=opts.filterCallback||_10e2;_10e8=_10e9.length;for(idx=0;idx<_10e8;idx++){dst=(_10e7.call(_10e9[idx],idx,val))?hide:show;dst.push(_10e9[idx]);}}if(hide.length===0){_10e9[opts.filterReveal?"addClass":"removeClass"]("ui-screen-hidden");}else{$(hide).addClass("ui-screen-hidden");$(show).removeClass("ui-screen-hidden");}this._refreshChildWidget();},_refreshChildWidget:function(){var _10ea,idx,_10eb=["collapsibleset","selectmenu","controlgroup","listview"];for(idx=_10eb.length-1;idx>-1;idx--){_10ea=_10eb[idx];if($.mobile[_10ea]){_10ea=this.element.data("mobile-"+_10ea);if(_10ea&&$.isFunction(_10ea.refresh)){_10ea.refresh();}}}},_setInput:function(_10ec){var _10ed=this._search;if(this._timer){_c1a.clearTimeout(this._timer);this._timer=0;}if(_10ed){this._off(_10ed,"keyup change input");_10ed=null;}if(_10ec){_10ed=_10ec.jquery?_10ec:_10ec.nodeName?$(_10ec):this.document.find(_10ec);this._on(_10ed,{keyup:"_onKeyUp",change:"_onKeyUp",input:"_onKeyUp"});}this._search=_10ed;},_setOptions:function(_10ee){var _10ef=!((_10ee.filterReveal===_10e1)&&(_10ee.filterCallback===_10e1)&&(_10ee.children===_10e1));this._super(_10ee);if(_10ee.input!==_10e1){this._setInput(_10ee.input);_10ef=true;}if(_10ef){this.refresh();}},_destroy:function(){var opts=this.options,items=this._getFilterableItems();if(opts.enhanced){items.toggleClass("ui-screen-hidden",opts.filterReveal);}else{items.removeClass("ui-screen-hidden");}},refresh:function(){if(this._timer){_c1a.clearTimeout(this._timer);this._timer=0;}this._filterItems(((this._search&&this._search.val())||"").toLowerCase());}});})(_c19);(function($,_10f0){var _10f1=function(self,orig){return function(_10f2){orig.call(this,_10f2);self._syncTextInputOptions(_10f2);};},_10f3=/(^|\s)ui-li-divider(\s|$)/,_10f4=$.mobile.filterable.prototype.options.filterCallback;$.mobile.filterable.prototype.options.filterCallback=function(index,_10f5){return !this.className.match(_10f3)&&_10f4.call(this,index,_10f5);};$.widget("mobile.filterable",$.mobile.filterable,{options:{filterPlaceholder:"Filter items...",filterTheme:null},_create:function(){var idx,_10f6,elem=this.element,_10f7=["collapsibleset","selectmenu","controlgroup","listview"],_10f8={};this._super();$.extend(this,{_widget:null});for(idx=_10f7.length-1;idx>-1;idx--){_10f6=_10f7[idx];if($.mobile[_10f6]){if(this._setWidget(elem.data("mobile-"+_10f6))){break;}else{_10f8[_10f6+"create"]="_handleCreate";}}}if(!this._widget){this._on(elem,_10f8);}},_handleCreate:function(evt){this._setWidget(this.element.data("mobile-"+evt.type.substring(0,evt.type.length-6)));},_setWidget:function(_10f9){if(!this._widget&&_10f9){this._widget=_10f9;this._widget._setOptions=_10f1(this,this._widget._setOptions);}if(!!this._widget){this._syncTextInputOptions(this._widget.options);if(this._widget.widgetName==="listview"){this._widget.options.hidedividers=true;this._widget.element.listview("refresh");}}return !!this._widget;},_isSearchInternal:function(){return (this._search&&this._search.jqmData("ui-filterable-"+this.uuid+"-internal"));},_setInput:function(_10fa){var opts=this.options,_10fb=true,_10fc={};if(!_10fa){if(this._isSearchInternal()){return;}else{_10fb=false;_10fa=$("<input "+"data-"+$.mobile.ns+"type='search' "+"placeholder='"+opts.filterPlaceholder+"'></input>").jqmData("ui-filterable-"+this.uuid+"-internal",true);$("<form class='ui-filterable'></form>").append(_10fa).submit(function(evt){evt.preventDefault();_10fa.blur();}).insertBefore(this.element);if($.mobile.textinput){if(this.options.filterTheme!=null){_10fc["theme"]=opts.filterTheme;}_10fa.textinput(_10fc);}}}this._super(_10fa);if(this._isSearchInternal()&&_10fb){this._search.attr("placeholder",this.options.filterPlaceholder);}},_setOptions:function(_10fd){var ret=this._super(_10fd);if(_10fd.filterPlaceholder!==_10f0){if(this._isSearchInternal()){this._search.attr("placeholder",_10fd.filterPlaceholder);}}if(_10fd.filterTheme!==_10f0&&this._search&&$.mobile.textinput){this._search.textinput("option","theme",_10fd.filterTheme);}return ret;},_destroy:function(){if(this._isSearchInternal()){this._search.remove();}this._super();},_syncTextInputOptions:function(_10fe){var idx,_10ff={};if(this._isSearchInternal()&&$.mobile.textinput){for(idx in $.mobile.textinput.prototype.options){if(_10fe[idx]!==_10f0){if(idx==="theme"&&this.options.filterTheme!=null){_10ff[idx]=this.options.filterTheme;}else{_10ff[idx]=_10fe[idx];}}}this._search.textinput("option",_10ff);}}});})(_c19);(function($,_1100){var tabId=0,rhash=/#.*$/;function _1101(){return ++tabId;};function _1102(_1103){return _1103.hash.length>1&&decodeURIComponent(_1103.href.replace(rhash,""))===decodeURIComponent(location.href.replace(rhash,""));};$.widget("ui.tabs",{version:"fadf2b312a05040436451c64bbfaf4814bc62c56",delay:300,options:{active:null,collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var that=this,_1104=this.options;this.running=false;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",_1104.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(event){if($(this).is(".ui-state-disabled")){event.preventDefault();}}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){if($(this).closest("li").is(".ui-state-disabled")){this.blur();}});this._processTabs();_1104.active=this._initialActive();if($.isArray(_1104.disabled)){_1104.disabled=$.unique(_1104.disabled.concat($.map(this.tabs.filter(".ui-state-disabled"),function(li){return that.tabs.index(li);}))).sort();}if(this.options.active!==false&&this.anchors.length){this.active=this._findActive(_1104.active);}else{this.active=$();}this._refresh();if(this.active.length){this.load(_1104.active);}},_initialActive:function(){var _1105=this.options.active,_1106=this.options.collapsible,_1107=location.hash.substring(1);if(_1105===null){if(_1107){this.tabs.each(function(i,tab){if($(tab).attr("aria-controls")===_1107){_1105=i;return false;}});}if(_1105===null){_1105=this.tabs.index(this.tabs.filter(".ui-tabs-active"));}if(_1105===null||_1105===-1){_1105=this.tabs.length?0:false;}}if(_1105!==false){_1105=this.tabs.index(this.tabs.eq(_1105));if(_1105===-1){_1105=_1106?false:0;}}if(!_1106&&_1105===false&&this.anchors.length){_1105=0;}return _1105;},_getCreateEventData:function(){return {tab:this.active,panel:!this.active.length?$():this._getPanelForTab(this.active)};},_tabKeydown:function(event){var _1108=$(this.document[0].activeElement).closest("li"),_1109=this.tabs.index(_1108),_110a=true;if(this._handlePageNav(event)){return;}switch(event.keyCode){case $.ui.keyCode.RIGHT:case $.ui.keyCode.DOWN:_1109++;break;case $.ui.keyCode.UP:case $.ui.keyCode.LEFT:_110a=false;_1109--;break;case $.ui.keyCode.END:_1109=this.anchors.length-1;break;case $.ui.keyCode.HOME:_1109=0;break;case $.ui.keyCode.SPACE:event.preventDefault();clearTimeout(this.activating);this._activate(_1109);return;case $.ui.keyCode.ENTER:event.preventDefault();clearTimeout(this.activating);this._activate(_1109===this.options.active?false:_1109);return;default:return;}event.preventDefault();clearTimeout(this.activating);_1109=this._focusNextTab(_1109,_110a);if(!event.ctrlKey){_1108.attr("aria-selected","false");this.tabs.eq(_1109).attr("aria-selected","true");this.activating=this._delay(function(){this.option("active",_1109);},this.delay);}},_panelKeydown:function(event){if(this._handlePageNav(event)){return;}if(event.ctrlKey&&event.keyCode===$.ui.keyCode.UP){event.preventDefault();this.active.focus();}},_handlePageNav:function(event){if(event.altKey&&event.keyCode===$.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true;}if(event.altKey&&event.keyCode===$.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true;}},_findNextTab:function(index,_110b){var _110c=this.tabs.length-1;function _110d(){if(index>_110c){index=0;}if(index<0){index=_110c;}return index;};while($.inArray(_110d(),this.options.disabled)!==-1){index=_110b?index+1:index-1;}return index;},_focusNextTab:function(index,_110e){index=this._findNextTab(index,_110e);this.tabs.eq(index).focus();return index;},_setOption:function(key,value){if(key==="active"){this._activate(value);return;}if(key==="disabled"){this._setupDisabled(value);return;}this._super(key,value);if(key==="collapsible"){this.element.toggleClass("ui-tabs-collapsible",value);if(!value&&this.options.active===false){this._activate(0);}}if(key==="event"){this._setupEvents(value);}if(key==="heightStyle"){this._setupHeightStyle(value);}},_tabId:function(tab){return tab.attr("aria-controls")||"ui-tabs-"+_1101();},_sanitizeSelector:function(hash){return hash?hash.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):"";},refresh:function(){var _110f=this.options,lis=this.tablist.children(":has(a[href])");_110f.disabled=$.map(lis.filter(".ui-state-disabled"),function(tab){return lis.index(tab);});this._processTabs();if(_110f.active===false||!this.anchors.length){_110f.active=false;this.active=$();}else{if(this.active.length&&!$.contains(this.tablist[0],this.active[0])){if(this.tabs.length===_110f.disabled.length){_110f.active=false;this.active=$();}else{this._activate(this._findNextTab(Math.max(0,_110f.active-1),false));}}else{_110f.active=this.tabs.index(this.active);}}this._refresh();},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});if(!this.active.length){this.tabs.eq(0).attr("tabIndex",0);}else{this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0});this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"});}},_processTabs:function(){var that=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return $("a",this)[0];}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=$();this.anchors.each(function(i,_1110){var _1111,panel,_1112,_1113=$(_1110).uniqueId().attr("id"),tab=$(_1110).closest("li"),_1114=tab.attr("aria-controls");if(_1102(_1110)){_1111=_1110.hash;panel=that.element.find(that._sanitizeSelector(_1111));}else{_1112=that._tabId(tab);_1111="#"+_1112;panel=that.element.find(_1111);if(!panel.length){panel=that._createPanel(_1112);panel.insertAfter(that.panels[i-1]||that.tablist);}panel.attr("aria-live","polite");}if(panel.length){that.panels=that.panels.add(panel);}if(_1114){tab.data("ui-tabs-aria-controls",_1114);}tab.attr({"aria-controls":_1111.substring(1),"aria-labelledby":_1113});panel.attr("aria-labelledby",_1113);});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel");},_getList:function(){return this.element.find("ol,ul").eq(0);},_createPanel:function(id){return $("<div>").attr("id",id).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",true);},_setupDisabled:function(_1115){if($.isArray(_1115)){if(!_1115.length){_1115=false;}else{if(_1115.length===this.anchors.length){_1115=true;}}}for(var i=0,li;(li=this.tabs[i]);i++){if(_1115===true||$.inArray(i,_1115)!==-1){$(li).addClass("ui-state-disabled").attr("aria-disabled","true");}else{$(li).removeClass("ui-state-disabled").removeAttr("aria-disabled");}}this.options.disabled=_1115;},_setupEvents:function(event){var _1116={click:function(event){event.preventDefault();}};if(event){$.each(event.split(" "),function(index,_1117){_1116[_1117]="_eventHandler";});}this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,_1116);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs);},_setupHeightStyle:function(_1118){var _1119,_111a=this.element.parent();if(_1118==="fill"){_1119=_111a.height();_1119-=this.element.outerHeight()-this.element.height();this.element.siblings(":visible").each(function(){var elem=$(this),_111b=elem.css("position");if(_111b==="absolute"||_111b==="fixed"){return;}_1119-=elem.outerHeight(true);});this.element.children().not(this.panels).each(function(){_1119-=$(this).outerHeight(true);});this.panels.each(function(){$(this).height(Math.max(0,_1119-$(this).innerHeight()+$(this).height()));}).css("overflow","auto");}else{if(_1118==="auto"){_1119=0;this.panels.each(function(){_1119=Math.max(_1119,$(this).height("").height());}).height(_1119);}}},_eventHandler:function(event){var _111c=this.options,_111d=this.active,_111e=$(event.currentTarget),tab=_111e.closest("li"),_111f=tab[0]===_111d[0],_1120=_111f&&_111c.collapsible,_1121=_1120?$():this._getPanelForTab(tab),_1122=!_111d.length?$():this._getPanelForTab(_111d),_1123={oldTab:_111d,oldPanel:_1122,newTab:_1120?$():tab,newPanel:_1121};event.preventDefault();if(tab.hasClass("ui-state-disabled")||tab.hasClass("ui-tabs-loading")||this.running||(_111f&&!_111c.collapsible)||(this._trigger("beforeActivate",event,_1123)===false)){return;}_111c.active=_1120?false:this.tabs.index(tab);this.active=_111f?$():tab;if(this.xhr){this.xhr.abort();}if(!_1122.length&&!_1121.length){$.error("jQuery UI Tabs: Mismatching fragment identifier.");}if(_1121.length){this.load(this.tabs.index(tab),event);}this._toggle(event,_1123);},_toggle:function(event,_1124){var that=this,_1125=_1124.newPanel,_1126=_1124.oldPanel;this.running=true;function _1127(){that.running=false;that._trigger("activate",event,_1124);};function show(){_1124.newTab.closest("li").addClass("ui-tabs-active ui-state-active");if(_1125.length&&that.options.show){that._show(_1125,that.options.show,_1127);}else{_1125.show();_1127();}};if(_1126.length&&this.options.hide){this._hide(_1126,this.options.hide,function(){_1124.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");show();});}else{_1124.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");_1126.hide();show();}_1126.attr({"aria-expanded":"false","aria-hidden":"true"});_1124.oldTab.attr("aria-selected","false");if(_1125.length&&_1126.length){_1124.oldTab.attr("tabIndex",-1);}else{if(_1125.length){this.tabs.filter(function(){return $(this).attr("tabIndex")===0;}).attr("tabIndex",-1);}}_1125.attr({"aria-expanded":"true","aria-hidden":"false"});_1124.newTab.attr({"aria-selected":"true",tabIndex:0});},_activate:function(index){var _1128,_1129=this._findActive(index);if(_1129[0]===this.active[0]){return;}if(!_1129.length){_1129=this.active;}_1128=_1129.find(".ui-tabs-anchor")[0];this._eventHandler({target:_1128,currentTarget:_1128,preventDefault:$.noop});},_findActive:function(index){return index===false?$():this.tabs.eq(index);},_getIndex:function(index){if(typeof index==="string"){index=this.anchors.index(this.anchors.filter("[href$='"+index+"']"));}return index;},_destroy:function(){if(this.xhr){this.xhr.abort();}this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId();this.tabs.add(this.panels).each(function(){if($.data(this,"ui-tabs-destroy")){$(this).remove();}else{$(this).removeClass("ui-state-default ui-state-active ui-state-disabled "+"ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role");}});this.tabs.each(function(){var li=$(this),prev=li.data("ui-tabs-aria-controls");if(prev){li.attr("aria-controls",prev).removeData("ui-tabs-aria-controls");}else{li.removeAttr("aria-controls");}});this.panels.show();if(this.options.heightStyle!=="content"){this.panels.css("height","");}},enable:function(index){var _112a=this.options.disabled;if(_112a===false){return;}if(index===_1100){_112a=false;}else{index=this._getIndex(index);if($.isArray(_112a)){_112a=$.map(_112a,function(num){return num!==index?num:null;});}else{_112a=$.map(this.tabs,function(li,num){return num!==index?num:null;});}}this._setupDisabled(_112a);},disable:function(index){var _112b=this.options.disabled;if(_112b===true){return;}if(index===_1100){_112b=true;}else{index=this._getIndex(index);if($.inArray(index,_112b)!==-1){return;}if($.isArray(_112b)){_112b=$.merge([index],_112b).sort();}else{_112b=[index];}}this._setupDisabled(_112b);},load:function(index,event){index=this._getIndex(index);var that=this,tab=this.tabs.eq(index),_112c=tab.find(".ui-tabs-anchor"),panel=this._getPanelForTab(tab),_112d={tab:tab,panel:panel};if(_1102(_112c[0])){return;}this.xhr=$.ajax(this._ajaxSettings(_112c,event,_112d));if(this.xhr&&this.xhr.statusText!=="canceled"){tab.addClass("ui-tabs-loading");panel.attr("aria-busy","true");this.xhr.success(function(_112e){setTimeout(function(){panel.html(_112e);that._trigger("load",event,_112d);},1);}).complete(function(jqXHR,_112f){setTimeout(function(){if(_112f==="abort"){that.panels.stop(false,true);}tab.removeClass("ui-tabs-loading");panel.removeAttr("aria-busy");if(jqXHR===that.xhr){delete that.xhr;}},1);});}},_ajaxSettings:function(_1130,event,_1131){var that=this;return {url:_1130.attr("href"),beforeSend:function(jqXHR,_1132){return that._trigger("beforeLoad",event,$.extend({jqXHR:jqXHR,ajaxSettings:_1132},_1131));}};},_getPanelForTab:function(tab){var id=$(tab).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+id));}});})(_c19);(function($,_1133){})(_c19);(function($,_1134){$.mobile.iosorientationfixEnabled=true;var ua=navigator.userAgent,zoom,evt,x,y,z,aig;if(!(/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(ua)&&ua.indexOf("AppleWebKit")>-1)){$.mobile.iosorientationfixEnabled=false;return;}zoom=$.mobile.zoom;function _1135(e){evt=e.originalEvent;aig=evt.accelerationIncludingGravity;x=Math.abs(aig.x);y=Math.abs(aig.y);z=Math.abs(aig.z);if(!_1134.orientation&&(x>7||((z>6&&y<8||z<8&&y>6)&&x>5))){if(zoom.enabled){zoom.disable();}}else{if(!zoom.enabled){zoom.enable();}}};$.mobile.document.on("mobileinit",function(){if($.mobile.iosorientationfixEnabled){$.mobile.window.bind("orientationchange.iosorientationfix",zoom.enable).bind("devicemotion.iosorientationfix",_1135);}});}(_c19,this));(function($,_1136,_1137){var $html=$("html"),_1138=$.mobile.window;function _1139(){$html.removeClass("ui-mobile-rendering");};$(_1136.document).trigger("mobileinit");if(!$.mobile.gradeA()){return;}if($.mobile.ajaxBlacklist){$.mobile.ajaxEnabled=false;}$html.addClass("ui-mobile ui-mobile-rendering");setTimeout(_1139,5000);$.extend($.mobile,{initializePage:function(){var path=$.mobile.path,_113a=$(":jqmData(role='page'), :jqmData(role='dialog')"),hash=path.stripHash(path.stripQueryParams(path.parseLocation().hash)),_113b=_c1b.getElementById(hash);if(!_113a.length){_113a=$("body").wrapInner("<div data-"+$.mobile.ns+"role='page'></div>").children(0);}_113a.each(function(){var $this=$(this);if(!$this[0].getAttribute("data-"+$.mobile.ns+"url")){$this.attr("data-"+$.mobile.ns+"url",$this.attr("id")||location.pathname+location.search);}});$.mobile.firstPage=_113a.first();$.mobile.pageContainer=$.mobile.firstPage.parent().addClass("ui-mobile-viewport").pagecontainer();$.mobile.navreadyDeferred.resolve();_1138.trigger("pagecontainercreate");$.mobile.loading("show");_1139();if(!($.mobile.hashListeningEnabled&&$.mobile.path.isHashValid(location.hash)&&($(_113b).is(":jqmData(role='page')")||$.mobile.path.isPath(hash)||hash===$.mobile.dialogHashKey))){if($.mobile.path.isHashValid(location.hash)){$.mobile.navigate.history.initialDst=hash.replace("#","");}if($.event.special.navigate.isPushStateEnabled()){$.mobile.navigate.navigator.squash(path.parseLocation().href);}$.mobile.changePage($.mobile.firstPage,{transition:"none",reverse:true,changeHash:false,fromHashChange:true});}else{if(!$.event.special.navigate.isPushStateEnabled()){_1138.trigger("hashchange",[true]);}else{$.mobile.navigate.history.stack=[];$.mobile.navigate($.mobile.path.isPath(location.hash)?location.hash:location.href);}}}});$(function(){$.support.inlineSVG();if($.mobile.hideUrlBar){_1136.scrollTo(0,1);}$.mobile.defaultHomeScroll=(!$.support.scrollTop||$.mobile.window.scrollTop()===1)?0:1;if($.mobile.autoInitializePage){$.mobile.initializePage();}if($.mobile.hideUrlBar){_1138.load($.mobile.silentScroll);}if(!$.support.cssPointerEvents){$.mobile.document.delegate(".ui-state-disabled,.ui-disabled","vclick",function(e){e.preventDefault();e.stopImmediatePropagation();});}});}(_c19,this));}));(function(_113c,_113d,Math){var rAF=_113c.requestAnimationFrame||_113c.webkitRequestAnimationFrame||_113c.mozRequestAnimationFrame||_113c.oRequestAnimationFrame||_113c.msRequestAnimationFrame||function(_113e){_113c.setTimeout(_113e,1000/60);};var utils=(function(){var me={};var _113f=_113d.createElement("div").style;var _1140=(function(){var _1141=["t","webkitT","MozT","msT","OT"],_1142,i=0,l=_1141.length;for(;i<l;i++){_1142=_1141[i]+"ransform";if(_1142 in _113f){return _1141[i].substr(0,_1141[i].length-1);}}return false;})();function _1143(style){if(_1140===false){return false;}if(_1140===""){return style;}return _1140+style.charAt(0).toUpperCase()+style.substr(1);};me.getTime=Date.now||function getTime(){return new Date().getTime();};me.extend=function(_1144,obj){for(var i in obj){_1144[i]=obj[i];}};me.addEvent=function(el,type,fn,_1145){el.addEventListener(type,fn,!!_1145);};me.removeEvent=function(el,type,fn,_1146){el.removeEventListener(type,fn,!!_1146);};me.momentum=function(_1147,start,time,_1148,_1149,_114a){var _114b=_1147-start,speed=Math.abs(_114b)/time,_114c,_114d;_114a=_114a===undefined?0.0006:_114a;_114c=_1147+(speed*speed)/(2*_114a)*(_114b<0?-1:1);_114d=speed/_114a;if(_114c<_1148){_114c=_1149?_1148-(_1149/2.5*(speed/8)):_1148;_114b=Math.abs(_114c-_1147);_114d=_114b/speed;}else{if(_114c>0){_114c=_1149?_1149/2.5*(speed/8):0;_114b=Math.abs(_1147)+_114c;_114d=_114b/speed;}}return {destination:Math.round(_114c),duration:_114d};};var _114e=_1143("transform");me.extend(me,{hasTransform:_114e!==false,hasPerspective:_1143("perspective") in _113f,hasTouch:"ontouchstart" in _113c,hasPointer:navigator.msPointerEnabled,hasTransition:_1143("transition") in _113f});me.isBadAndroid=/Android /.test(_113c.navigator.appVersion)&&!(/Chrome\/\d/.test(_113c.navigator.appVersion));me.extend(me.style={},{transform:_114e,transitionTimingFunction:_1143("transitionTimingFunction"),transitionDuration:_1143("transitionDuration"),transitionDelay:_1143("transitionDelay"),transformOrigin:_1143("transformOrigin")});me.hasClass=function(e,c){var re=new RegExp("(^|\\s)"+c+"(\\s|$)");return re.test(e.className);};me.addClass=function(e,c){if(me.hasClass(e,c)){return;}var _114f=e.className.split(" ");_114f.push(c);e.className=_114f.join(" ");};me.removeClass=function(e,c){if(!me.hasClass(e,c)){return;}var re=new RegExp("(^|\\s)"+c+"(\\s|$)","g");e.className=e.className.replace(re," ");};me.offset=function(el){var left=-el.offsetLeft,top=-el.offsetTop;while(el=el.offsetParent){left-=el.offsetLeft;top-=el.offsetTop;}return {left:left,top:top};};me.preventDefaultException=function(el,_1150){for(var i in _1150){if(_1150[i].test(el[i])){return true;}}return false;};me.extend(me.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3});me.extend(me.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(k){return k*(2-k);}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(k){return Math.sqrt(1-(--k*k));}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(k){var b=4;return (k=k-1)*k*((b+1)*k+b)+1;}},bounce:{style:"",fn:function(k){if((k/=1)<(1/2.75)){return 7.5625*k*k;}else{if(k<(2/2.75)){return 7.5625*(k-=(1.5/2.75))*k+0.75;}else{if(k<(2.5/2.75)){return 7.5625*(k-=(2.25/2.75))*k+0.9375;}else{return 7.5625*(k-=(2.625/2.75))*k+0.984375;}}}}},elastic:{style:"",fn:function(k){var f=0.22,e=0.4;if(k===0){return 0;}if(k==1){return 1;}return (e*Math.pow(2,-10*k)*Math.sin((k-f/4)*(2*Math.PI)/f)+1);}}});me.tap=function(e,_1151){var ev=_113d.createEvent("Event");ev.initEvent(_1151,true,true);ev.pageX=e.pageX;ev.pageY=e.pageY;e.target.dispatchEvent(ev);};me.click=function(e){var _1152=e.target,ev;if(!(/(SELECT|INPUT|TEXTAREA)/i).test(_1152.tagName)){ev=_113d.createEvent("MouseEvents");ev.initMouseEvent("click",true,true,e.view,1,_1152.screenX,_1152.screenY,_1152.clientX,_1152.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null);ev._constructed=true;_1152.dispatchEvent(ev);}};return me;})();function _1153(el,_1154){this.wrapper=typeof el=="string"?_113d.querySelector(el):el;this.scroller=this.wrapper.children[0];this.scrollerStyle=this.scroller.style;this.options={resizeScrollbars:true,mouseWheelSpeed:20,snapThreshold:0.334,startX:0,startY:0,scrollY:true,directionLockThreshold:5,momentum:true,bounce:true,bounceTime:600,bounceEasing:"",preventDefault:true,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:true,useTransition:true,useTransform:true};for(var i in _1154){this.options[i]=_1154[i];}this.translateZ=this.options.HWCompositing&&utils.hasPerspective?" translateZ(0)":"";this.options.useTransition=utils.hasTransition&&this.options.useTransition;this.options.useTransform=utils.hasTransform&&this.options.useTransform;this.options.eventPassthrough=this.options.eventPassthrough===true?"vertical":this.options.eventPassthrough;this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault;this.options.scrollY=this.options.eventPassthrough=="vertical"?false:this.options.scrollY;this.options.scrollX=this.options.eventPassthrough=="horizontal"?false:this.options.scrollX;this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough;this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold;this.options.bounceEasing=typeof this.options.bounceEasing=="string"?utils.ease[this.options.bounceEasing]||utils.ease.circular:this.options.bounceEasing;this.options.resizePolling=this.options.resizePolling===undefined?60:this.options.resizePolling;if(this.options.tap===true){this.options.tap="tap";}if(this.options.shrinkScrollbars=="scale"){this.options.useTransition=false;}this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1;if(this.options.probeType==3){this.options.useTransition=false;}this.x=0;this.y=0;this.directionX=0;this.directionY=0;this._events={};this._init();this.refresh();this.scrollTo(this.options.startX,this.options.startY);this.enable();};_1153.prototype={version:"5.1.1",_init:function(){this._initEvents();if(this.options.scrollbars||this.options.indicators){this._initIndicators();}if(this.options.mouseWheel){this._initWheel();}if(this.options.snap){this._initSnap();}if(this.options.keyBindings){this._initKeys();}},destroy:function(){this._initEvents(true);this._execEvent("destroy");},_transitionEnd:function(e){if(e.target!=this.scroller||!this.isInTransition){return;}this._transitionTime();if(!this.resetPosition(this.options.bounceTime)){this.isInTransition=false;this._execEvent("scrollEnd");}},_start:function(e){if(utils.eventType[e.type]!=1){if(e.button!==0){return;}}if(!this.enabled||(this.initiated&&utils.eventType[e.type]!==this.initiated)){return;}if(this.options.preventDefault&&!utils.isBadAndroid&&!utils.preventDefaultException(e.target,this.options.preventDefaultException)){e.preventDefault();}var point=e.touches?e.touches[0]:e,pos;this.initiated=utils.eventType[e.type];this.moved=false;this.distX=0;this.distY=0;this.directionX=0;this.directionY=0;this.directionLocked=0;this._transitionTime();this.startTime=utils.getTime();if(this.options.useTransition&&this.isInTransition){this.isInTransition=false;pos=this.getComputedPosition();this._translate(Math.round(pos.x),Math.round(pos.y));this._execEvent("scrollEnd");}else{if(!this.options.useTransition&&this.isAnimating){this.isAnimating=false;this._execEvent("scrollEnd");}}this.startX=this.x;this.startY=this.y;this.absStartX=this.x;this.absStartY=this.y;this.pointX=point.pageX;this.pointY=point.pageY;this._execEvent("beforeScrollStart");},_move:function(e){if(!this.enabled||utils.eventType[e.type]!==this.initiated){return;}if(this.options.preventDefault){e.preventDefault();}var point=e.touches?e.touches[0]:e,_1155=point.pageX-this.pointX,_1156=point.pageY-this.pointY,_1157=utils.getTime(),newX,newY,_1158,_1159;this.pointX=point.pageX;this.pointY=point.pageY;this.distX+=_1155;this.distY+=_1156;_1158=Math.abs(this.distX);_1159=Math.abs(this.distY);if(_1157-this.endTime>100&&(_1158<10&&_1159<10)){}if(!this.directionLocked&&!this.options.freeScroll){if(_1158>_1159+this.options.directionLockThreshold){this.directionLocked="h";}else{if(_1159>=_1158+this.options.directionLockThreshold){this.directionLocked="v";}else{this.directionLocked="n";}}}if(this.directionLocked=="h"){if(this.options.eventPassthrough=="vertical"){e.preventDefault();}else{if(this.options.eventPassthrough=="horizontal"){this.initiated=false;return;}}_1156=0;}else{if(this.directionLocked=="v"){if(this.options.eventPassthrough=="horizontal"){e.preventDefault();}else{if(this.options.eventPassthrough=="vertical"){this.initiated=false;return;}}_1155=0;}}_1155=this.hasHorizontalScroll?_1155:0;_1156=this.hasVerticalScroll?_1156:0;newX=this.x+_1155;newY=this.y+_1156;if(newX>0||newX<this.maxScrollX){newX=this.options.bounce?this.x+_1155/3:newX>0?0:this.maxScrollX;}if(newY>0||newY<this.maxScrollY){newY=this.options.bounce?this.y+_1156/3:newY>0?0:this.maxScrollY;}this.directionX=_1155>0?-1:_1155<0?1:0;this.directionY=_1156>0?-1:_1156<0?1:0;if(!this.moved){this._execEvent("scrollStart");}this.moved=true;this._translate(newX,newY);if(_1157-this.startTime>300){this.startTime=_1157;this.startX=this.x;this.startY=this.y;if(this.options.probeType==1){this._execEvent("scroll");}}if(this.options.probeType>1){this._execEvent("scroll");}},_end:function(e){if(!this.enabled||utils.eventType[e.type]!==this.initiated){return;}if(this.options.preventDefault&&!utils.preventDefaultException(e.target,this.options.preventDefaultException)){e.preventDefault();}var point=e.changedTouches?e.changedTouches[0]:e,_115a,_115b,_115c=utils.getTime()-this.startTime,newX=Math.round(this.x),newY=Math.round(this.y),_115d=Math.abs(newX-this.startX),_115e=Math.abs(newY-this.startY),time=0,_115f="";this.isInTransition=0;this.initiated=0;this.endTime=utils.getTime();if(this.resetPosition(this.options.bounceTime)){return;}this.scrollTo(newX,newY);if(!this.moved){if(this.options.tap){utils.tap(e,this.options.tap);}if(this.options.click){utils.click(e);}this._execEvent("scrollCancel");return;}if(this._events.flick&&_115c<200&&_115d<100&&_115e<100){this._execEvent("flick");return;}if(this.options.momentum&&_115c<300){_115a=this.hasHorizontalScroll?utils.momentum(this.x,this.startX,_115c,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:newX,duration:0};_115b=this.hasVerticalScroll?utils.momentum(this.y,this.startY,_115c,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:newY,duration:0};newX=_115a.destination;newY=_115b.destination;time=Math.max(_115a.duration,_115b.duration);this.isInTransition=1;}if(this.options.snap){var snap=this._nearestSnap(newX,newY);this.currentPage=snap;time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(newX-snap.x),1000),Math.min(Math.abs(newY-snap.y),1000)),300);newX=snap.x;newY=snap.y;this.directionX=0;this.directionY=0;_115f=this.options.bounceEasing;}if(newX!=this.x||newY!=this.y){if(newX>0||newX<this.maxScrollX||newY>0||newY<this.maxScrollY){_115f=utils.ease.quadratic;}this.scrollTo(newX,newY,time,_115f);return;}this._execEvent("scrollEnd");},_resize:function(){var that=this;clearTimeout(this.resizeTimeout);this.resizeTimeout=setTimeout(function(){that.refresh();},this.options.resizePolling);},resetPosition:function(time){var x=this.x,y=this.y;time=time||0;if(!this.hasHorizontalScroll||this.x>0){x=0;}else{if(this.x<this.maxScrollX){x=this.maxScrollX;}}if(!this.hasVerticalScroll||this.y>0){y=0;}else{if(this.y<this.maxScrollY){y=this.maxScrollY;}}if(x==this.x&&y==this.y){return false;}this.scrollTo(x,y,time,this.options.bounceEasing);return true;},disable:function(){this.enabled=false;},enable:function(){this.enabled=true;},refresh:function(){var rf=this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth;this.wrapperHeight=this.wrapper.clientHeight;this.scrollerWidth=this.scroller.offsetWidth;this.scrollerHeight=this.scroller.offsetHeight;this.maxScrollX=this.wrapperWidth-this.scrollerWidth;this.maxScrollY=this.wrapperHeight-this.scrollerHeight;this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0;this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0;if(!this.hasHorizontalScroll){this.maxScrollX=0;this.scrollerWidth=this.wrapperWidth;}if(!this.hasVerticalScroll){this.maxScrollY=0;this.scrollerHeight=this.wrapperHeight;}this.endTime=0;this.directionX=0;this.directionY=0;this.wrapperOffset=utils.offset(this.wrapper);this._execEvent("refresh");this.resetPosition();},on:function(type,fn){if(!this._events[type]){this._events[type]=[];}this._events[type].push(fn);},off:function(type,fn){if(!this._events[type]){return;}var index=this._events[type].indexOf(fn);if(index>-1){this._events[type].splice(index,1);}},_execEvent:function(type){if(!this._events[type]){return;}var i=0,l=this._events[type].length;if(!l){return;}for(;i<l;i++){this._events[type][i].apply(this,[].slice.call(arguments,1));}},scrollBy:function(x,y,time,_1160){x=this.x+x;y=this.y+y;time=time||0;this.scrollTo(x,y,time,_1160);},scrollTo:function(x,y,time,_1161){_1161=_1161||utils.ease.circular;this.isInTransition=this.options.useTransition&&time>0;if(!time||(this.options.useTransition&&_1161.style)){this._transitionTimingFunction(_1161.style);this._transitionTime(time);this._translate(x,y);}else{this._animate(x,y,time,_1161.fn);}},scrollToElement:function(el,time,_1162,_1163,_1164){el=el.nodeType?el:this.scroller.querySelector(el);if(!el){return;}var pos=utils.offset(el);pos.left-=this.wrapperOffset.left;pos.top-=this.wrapperOffset.top;if(_1162===true){_1162=Math.round(el.offsetWidth/2-this.wrapper.offsetWidth/2);}if(_1163===true){_1163=Math.round(el.offsetHeight/2-this.wrapper.offsetHeight/2);}pos.left-=_1162||0;pos.top-=_1163||0;pos.left=pos.left>0?0:pos.left<this.maxScrollX?this.maxScrollX:pos.left;pos.top=pos.top>0?0:pos.top<this.maxScrollY?this.maxScrollY:pos.top;time=time===undefined||time===null||time==="auto"?Math.max(Math.abs(this.x-pos.left),Math.abs(this.y-pos.top)):time;this.scrollTo(pos.left,pos.top,time,_1164);},_transitionTime:function(time){time=time||0;this.scrollerStyle[utils.style.transitionDuration]=time+"ms";if(!time&&utils.isBadAndroid){this.scrollerStyle[utils.style.transitionDuration]="0.001s";}if(this.indicators){for(var i=this.indicators.length;i--;){this.indicators[i].transitionTime(time);}}},_transitionTimingFunction:function(_1165){this.scrollerStyle[utils.style.transitionTimingFunction]=_1165;if(this.indicators){for(var i=this.indicators.length;i--;){this.indicators[i].transitionTimingFunction(_1165);}}},_translate:function(x,y){if(this.options.useTransform){this.scrollerStyle[utils.style.transform]="translate("+x+"px,"+y+"px)"+this.translateZ;}else{x=Math.round(x);y=Math.round(y);this.scrollerStyle.left=x+"px";this.scrollerStyle.top=y+"px";}this.x=x;this.y=y;if(this.indicators){for(var i=this.indicators.length;i--;){this.indicators[i].updatePosition();}}},_initEvents:function(_1166){var _1167=_1166?utils.removeEvent:utils.addEvent,_1168=this.options.bindToWrapper?this.wrapper:_113c;_1167(_113c,"orientationchange",this);_1167(_113c,"resize",this);if(this.options.click){_1167(this.wrapper,"click",this,true);}if(!this.options.disableMouse){_1167(this.wrapper,"mousedown",this);_1167(_1168,"mousemove",this);_1167(_1168,"mousecancel",this);_1167(_1168,"mouseup",this);}if(utils.hasPointer&&!this.options.disablePointer){_1167(this.wrapper,"MSPointerDown",this);_1167(_1168,"MSPointerMove",this);_1167(_1168,"MSPointerCancel",this);_1167(_1168,"MSPointerUp",this);}if(utils.hasTouch&&!this.options.disableTouch){_1167(this.wrapper,"touchstart",this);_1167(_1168,"touchmove",this);_1167(_1168,"touchcancel",this);_1167(_1168,"touchend",this);}_1167(this.scroller,"transitionend",this);_1167(this.scroller,"webkitTransitionEnd",this);_1167(this.scroller,"oTransitionEnd",this);_1167(this.scroller,"MSTransitionEnd",this);},getComputedPosition:function(){var _1169=_113c.getComputedStyle(this.scroller,null),x,y;if(this.options.useTransform){_1169=_1169[utils.style.transform].split(")")[0].split(", ");x=+(_1169[12]||_1169[4]);y=+(_1169[13]||_1169[5]);}else{x=+_1169.left.replace(/[^-\d.]/g,"");y=+_1169.top.replace(/[^-\d.]/g,"");}return {x:x,y:y};},_initIndicators:function(){var _116a=this.options.interactiveScrollbars,_116b=typeof this.options.scrollbars!="string",_116c=[],_116d;var that=this;this.indicators=[];if(this.options.scrollbars){if(this.options.scrollY){_116d={el:_116e("v",_116a,this.options.scrollbars),interactive:_116a,defaultScrollbars:true,customStyle:_116b,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:false};this.wrapper.appendChild(_116d.el);_116c.push(_116d);}if(this.options.scrollX){_116d={el:_116e("h",_116a,this.options.scrollbars),interactive:_116a,defaultScrollbars:true,customStyle:_116b,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:false};this.wrapper.appendChild(_116d.el);_116c.push(_116d);}}if(this.options.indicators){_116c=_116c.concat(this.options.indicators);}for(var i=_116c.length;i--;){this.indicators.push(new _116f(this,_116c[i]));}function _1170(fn){for(var i=that.indicators.length;i--;){fn.call(that.indicators[i]);}};if(this.options.fadeScrollbars){this.on("scrollEnd",function(){_1170(function(){this.fade();});});this.on("scrollCancel",function(){_1170(function(){this.fade();});});this.on("scrollStart",function(){_1170(function(){this.fade(1);});});this.on("beforeScrollStart",function(){_1170(function(){this.fade(1,true);});});}this.on("refresh",function(){_1170(function(){this.refresh();});});this.on("destroy",function(){_1170(function(){this.destroy();});delete this.indicators;});},_initWheel:function(){utils.addEvent(this.wrapper,"wheel",this);utils.addEvent(this.wrapper,"mousewheel",this);utils.addEvent(this.wrapper,"DOMMouseScroll",this);this.on("destroy",function(){utils.removeEvent(this.wrapper,"wheel",this);utils.removeEvent(this.wrapper,"mousewheel",this);utils.removeEvent(this.wrapper,"DOMMouseScroll",this);});},_wheel:function(e){if(!this.enabled){return;}e.preventDefault();e.stopPropagation();var _1171,_1172,newX,newY,that=this;if(this.wheelTimeout===undefined){that._execEvent("scrollStart");}clearTimeout(this.wheelTimeout);this.wheelTimeout=setTimeout(function(){that._execEvent("scrollEnd");that.wheelTimeout=undefined;},400);if("deltaX" in e){_1171=-e.deltaX;_1172=-e.deltaY;}else{if("wheelDeltaX" in e){_1171=e.wheelDeltaX/120*this.options.mouseWheelSpeed;_1172=e.wheelDeltaY/120*this.options.mouseWheelSpeed;}else{if("wheelDelta" in e){_1171=_1172=e.wheelDelta/120*this.options.mouseWheelSpeed;}else{if("detail" in e){_1171=_1172=-e.detail/3*this.options.mouseWheelSpeed;}else{return;}}}}_1171*=this.options.invertWheelDirection;_1172*=this.options.invertWheelDirection;if(!this.hasVerticalScroll){_1171=_1172;_1172=0;}if(this.options.snap){newX=this.currentPage.pageX;newY=this.currentPage.pageY;if(_1171>0){newX--;}else{if(_1171<0){newX++;}}if(_1172>0){newY--;}else{if(_1172<0){newY++;}}this.goToPage(newX,newY);return;}newX=this.x+Math.round(this.hasHorizontalScroll?_1171:0);newY=this.y+Math.round(this.hasVerticalScroll?_1172:0);if(newX>0){newX=0;}else{if(newX<this.maxScrollX){newX=this.maxScrollX;}}if(newY>0){newY=0;}else{if(newY<this.maxScrollY){newY=this.maxScrollY;}}this.scrollTo(newX,newY,0);if(this.options.probeType>1){this._execEvent("scroll");}},_initSnap:function(){this.currentPage={};if(typeof this.options.snap=="string"){this.options.snap=this.scroller.querySelectorAll(this.options.snap);}this.on("refresh",function(){var i=0,l,m=0,n,cx,cy,x=0,y,stepX=this.options.snapStepX||this.wrapperWidth,stepY=this.options.snapStepY||this.wrapperHeight,el;this.pages=[];if(!this.wrapperWidth||!this.wrapperHeight||!this.scrollerWidth||!this.scrollerHeight){return;}if(this.options.snap===true){cx=Math.round(stepX/2);cy=Math.round(stepY/2);while(x>-this.scrollerWidth){this.pages[i]=[];l=0;y=0;while(y>-this.scrollerHeight){this.pages[i][l]={x:Math.max(x,this.maxScrollX),y:Math.max(y,this.maxScrollY),width:stepX,height:stepY,cx:x-cx,cy:y-cy};y-=stepY;l++;}x-=stepX;i++;}}else{el=this.options.snap;l=el.length;n=-1;for(;i<l;i++){if(i===0||el[i].offsetLeft<=el[i-1].offsetLeft){m=0;n++;}if(!this.pages[m]){this.pages[m]=[];}x=Math.max(-el[i].offsetLeft,this.maxScrollX);y=Math.max(-el[i].offsetTop,this.maxScrollY);cx=x-Math.round(el[i].offsetWidth/2);cy=y-Math.round(el[i].offsetHeight/2);this.pages[m][n]={x:x,y:y,width:el[i].offsetWidth,height:el[i].offsetHeight,cx:cx,cy:cy};if(x>this.maxScrollX){m++;}}}this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0);if(this.options.snapThreshold%1===0){this.snapThresholdX=this.options.snapThreshold;this.snapThresholdY=this.options.snapThreshold;}else{this.snapThresholdX=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold);this.snapThresholdY=Math.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold);}});this.on("flick",function(){var time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.x-this.startX),1000),Math.min(Math.abs(this.y-this.startY),1000)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,time);});},_nearestSnap:function(x,y){if(!this.pages.length){return {x:0,y:0,pageX:0,pageY:0};}var i=0,l=this.pages.length,m=0;if(Math.abs(x-this.absStartX)<this.snapThresholdX&&Math.abs(y-this.absStartY)<this.snapThresholdY){return this.currentPage;}if(x>0){x=0;}else{if(x<this.maxScrollX){x=this.maxScrollX;}}if(y>0){y=0;}else{if(y<this.maxScrollY){y=this.maxScrollY;}}for(;i<l;i++){if(x>=this.pages[i][0].cx){x=this.pages[i][0].x;break;}}l=this.pages[i].length;for(;m<l;m++){if(y>=this.pages[0][m].cy){y=this.pages[0][m].y;break;}}if(i==this.currentPage.pageX){i+=this.directionX;if(i<0){i=0;}else{if(i>=this.pages.length){i=this.pages.length-1;}}x=this.pages[i][0].x;}if(m==this.currentPage.pageY){m+=this.directionY;if(m<0){m=0;}else{if(m>=this.pages[0].length){m=this.pages[0].length-1;}}y=this.pages[0][m].y;}return {x:x,y:y,pageX:i,pageY:m};},goToPage:function(x,y,time,_1173){_1173=_1173||this.options.bounceEasing;if(x>=this.pages.length){x=this.pages.length-1;}else{if(x<0){x=0;}}if(y>=this.pages[x].length){y=this.pages[x].length-1;}else{if(y<0){y=0;}}var posX=this.pages[x][y].x,posY=this.pages[x][y].y;time=time===undefined?this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(posX-this.x),1000),Math.min(Math.abs(posY-this.y),1000)),300):time;this.currentPage={x:posX,y:posY,pageX:x,pageY:y};this.scrollTo(posX,posY,time,_1173);},next:function(time,_1174){var x=this.currentPage.pageX,y=this.currentPage.pageY;x++;if(x>=this.pages.length&&this.hasVerticalScroll){x=0;y++;}this.goToPage(x,y,time,_1174);},prev:function(time,_1175){var x=this.currentPage.pageX,y=this.currentPage.pageY;x--;if(x<0&&this.hasVerticalScroll){x=0;y--;}this.goToPage(x,y,time,_1175);},_initKeys:function(e){var keys={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};var i;if(typeof this.options.keyBindings=="object"){for(i in this.options.keyBindings){if(typeof this.options.keyBindings[i]=="string"){this.options.keyBindings[i]=this.options.keyBindings[i].toUpperCase().charCodeAt(0);}}}else{this.options.keyBindings={};}for(i in keys){this.options.keyBindings[i]=this.options.keyBindings[i]||keys[i];}utils.addEvent(_113c,"keydown",this);this.on("destroy",function(){utils.removeEvent(_113c,"keydown",this);});},_key:function(e){if(!this.enabled){return;}var snap=this.options.snap,newX=snap?this.currentPage.pageX:this.x,newY=snap?this.currentPage.pageY:this.y,now=utils.getTime(),_1176=this.keyTime||0,_1177=0.25,pos;if(this.options.useTransition&&this.isInTransition){pos=this.getComputedPosition();this._translate(Math.round(pos.x),Math.round(pos.y));this.isInTransition=false;}this.keyAcceleration=now-_1176<200?Math.min(this.keyAcceleration+_1177,50):0;switch(e.keyCode){case this.options.keyBindings.pageUp:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){newX+=snap?1:this.wrapperWidth;}else{newY+=snap?1:this.wrapperHeight;}break;case this.options.keyBindings.pageDown:if(this.hasHorizontalScroll&&!this.hasVerticalScroll){newX-=snap?1:this.wrapperWidth;}else{newY-=snap?1:this.wrapperHeight;}break;case this.options.keyBindings.end:newX=snap?this.pages.length-1:this.maxScrollX;newY=snap?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:newX=0;newY=0;break;case this.options.keyBindings.left:newX+=snap?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:newY+=snap?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:newX-=snap?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:newY-=snap?1:5+this.keyAcceleration>>0;break;default:return;}if(snap){this.goToPage(newX,newY);return;}if(newX>0){newX=0;this.keyAcceleration=0;}else{if(newX<this.maxScrollX){newX=this.maxScrollX;this.keyAcceleration=0;}}if(newY>0){newY=0;this.keyAcceleration=0;}else{if(newY<this.maxScrollY){newY=this.maxScrollY;this.keyAcceleration=0;}}this.scrollTo(newX,newY,0);this.keyTime=now;},_animate:function(destX,destY,_1178,_1179){var that=this,_117a=this.x,_117b=this.y,_117c=utils.getTime(),_117d=_117c+_1178;function step(){var now=utils.getTime(),newX,newY,_117e;if(now>=_117d){that.isAnimating=false;that._translate(destX,destY);if(!that.resetPosition(that.options.bounceTime)){that._execEvent("scrollEnd");}return;}now=(now-_117c)/_1178;_117e=_1179(now);newX=(destX-_117a)*_117e+_117a;newY=(destY-_117b)*_117e+_117b;that._translate(newX,newY);if(that.isAnimating){rAF(step);}if(that.options.probeType==3){that._execEvent("scroll");}};this.isAnimating=true;step();},handleEvent:function(e){switch(e.type){case "touchstart":case "MSPointerDown":case "mousedown":this._start(e);break;case "touchmove":case "MSPointerMove":case "mousemove":this._move(e);break;case "touchend":case "MSPointerUp":case "mouseup":case "touchcancel":case "MSPointerCancel":case "mousecancel":this._end(e);break;case "orientationchange":case "resize":this._resize();break;case "transitionend":case "webkitTransitionEnd":case "oTransitionEnd":case "MSTransitionEnd":this._transitionEnd(e);break;case "wheel":case "DOMMouseScroll":case "mousewheel":this._wheel(e);break;case "keydown":this._key(e);break;case "click":if(!e._constructed){e.preventDefault();e.stopPropagation();}break;}}};function _116e(_117f,_1180,type){var _1181=_113d.createElement("div"),_1182=_113d.createElement("div");if(type===true){_1181.style.cssText="position:absolute;z-index:9999";_1182.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px";}_1182.className="iScrollIndicator";if(_117f=="h"){if(type===true){_1181.style.cssText+=";height:7px;left:2px;right:2px;bottom:0";_1182.style.height="100%";}_1181.className="iScrollHorizontalScrollbar";}else{if(type===true){_1181.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px";_1182.style.width="100%";}_1181.className="iScrollVerticalScrollbar";}_1181.style.cssText+=";overflow:hidden";if(!_1180){_1181.style.pointerEvents="none";}_1181.appendChild(_1182);return _1181;};function _116f(_1183,_1184){this.wrapper=typeof _1184.el=="string"?_113d.querySelector(_1184.el):_1184.el;this.wrapperStyle=this.wrapper.style;this.indicator=this.wrapper.children[0];this.indicatorStyle=this.indicator.style;this.scroller=_1183;this.options={listenX:true,listenY:true,interactive:false,resize:true,defaultScrollbars:false,shrink:false,fade:false,speedRatioX:0,speedRatioY:0};for(var i in _1184){this.options[i]=_1184[i];}this.sizeRatioX=1;this.sizeRatioY=1;this.maxPosX=0;this.maxPosY=0;if(this.options.interactive){if(!this.options.disableTouch){utils.addEvent(this.indicator,"touchstart",this);utils.addEvent(_113c,"touchend",this);}if(!this.options.disablePointer){utils.addEvent(this.indicator,"MSPointerDown",this);utils.addEvent(_113c,"MSPointerUp",this);}if(!this.options.disableMouse){utils.addEvent(this.indicator,"mousedown",this);utils.addEvent(_113c,"mouseup",this);}}if(this.options.fade){this.wrapperStyle[utils.style.transform]=this.scroller.translateZ;this.wrapperStyle[utils.style.transitionDuration]=utils.isBadAndroid?"0.001s":"0ms";this.wrapperStyle.opacity="0";}};_116f.prototype={handleEvent:function(e){switch(e.type){case "touchstart":case "MSPointerDown":case "mousedown":this._start(e);break;case "touchmove":case "MSPointerMove":case "mousemove":this._move(e);break;case "touchend":case "MSPointerUp":case "mouseup":case "touchcancel":case "MSPointerCancel":case "mousecancel":this._end(e);break;}},destroy:function(){if(this.options.interactive){utils.removeEvent(this.indicator,"touchstart",this);utils.removeEvent(this.indicator,"MSPointerDown",this);utils.removeEvent(this.indicator,"mousedown",this);utils.removeEvent(_113c,"touchmove",this);utils.removeEvent(_113c,"MSPointerMove",this);utils.removeEvent(_113c,"mousemove",this);utils.removeEvent(_113c,"touchend",this);utils.removeEvent(_113c,"MSPointerUp",this);utils.removeEvent(_113c,"mouseup",this);}if(this.options.defaultScrollbars){this.wrapper.parentNode.removeChild(this.wrapper);}},_start:function(e){var point=e.touches?e.touches[0]:e;e.preventDefault();e.stopPropagation();this.transitionTime();this.initiated=true;this.moved=false;this.lastPointX=point.pageX;this.lastPointY=point.pageY;this.startTime=utils.getTime();if(!this.options.disableTouch){utils.addEvent(_113c,"touchmove",this);}if(!this.options.disablePointer){utils.addEvent(_113c,"MSPointerMove",this);}if(!this.options.disableMouse){utils.addEvent(_113c,"mousemove",this);}this.scroller._execEvent("beforeScrollStart");},_move:function(e){var point=e.touches?e.touches[0]:e,_1185,_1186,newX,newY,_1187=utils.getTime();if(!this.moved){this.scroller._execEvent("scrollStart");}this.moved=true;_1185=point.pageX-this.lastPointX;this.lastPointX=point.pageX;_1186=point.pageY-this.lastPointY;this.lastPointY=point.pageY;newX=this.x+_1185;newY=this.y+_1186;this._pos(newX,newY);if(this.scroller.options.probeType==1&&_1187-this.startTime>300){this.startTime=_1187;this.scroller._execEvent("scroll");}else{if(this.scroller.options.probeType>1){this.scroller._execEvent("scroll");}}e.preventDefault();e.stopPropagation();},_end:function(e){if(!this.initiated){return;}this.initiated=false;e.preventDefault();e.stopPropagation();utils.removeEvent(_113c,"touchmove",this);utils.removeEvent(_113c,"MSPointerMove",this);utils.removeEvent(_113c,"mousemove",this);if(this.scroller.options.snap){var snap=this.scroller._nearestSnap(this.scroller.x,this.scroller.y);var time=this.options.snapSpeed||Math.max(Math.max(Math.min(Math.abs(this.scroller.x-snap.x),1000),Math.min(Math.abs(this.scroller.y-snap.y),1000)),300);if(this.scroller.x!=snap.x||this.scroller.y!=snap.y){this.scroller.directionX=0;this.scroller.directionY=0;this.scroller.currentPage=snap;this.scroller.scrollTo(snap.x,snap.y,time,this.scroller.options.bounceEasing);}}if(this.moved){this.scroller._execEvent("scrollEnd");}},transitionTime:function(time){time=time||0;this.indicatorStyle[utils.style.transitionDuration]=time+"ms";if(!time&&utils.isBadAndroid){this.indicatorStyle[utils.style.transitionDuration]="0.001s";}},transitionTimingFunction:function(_1188){this.indicatorStyle[utils.style.transitionTimingFunction]=_1188;},refresh:function(){this.transitionTime();if(this.options.listenX&&!this.options.listenY){this.indicatorStyle.display=this.scroller.hasHorizontalScroll?"block":"none";}else{if(this.options.listenY&&!this.options.listenX){this.indicatorStyle.display=this.scroller.hasVerticalScroll?"block":"none";}else{this.indicatorStyle.display=this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none";}}if(this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll){utils.addClass(this.wrapper,"iScrollBothScrollbars");utils.removeClass(this.wrapper,"iScrollLoneScrollbar");if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right="8px";}else{this.wrapper.style.bottom="8px";}}}else{utils.removeClass(this.wrapper,"iScrollBothScrollbars");utils.addClass(this.wrapper,"iScrollLoneScrollbar");if(this.options.defaultScrollbars&&this.options.customStyle){if(this.options.listenX){this.wrapper.style.right="2px";}else{this.wrapper.style.bottom="2px";}}}var r=this.wrapper.offsetHeight;if(this.options.listenX){this.wrapperWidth=this.wrapper.clientWidth;if(this.options.resize){this.indicatorWidth=Math.max(Math.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8);this.indicatorStyle.width=this.indicatorWidth+"px";}else{this.indicatorWidth=this.indicator.clientWidth;}this.maxPosX=this.wrapperWidth-this.indicatorWidth;if(this.options.shrink=="clip"){this.minBoundaryX=-this.indicatorWidth+8;this.maxBoundaryX=this.wrapperWidth-8;}else{this.minBoundaryX=0;this.maxBoundaryX=this.maxPosX;}this.sizeRatioX=this.options.speedRatioX||(this.scroller.maxScrollX&&(this.maxPosX/this.scroller.maxScrollX));}if(this.options.listenY){this.wrapperStyle.display="block";this.wrapperHeight=this.wrapper.clientHeight;if(this.options.resize){this.indicatorHeight=Math.max(Math.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8);this.indicatorStyle.height=this.indicatorHeight+"px";}else{this.indicatorHeight=this.indicator.clientHeight;}this.maxPosY=this.wrapperHeight-this.indicatorHeight;if(this.options.shrink=="clip"){this.minBoundaryY=-this.indicatorHeight+8;this.maxBoundaryY=this.wrapperHeight-8;}else{this.minBoundaryY=0;this.maxBoundaryY=this.maxPosY;}this.maxPosY=this.wrapperHeight-this.indicatorHeight;this.sizeRatioY=this.options.speedRatioY||(this.scroller.maxScrollY&&(this.maxPosY/this.scroller.maxScrollY));}this.updatePosition();},updatePosition:function(){var x=this.options.listenX&&Math.round(this.sizeRatioX*this.scroller.x)||0,y=this.options.listenY&&Math.round(this.sizeRatioY*this.scroller.y)||0;if(!this.options.ignoreBoundaries){if(x<this.minBoundaryX){if(this.options.shrink=="scale"){this.width=Math.max(this.indicatorWidth+x,8);this.indicatorStyle.width=this.width+"px";}x=this.minBoundaryX;}else{if(x>this.maxBoundaryX){if(this.options.shrink=="scale"){this.width=Math.max(this.indicatorWidth-(x-this.maxPosX),8);this.indicatorStyle.width=this.width+"px";x=this.maxPosX+this.indicatorWidth-this.width;}else{x=this.maxBoundaryX;}}else{if(this.options.shrink=="scale"&&this.width!=this.indicatorWidth){this.width=this.indicatorWidth;this.indicatorStyle.width=this.width+"px";}}}if(y<this.minBoundaryY){if(this.options.shrink=="scale"){this.height=Math.max(this.indicatorHeight+y*3,8);this.indicatorStyle.height=this.height+"px";}y=this.minBoundaryY;}else{if(y>this.maxBoundaryY){if(this.options.shrink=="scale"){this.height=Math.max(this.indicatorHeight-(y-this.maxPosY)*3,8);this.indicatorStyle.height=this.height+"px";y=this.maxPosY+this.indicatorHeight-this.height;}else{y=this.maxBoundaryY;}}else{if(this.options.shrink=="scale"&&this.height!=this.indicatorHeight){this.height=this.indicatorHeight;this.indicatorStyle.height=this.height+"px";}}}}this.x=x;this.y=y;if(this.scroller.options.useTransform){this.indicatorStyle[utils.style.transform]="translate("+x+"px,"+y+"px)"+this.scroller.translateZ;}else{this.indicatorStyle.left=x+"px";this.indicatorStyle.top=y+"px";}},_pos:function(x,y){if(x<0){x=0;}else{if(x>this.maxPosX){x=this.maxPosX;}}if(y<0){y=0;}else{if(y>this.maxPosY){y=this.maxPosY;}}x=this.options.listenX?Math.round(x/this.sizeRatioX):this.scroller.x;y=this.options.listenY?Math.round(y/this.sizeRatioY):this.scroller.y;this.scroller.scrollTo(x,y);},fade:function(val,hold){if(hold&&!this.visible){return;}clearTimeout(this.fadeTimeout);this.fadeTimeout=null;var time=val?250:500,delay=val?0:300;val=val?"1":"0";this.wrapperStyle[utils.style.transitionDuration]=time+"ms";this.fadeTimeout=setTimeout((function(val){this.wrapperStyle.opacity=val;this.wrapperStyle.display=+val?"block":"none";this.visible=+val;}).bind(this,val),delay);}};_1153.utils=utils;if(typeof module!="undefined"&&module.exports){module.exports=_1153;}else{_113c.IScroll=_1153;}})(window,document,Math);ITHit=ITHit||{};ITHit.Components=ITHit.Components||{};ITHit.Components.jQuery=jQuery.noConflict(true);ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.AjaxFileBrowser");ITHit.oNS.AjaxFileBrowserBase=function(){var _1189=this._GetClassName();if(_1189=="ITHit.WebDAV.Client.AjaxFileBrowser.AjaxFileBrowserBase"){throw new ITHit.Exception("Class name is not implemented.");}this._ClassId=_1189+"_"+ITHit.WebDAV.Client.AjaxFileBrowser.AjaxFileBrowserBase._Counter++;};ITHit.oNS.AjaxFileBrowserBase._Counter=0;ITHit.oNS.AjaxFileBrowserBase.prototype._GetClassName=function(){return "ITHit.WebDAV.Client.AjaxFileBrowser.AjaxFileBrowserBase";};ITHit.oNS.AjaxFileBrowserBase.prototype.AddListener=function(event,_118a,scope){return ITHit.Events.AddListener(this,event,_118a,scope);};ITHit.oNS.AjaxFileBrowserBase.prototype.DispatchEvent=function(event,_118b){if(!ITHit.Utils.IsArray(_118b)){_118b=[_118b];}return ITHit.Events.DispatchEvent(this,event,_118b);};ITHit.oNS.AjaxFileBrowserBase.prototype.RemoveListener=function(event,_118c,scope){return ITHit.Events.RemoveListener(this,event,_118c,scope);};ITHit.oNS.AjaxFileBrowserBase.prototype.RemoveAllListeners=function(event){return ITHit.Events.RemoveAllListeners(this,event);};ITHit.oNS.AjaxFileBrowserBase.prototype.StopEvent=function(event){return ITHit.Events.Stop(event);};ITHit.oNS.AjaxFileBrowserBase.prototype.CallBaseMethod=function(_118d){var _118e=Array.apply([],arguments);_118e.splice(0,1);};ITHit.oNS.AjaxFileBrowserBase.prototype.toString=function(){return this._ClassId;};(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Upload.Uploaders.BaseUploader",null,{Url:null,_IisMaxUploadPartSize:null,_UploadFile:null,constructor:function(){this._IisMaxUploadPartSize=2097151*1024;}});})();ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.AjaxFileBrowser");ITHit.oNS.UploadResult=function(sUrl,_118f,_1190,_1191){if(!ITHit.Utils.IsString(sUrl)||(""==sUrl)||!ITHit.Utils.IsBoolean(_118f)){throw "URL and Success status must be specified for upload result.";}this.Url=sUrl;this.Success=_118f;this.ErrorMessage=_1190;this.Status=_1191||null;};(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Upload.Uploaders.IframeUploader",ITHit.WebDAV.Client.AjaxFileBrowser.Upload.Uploaders.BaseUploader,{Name:null,_Container:null,_UploadProgress:null,_UploadStarted:false,_Iframe:null,_IframeIETimer:null,_IframeFFTimer:null,_IsIframeLoaded:false,_DelareRemoveIframe:false,constructor:function(_1192){this.Name="ITHit_Upload_Iframe_"+self._Counter++;this._UploadProgress=_1192;ITHit.Events.AddListener(this._UploadProgress,"OnError","_ErrorProgressHandler",this);this._InitializeContainer();this._InitializeFrame();this._Iframe.onload=ITHit.Utils.MakeScopeClosure(this,"_LoadHandler");this._Iframe.onreadystatechange=ITHit.Utils.MakeScopeClosure(this,"_ReadyStateChangeHandler");},BeginUpload:function(_1193){this.Url=_1193.Url;this._UploadFile=_1193;this._UploadStarted=true;if(!(_1193.GetForm() instanceof ITHit.WebDAV.Client.AjaxFileBrowser.Upload.FormObject)&&!(_1193.GetForm() instanceof ITHit.WebDAV.Client.AjaxFileBrowser.Upload.DropObjectAdapter)){throw new ITHit.Exception("Parameter expected to be UploadFormObject or UploadDropObjectAdapter instance.");}_1193.GetForm().SetUrl(_1193.Url);_1193.GetForm().SetUploadUrl(ITHit.WebDAV.Client.Encoder.Encode(_1193.UploadUrl));_1193.GetForm().SetFormTarget(this.Name);if(ITHit.DetectBrowser.FF){this._IframeFFTimer=setTimeout(ITHit.Utils.MakeScopeClosure(this,"_FirefoxLoadCheck"),self.FF_ERROR_CHECK_REPEAT);}_1193.GetForm().Submit();ITHit.Events.DispatchEvent(this,"OnLoadStart",["OnLoadStart",this.Url]);this._UploadProgress.AddResource(_1193.Url);},_InitializeContainer:function(){this._Container=document.createElement("div");this._Container.style.position="absolute";this._Container.style.width=0;this._Container.style.height=0;this._Container.style.top="-100px";this._Container.style.left="-100px";this._Container.style.display="none";document.body.appendChild(this._Container);},_InitializeFrame:function(){var _1194=false;if(ITHit.DetectBrowser.IE&&(ITHit.DetectBrowser.IE<10)){try{this._Iframe=document.createElement("<IFRAME name=\""+this.Name+"\">");_1194=true;}catch(e){}}if(!_1194){this._Iframe=document.createElement("IFRAME");this._Iframe.name=this.Name;}this._Iframe.src="javascript:{};";this._Iframe.className="upload_iframe";this._Container.appendChild(this._Iframe);},_LoadHandler:function(_1195){this._ClearTimers();if(this._IsIframeLoaded){return;}this._IsIframeLoaded=true;var _1196=this._GetUploadResult();var _1197=new ITHit.HttpResponse(_1196.Url,_1196.Status.Code,_1196.Status.Description);_1197.SetBodyText(_1196.ErrorMessage||"");ITHit.Events.DispatchEvent(this,"OnFinish",[_1197]);if(_1196.Success){this._SuccessHandler("OnLoad",_1196);}else{this._ErrorHandler("OnError",_1196);}},_ReadyStateChangeHandler:function(_1198){switch(this._Iframe.readyState){case "complete":case "interactive":this._IframeIETimer=setTimeout(ITHit.Utils.MakeScopeClosure(this,"_CompliteStateCheckNew",_1198),500);break;}},_CompliteStateCheckNew:function(_1199){try{this._Iframe.contentWindow.document.body;this._LoadHandler(_1199);}catch(e){this._IframeIETimer=setTimeout(ITHit.Utils.MakeScopeClosure(this,"_CompliteStateCheck",_1199),1000);}},_FirefoxLoadCheck:function(){try{this._Iframe.contentWindow.document;this._IframeFFTimer=setTimeout(ITHit.Utils.MakeScopeClosure(this,"_FirefoxLoadCheck"),self.FF_ERROR_CHECK_REPEAT);}catch(e){this._LoadHandler(null);}},_GetUploadResult:function(){var oXml=new ITHit.XMLDoc(),_119a=new ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadResult(this.Url,true),_119b=false,_119c=true,isIE=ITHit.DetectBrowser.IE,_119d,body;try{_119d=this._Iframe.contentWindow.document;body=_119d.body;}catch(e){if(-1==e.message.indexOf("denied")){_119a.Success=false;_119c=false;}else{_119a.Success=true;_119b=true;}}if(_119a.Success&&!_119b){if(_119d){if(_119d.XMLDocument){oXml.load(_119d.XMLDocument.xml);}else{if(!body){if(isIE&&_119d.documentElement){var _119e=ITHit.XMLDoc.toString(_119d.documentElement);oXml.load(_119e);}else{if(_119d.firstChild){oXml.appendChild(new ITHit.XMLDoc(_119d.firstChild.cloneNode(true)));}else{if(isIE<9){_119b=true;}else{_119a.Success=false;}}}}else{if(isIE&&isIE<9){if((navigator.userAgent.indexOf("Trident/")!==-1&&(/HTTP\/1.1\s+2\d{2}/i).test(body.innerHTML))||_119a.Url.indexOf("%")!==-1){_119b=true;}else{_119a.Success=false;}}else{_119a.Success=false;}}}}else{_119a.Success=false;}}if(_119a.Success){if(!_119b){var _119f=new ITHit.WebDAV.Client.Methods.MultiResponse(oXml,_119a.Url);if(_119f.Responses.length){_119a.Status=_119f.Responses[0].Status;_119a.Success=_119a.Status.IsSuccess();}else{_119a.Success=false;}}}if(!_119a.Success){if(_119a.Status){_119a.ErrorMessage=_119a.Status.Description;}else{if(_119c){var _11a0=this._Iframe.contentWindow.document.getElementsByTagName("TITLE");if(_11a0.length){_119a.ErrorMessage=_11a0[0].text;}}}if(!_119a.ErrorMessage){_119a.ErrorMessage=ITHit.Phrases.AjaxFileBrowser.Interface.FileUploadFailed;}if(body){_119a.ErrorBody=body.innerHTML;}}if(!_119a.Status){if(_119a.Success){_119a.Status=new ITHit.WebDAV.Client.HttpStatus(201,"Created");}else{_119a.Status=new ITHit.WebDAV.Client.HttpStatus(400,"Bad Request");}}return _119a;},_RemoveIframeTimer:function(){if(this._DelareRemoveIframe){return;}this._DelareRemoveIframe=true;setTimeout(ITHit.Utils.MakeScopeClosure(this,"_RemoveIframe"),0);},_ClearTimers:function(){if(this._IframeIETimer){clearTimeout(this._IframeIETimer);this._IframeIETimer=null;}if(this._IframeFFTimer){clearTimeout(this._IframeFFTimer);this._IframeFFTimer=null;}},_RemoveIframe:function(){this._ClearTimers();this._Iframe.onload=this._Iframe.onreadystatechange=null;if(this._Iframe){this._Container.removeChild(this._Iframe);delete this._Iframe;}},_SuccessHandler:function(_11a1,_11a2){this._UploadProgress.RemoveResource(_11a2.Url);if(!ITHit.Events.DispatchEvent(this,"OnLoad",["OnLoad",_11a2.Url])){this._RemoveIframeTimer();return false;}},_ErrorProgressHandler:function(_11a3,_11a4){var _11a5=_11a4.InnerException&&_11a4.InnerException.Status?_11a4.InnerException.Status:ITHit.WebDAV.Client.HttpStatus.BadRequest;var _11a6=new ITHit.HttpResponse(_11a4.Url,_11a5.Code,_11a5.Description);ITHit.Events.DispatchEvent(this,"OnFinish",[_11a6]);this._ErrorHandler(_11a3,_11a4);},_ErrorHandler:function(_11a7,_11a8){this._UploadProgress.RemoveResource(_11a8.Url);if(!ITHit.Events.DispatchEvent(this,"OnError",["OnError",_11a8.Url,_11a8.Status,String(_11a8.ErrorBody||"")])){this._RemoveIframeTimer();return false;}},Destruct:function(){if(this._UploadStarted){this._UploadProgress.RemoveResource(this.Url);}ITHit.Events.RemoveAllListeners(this);this._RemoveIframeTimer();}},{_Counter:0,FF_ERROR_CHECK_REPEAT:10000});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Upload.ProgressInfo",null,{Url:null,BytesUploaded:null,constructor:function(sUrl,_11a9){if(!ITHit.Utils.IsInteger(_11a9)){throw new ITHit.Exceptions.ArgumentException(ITHit.Phrases.AjaxFileBrowser.Exceptions.WrongUploadedBytesType,_11a9);}this.Url=sUrl;this.BytesUploaded=_11a9;}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Upload.InternalProgressInfo",ITHit.WebDAV.Client.AjaxFileBrowser.Upload.ProgressInfo,{});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Upload.Uploaders.BaseXhrUploader",ITHit.WebDAV.Client.AjaxFileBrowser.Upload.Uploaders.BaseUploader,{_LastReportTime:null,_Xhr:null,_BytesUploadedEnd:null,_SkipLoadStartHandling:false,_File:null,BeginUpload:function(_11aa){this.Url=_11aa.Url;this._UploadFile=_11aa;this._File=_11aa.GetDomFileObject();this._InitializeXhr();this._BeginUploadInternal();try{}catch(e){this._ErrorHandler("Error",this._Xhr);if(typeof window.console!=="undefined"){console.error(e);}}},_BeginUploadInternal:function(){var oForm=this._UploadFile.GetForm();var _11ab=oForm.GetMaxUploadSegmentBytes();var _11ac=oForm.GetIisDetected();var _11ad=this._UploadFile.GetTotalContentLength();var _11ae=_11ac||(_11ab>0&&_11ab<_11ad);if(_11ac&&(_11ab<=0||_11ab>this._IisMaxUploadPartSize)){_11ab=this._IisMaxUploadPartSize;}this._BytesUploadedStart=this._UploadFile.GetBytesUploaded();this._BytesUploadedEnd=null;if(this._BytesUploadedStart&&this._BytesUploadedStart>=_11ad){ITHit.Events.DispatchEvent(this,"OnLoad",["OnLoad",this.Url]);return;}if(this._BytesUploadedStart&&ITHit.Utils.IsInteger(this._BytesUploadedStart)||_11ae){if(_11ae&&!ITHit.Utils.IsInteger(this._BytesUploadedStart)){this._BytesUploadedStart=0;}var _11af=_11ad;if(_11ae){_11af=this._BytesUploadedStart+_11ab;if(_11af>_11ad){_11af=_11ad;}}this._UploadFile.SetFinishPartsBytesUploaded(this._BytesUploadedStart);if(this._BytesUploadedStart!==0||_11af!==_11ad){this._Xhr.setRequestHeader("Content-Range","bytes "+this._BytesUploadedStart+"-"+(_11af-1)+"/"+_11ad);}if(_11ae&&_11af<_11ad){this._BytesUploadedEnd=_11af;this._Xhr.send(this._File.slice(this._BytesUploadedStart,_11af));}else{this._Xhr.send(this._File.slice(this._BytesUploadedStart));}}else{this._Xhr.send(this._File);}},_InitializeXhr:function(){this._Xhr=new XMLHttpRequest();this._Xhr.upload.onloadstart=ITHit.Utils.MakeScopeClosure(this,"_LoadStartHandler",this._Xhr);this._Xhr.upload.onprogress=ITHit.Utils.MakeScopeClosure(this,"_ProgressHandler",this._Xhr);this._Xhr.onreadystatechange=ITHit.Utils.MakeScopeClosure(this,"_ReadyStateChange",this._Xhr);var _11b0=ITHit.WebDAV.Client.Encoder.Encode(this._UploadFile.UploadUrl);this._Xhr.open(this._UploadFile.Method,_11b0,true);try{this._Xhr.withCredentials=true;}catch(e){}},_LoadStartHandler:function(oXhr,_11b1){if(!this._SkipLoadStartHandling){ITHit.Events.DispatchEvent(this,"OnLoadStart",[_11b1,this.Url]);}},_ProgressHandler:function(oXhr,_11b2){var iNow=new Date().getTime();if(iNow-this._LastReportTime<1000){return;}this._LastReportTime=iNow;var _11b3=this._BytesUploadedStart+_11b2.loaded;var _11b4=[new ITHit.WebDAV.Client.AjaxFileBrowser.Upload.InternalProgressInfo(this.Url,_11b3,_11b2.total)];ITHit.Events.DispatchEvent(this,"OnProgress",["OnProgress",_11b4]);},_ReadyStateChange:function(oXhr,_11b5){if(this._Xhr.readyState!==4){return;}var _11b6=new ITHit.WebDAV.Client.HttpStatus(this._Xhr.status,this._Xhr.statusText);this._FinishHandler(oXhr,_11b6);if(_11b6.IsSuccess()){this._LoadHandler(oXhr,_11b5);}else{this._ErrorHandler(oXhr,_11b5,_11b6);}},_FinishHandler:function(oXhr,_11b7){var _11b8=new ITHit.HttpResponse(this.Url,_11b7.Code,_11b7.Description);_11b8._SetBody(this._Xhr.responseXML,this._Xhr.responseText);ITHit.Events.DispatchEvent(this,"OnFinish",[_11b8]);},_ErrorHandler:function(oXhr,_11b9,_11ba){ITHit.Events.DispatchEvent(this,"OnError",["OnError",this.Url,_11ba,this._Xhr.responseText]);},_LoadHandler:function(oXhr,_11bb){if(this._UploadFile){var _11bc=this._UploadFile;var _11bd=_11bc.GetForm().GetIisDetected()||_11bc.GetForm().GetMaxUploadSegmentBytes()>0;if(_11bd&&ITHit.Utils.IsInteger(this._BytesUploadedEnd)){this._SkipLoadStartHandling=true;_11bc.SetFinishPartsBytesUploaded(this._BytesUploadedEnd);this.BeginUpload(this._UploadFile);return;}}ITHit.Events.DispatchEvent(this,"OnLoad",["OnLoad",this.Url]);},Destruct:function(){if(this._Xhr.upload){this._Xhr.upload.onloadstart=null;this._Xhr.upload.onprogress=null;}this._Xhr.onreadystatechange=null;this._Xhr.abort();}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Upload.Uploaders.FirefoxUploader",ITHit.WebDAV.Client.AjaxFileBrowser.Upload.Uploaders.BaseXhrUploader,{_BeginUploadInternal:function(){if(ITHit.DetectBrowser.FF<7){this._Xhr.sendAsBinary(this._File.getAsBinary());return;}this._super();}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Upload.Uploaders.WebKitUploader",ITHit.WebDAV.Client.AjaxFileBrowser.Upload.Uploaders.BaseXhrUploader,{_InitializeXhr:function(){this._super();this._Xhr.setRequestHeader("If-Modified-Since","Mon, 26 Jul 1997 05:00:00 GMT");this._Xhr.setRequestHeader("Cache-Control","no-cache");this._Xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Upload.BaseManager",null,{Pool:null,_RepeatTime:null,_TimerId:null,_Counter:0,_Controller:null,_UploadController:null,constructor:function(_11be,_11bf){this.Pool={};this._Controller=_11be;this._UploadController=_11bf;this.SetRepeatTime(this._Controller.ProgressRefreshTime);},SetRepeatTime:function(_11c0){if(isNaN(_11c0)||(_11c0<1)){return;}_11c0=Math.ceil(_11c0);if(_11c0===0){this._RepeatTime=0;this._ClearTimer();return;}this._RepeatTime=_11c0*1000;this._StartTimer(self.START_DELAY_TIME);},AddResource:function(sUrl){if(this.Pool[sUrl]){return;}this.Pool[sUrl]=true;this._Counter++;this._StartTimer(self.START_DELAY_TIME);},RemoveResource:function(sUrl){if(!this.Pool[sUrl]){return true;}delete this.Pool[sUrl];this._Counter--;if(!this._Counter){this._ClearTimer();}},_StartTimer:function(_11c1){_11c1=_11c1||this._RepeatTime;if(this._Counter===0||this._TimerId){return;}this._TimerId=setTimeout(ITHit.Utils.MakeScopeClosure(this,"_OnTimer"),_11c1);},_ClearTimer:function(){if(!this._TimerId){return;}clearTimeout(this._TimerId);this._TimerId=null;},_OnTimer:function(){}},{START_DELAY_TIME:10});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Upload.ProgressException",ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException,{Url:null,constructor:function(sUrl,_11c2,_11c3){this.Url=sUrl;this._super.apply(this,arguments);}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Upload.ProgressManager",ITHit.WebDAV.Client.AjaxFileBrowser.Upload.BaseManager,{_OnTimer:function(){this._ClearTimer();var _11c4=[];for(var sUrl in this.Pool){if(!this.Pool.hasOwnProperty(sUrl)){continue;}try{var _11c5=ITHit.Events.DispatchEvent(this,"OnGetProgress",["OnGetProgress",sUrl]);if(!(_11c4[sUrl] instanceof ITHit.WebDAV.Client.AjaxFileBrowser.Upload.ProgressInfo)){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Upload.ProgressException(ITHit.Phrases.AjaxFileBrowser.Exceptions.UploadProgressInfoInstanceExpected);}_11c4.push(_11c5);}catch(e){var _11c6=e instanceof ITHit.Exception?new ITHit.WebDAV.Client.AjaxFileBrowser.Upload.ProgressException(sUrl,e.Message,e):new ITHit.WebDAV.Client.AjaxFileBrowser.Upload.ProgressException(sUrl,ITHit.Phrases.AjaxFileBrowser.Exceptions.UploadProgressInfoInstanceExpected,ITHit.Exception(String(e)));ITHit.Events.DispatchEvent(this,"OnError",["OnError",_11c6]);}}this._StartTimer();ITHit.Events.DispatchEvent(this,"OnProgress",["OnProgress",_11c4]);}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Upload.CancelManager",ITHit.WebDAV.Client.AjaxFileBrowser.Upload.BaseManager,{_RepeatCount:1,_FilesForAction:[],_NextFileIndex:0,constructor:function(_11c7,_11c8){this.Pool={};this._Controller=_11c7;this._UploadController=_11c8;this.SetRepeatTime(this._Controller.CancelUploadRetryIntervalSeconds,this._Controller.CancelUploadRetryCount);},SetRepeatTime:function(_11c9,_11ca){if(_11ca&&!isNaN(_11ca)&&_11ca>=0){this._RepeatCount=_11ca;}else{this._RepeatCount=-1;}this._super.apply(this,arguments);},AddResource:function(sUrl,_11cb){if(this.Pool[sUrl]){return;}this.Pool[sUrl]={RepeatCount:this.RepeatCount,FileExists:_11cb};this._Counter++;this._StartTimer(self.START_DELAY_TIME);},RemoveResource:function(sUrl,_11cc){_11cc=_11cc||false;this._super.apply(this,arguments);if(!_11cc){this._Controller.RefreshOnUpdate(ITHit.Utils.GetParentUrl(sUrl));}},_OnTimer:function(){this._ClearTimer();this._FilesForAction=[];for(var sUrl in this.Pool){if(!this.Pool.hasOwnProperty(sUrl)){continue;}if(typeof this.Pool[sUrl]==="undefined"){continue;}this._FilesForAction.push({Url:sUrl,RepeatCount:this.Pool[sUrl].RepeatCount,FileExists:this.Pool[sUrl].FileExists});}this._NextFileIndex=0;this._TryNextFile();},_TryNextFile:function(){if(this._NextFileIndex>=this._FilesForAction.length){this._StartTimer();return;}var _11cd=this._FilesForAction[this._NextFileIndex];var sUrl=_11cd.Url;var _11ce=_11cd.FileExists;if(!this.Pool[sUrl]){this._GotoNextFile();return;}var _11cf=this.Pool[sUrl].RepeatCount-1;this.Pool[sUrl].RepeatCount=_11cf;if(_11cf<0){this.RemoveResource(sUrl);return;}try{var that=this;if(_11ce){if(this._UploadController.ResumeManager.IsResumeSupported()){this._Controller.CancelUploadAsync(sUrl,null,function(_11d0){if(_11d0.IsSuccess||_11d0.Error instanceof ITHit.WebDAV.Client.Exceptions.NotFoundException){that.RemoveResource(sUrl);}});}else{this._UploadController.CommandsCollection.Create("DeleteCommand",{Href:sUrl,OnFinish:function(){that.RemoveResource(sUrl);}}).Execute();}}else{this._UploadController.CommandsCollection.Create("DeleteCommand",{Href:sUrl,OnFinish:function(){that.RemoveResource(sUrl);}}).Execute();}this._GotoNextFile();}catch(e){if(typeof window.console!=="undefined"){console.error(e);}}},_GotoNextFile:function(){this._NextFileIndex++;setTimeout(ITHit.Utils.MakeScopeClosure(this,"_TryNextFile"),10);}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Upload.AutoResumeManager",ITHit.WebDAV.Client.AjaxFileBrowser.Upload.CancelManager,{_MaxUploadCount:0,constructor:function(_11d1,_11d2,_11d3,_11d4){this.Pool={};this._Controller=_11d1;this._MaxUploadCount=_11d4;this.SetRepeatTime(_11d2,_11d3);},AddResource:function(sUrl){if(this.Pool[sUrl]){return;}this.Pool[sUrl]={RepeatTime:0,RepeatCount:this.RepeatCount};this._Counter++;this._StartTimer(self.START_DELAY_TIME);},_StartTimer:function(){this._super(1000);},_OnTimer:function(){this._ClearTimer();this._FilesForAction=[];var _11d5=0;for(var sUrl in this.Pool){if(!this.Pool.hasOwnProperty(sUrl)){continue;}if(typeof this.Pool[sUrl]=="undefined"){continue;}var _11d6=this.Pool[sUrl];var _11d7=_11d6.RepeatTime+1000;_11d6.RepeatTime=_11d7;if(_11d7>=this._RepeatTime){_11d6.RepeatTime=0;_11d6.RepeatCount--;if(_11d6.RepeatCount<0){this.RemoveResource(sUrl);continue;}this._FilesForAction.push({Url:sUrl});}var _11d8=((this._RepeatTime-_11d7)/1000)+1;ITHit.Events.DispatchEvent(this,"OnAutoResumeRetryIn",["OnAutoResumeRetryIn",sUrl,_11d8]);_11d5++;if(_11d5>=this._MaxUploadCount){break;}}this._NextFileIndex=0;this._TryNextFile();},_TryNextFile:function(){if(this._NextFileIndex>=this._FilesForAction.length){this._StartTimer();return;}var _11d9=this._FilesForAction[this._NextFileIndex];var sUrl=_11d9.Url;if(!this.Pool[sUrl]){this._GotoNextFile();return;}try{var self=this;ITHit.Events.DispatchEvent(this,"OnGetProgress",["OnGetProgress",sUrl,function(_11da){self._GetProgressCallback(_11da,sUrl);}]);}catch(e){if(typeof window.console!=="undefined"){console.error(e);}}},_GetProgressCallback:function(_11db,sUrl){if(_11db.IsSuccess||_11db.Error instanceof ITHit.WebDAV.Client.Exceptions.NotFoundException){var _11dc=_11db.Result;var _11dd={Url:sUrl,TotalContentLength:0,BytesUploaded:0};if(_11dc){_11dd.TotalContentLength=_11dc.TotalContentLength;_11dd.BytesUploaded=_11dc.BytesUploaded;}ITHit.Events.DispatchEvent(this,"OnTryToResume",["OnTryToResume",_11dd]);}else{var e=_11db.Error;ITHit.Events.DispatchEvent(this,"OnTryToResumeError",["OnTryToResumeError",sUrl,e.Status,e.Message]);}this._GotoNextFile();}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadManager",null,{_Controller:null,_UploadController:null,_UploadFiles:{},_UploadProgressManager:null,_AutoResumeManager:null,_QueueCollection:null,_RewriteAction:null,_IsRewriteActionConfirmShowed:false,constructor:function(_11de,_11df){this._Controller=_11de;this._UploadController=_11df;this._QueueCollection=_11df.QueueCollection;this._UploadProgressManager=new ITHit.WebDAV.Client.AjaxFileBrowser.Upload.ProgressManager(this._Controller,this._UploadController);ITHit.Events.AddListener(this._UploadProgressManager,"OnGetProgress","_GetProgressHandler",this);ITHit.Events.AddListener(this._UploadProgressManager,"OnProgress","_ProgressHandler",this);this._AutoResumeManager=new ITHit.WebDAV.Client.AjaxFileBrowser.Upload.AutoResumeManager(this._Controller,this._Controller.UploadRetryIntervalSeconds,this._Controller.UploadRetryMaxCount,this.MaxUploadsCount);ITHit.Events.AddListener(this._AutoResumeManager,"OnTryToResume","_TryToResumeHandler",this);ITHit.Events.AddListener(this._AutoResumeManager,"OnGetProgress","_GetProgressHandler",this);ITHit.Events.AddListener(this._AutoResumeManager,"OnAutoResumeRetryIn","_AutoResumeRetryInHandler",this);ITHit.Events.AddListener(this._AutoResumeManager,"OnTryToResumeError","_TryToResumeErrorHandler",this);},ChangeProgressRefreshTime:function(_11e0){this._UploadProgressManager.SetRepeatTime(_11e0);},QueueRun:function(){this._RewriteAction=self.REWRITE_ACTION_ASK;this._QueueNext();},_QueueNext:function(){var _11e1=this._QueueCollection.GetNextForUpload();if(_11e1===null){return;}if(this._IsRewriteActionConfirmShowed){return;}this._StartFileUploading(_11e1);},_StartFileUploading:function(_11e2){_11e2.SetStatus(ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadFile.STATUS_UPLOAD);var _11e3=_11e2.RewriteAction||this._RewriteAction;switch(this._RewriteAction){case self.REWRITE_ACTION_REWRITE:case self.REWRITE_ACTION_SKIP:case self.REWRITE_ACTION_CANCEL:this._RewriteAction=self.REWRITE_ACTION_ASK;break;}switch(_11e3){case self.REWRITE_ACTION_REWRITE:case self.REWRITE_ACTION_REWRITE_ALL:_11e2.RewriteAction=self.REWRITE_ACTION_REWRITE;this._UploadResourceInternal(_11e2);this._QueueNext();break;case self.REWRITE_ACTION_SKIP:this._QueueCollection.Remove(_11e2.Url);this._QueueNext();break;case self.REWRITE_ACTION_CANCEL:this._QueueCollection.RemoveGroup(_11e2.GetForm().GroupIndex);this._QueueNext();break;case self.REWRITE_ACTION_ASK:case self.REWRITE_ACTION_SKIP_ALL:var that=this;this._UploadController.CommandsCollection.Create("ItemExistsCommand",{Href:_11e2.Url,OnSuccess:function(_11e4){if(!_11e4){_11e2.RewriteAction=self.REWRITE_ACTION_REWRITE;that._UploadResourceInternal(_11e2);that._QueueNext();}else{if(_11e3===self.REWRITE_ACTION_ASK){that._IsRewriteActionConfirmShowed=true;that._UploadController.InfoManager.ShowOverwriteConfirm(_11e2.Url,function(_11e5){that._RewriteAction=_11e5;that._IsRewriteActionConfirmShowed=false;switch(_11e5){case self.REWRITE_ACTION_REWRITE:case self.REWRITE_ACTION_REWRITE_ALL:_11e2.RewriteAction=self.REWRITE_ACTION_REWRITE;break;default:_11e2.RewriteAction=null;break;}that._StartFileUploading(_11e2);});}else{that._QueueCollection.Remove(_11e2.Url);that._QueueNext();}}}}).Execute();break;}},_UploadResourceInternal:function(_11e6){if(_11e6.IsFolder()){this._UploadFolder(_11e6);}else{this._UploadFile(_11e6);}},_UploadFolder:function(_11e7){var that=this;var sUrl=_11e7.Url;this._UploadController.CommandsCollection.Create("CreateFolderCommand",{Href:sUrl,OnSuccess:function(oItem){that._LoadHandler("",sUrl);},OnError:function(_11e8){that._ErrorHandler("",sUrl,"",_11e8.join("\n"));}}).Execute();},_UploadFile:function(_11e9){var _11ea=null;var _11eb=true;if(_11e9.Method.toUpperCase()!=="POST"){if(ITHit.DetectBrowser.FF>=3.5){if(ITHit.DetectBrowser.FF>=7||_11e9.GetTotalContentLength()<=104857600){_11ea=new ITHit.WebDAV.Client.AjaxFileBrowser.Upload.Uploaders.FirefoxUploader();_11eb=false;}}else{if(ITHit.DetectBrowser.Safari||ITHit.DetectBrowser.Chrome||ITHit.DetectBrowser.IE>=10){_11ea=new ITHit.WebDAV.Client.AjaxFileBrowser.Upload.Uploaders.WebKitUploader();_11eb=false;}}}if(_11eb){_11ea=new ITHit.WebDAV.Client.AjaxFileBrowser.Upload.Uploaders.IframeUploader(this._UploadProgressManager);}_11e9.Uploader=_11ea;_11e9.GetForm().SetIisDetected(this._Controller.GetIisDetected());_11e9.GetForm().SetMaxUploadSegmentBytes(this._Controller.MaxUploadSegmentBytes);ITHit.Events.AddListener(_11ea,"OnLoadStart","_LoadStartHandler",this);ITHit.Events.AddListener(_11ea,"OnLoad","_LoadHandler",this);ITHit.Events.AddListener(_11ea,"OnError","_ErrorHandler",this);ITHit.Events.AddListener(_11ea,"OnProgress","_ProgressHandler",this);_11ea.BeginUpload(_11e9);},_LoadStartHandler:function(_11ec,sUrl){ITHit.Events.DispatchEvent(this,"OnLoadStart",["OnLoadStart",sUrl]);},_LoadHandler:function(_11ed,sUrl){var _11ee=this._QueueCollection.GetByUrl(sUrl);if(_11ee===null){return;}_11ee.SetStatus(ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadFile.STATUS_COMPLETE);ITHit.Events.DispatchEvent(this,"OnLoad",["OnLoad",sUrl,_11ee.BaseUrl]);this._AutoResumeManager.RemoveResource(sUrl);this._QueueCollection.Remove(sUrl);this._QueueNext();},_ProgressHandler:function(_11ef,_11f0){for(var i=0,l=_11f0.length;i<l;i++){var _11f1=_11f0[i];var _11f2=this._QueueCollection.GetByUrl(_11f1.Url);if(_11f2!==null){_11f2.SetProgressInfo(_11f1);}}ITHit.Events.DispatchEvent(this,"OnProgress",["OnProgress",_11f0]);},_ErrorHandler:function(_11f3,sUrl,_11f4,_11f5){var _11f6=this._QueueCollection.GetByUrl(sUrl);if(_11f6===null){return;}_11f6.SetStatus(ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadFile.STATUS_RETRY);this._AutoResumeManager.AddResource(sUrl);_11f6.DestructUploader();_11f6.SetError(_11f4,_11f5);ITHit.Events.DispatchEvent(this,"OnError",["OnError",sUrl,_11f4,_11f5]);this._QueueNext();},_AutoResumeRetryInHandler:function(_11f7,sUrl,_11f8){var _11f9=this._QueueCollection.GetByUrl(sUrl);if(_11f9===null){return;}_11f9.SetRepeatTime(_11f8);},_TryToResumeErrorHandler:function(_11fa,sUrl,_11fb,_11fc){var _11fd=this._QueueCollection.GetByUrl(sUrl);if(_11fd===null){return;}_11fd.SetError(_11fb,_11fc);},_TryToResumeHandler:function(_11fe,oInfo){var _11ff=this._QueueCollection.GetByUrl(oInfo.Url);if(!_11ff){return;}this._AutoResumeManager.RemoveResource(_11ff.Url);_11ff.SetFinishPartsBytesUploaded(oInfo.BytesUploaded,oInfo.TotalContentLength);_11ff.SetStatus(ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadFile.STATUS_UPLOAD);this._UploadResourceInternal(_11ff);},_GetProgressHandler:function(_1200,sUrl,_1201){var _1202=ITHit.Events.DispatchEvent(this,"OnGetProgress",[_1200,sUrl,_1201]);if(_1202 instanceof ITHit.WebDAV.Client.AjaxFileBrowser.Upload.ProgressInfo){return new ITHit.WebDAV.Client.AjaxFileBrowser.Upload.InternalProgressInfo(sUrl,_1202.BytesUploaded,_1202.TotalContentLength);}var _1203=null;this._UploadController.CommandsCollection.Create("LoadUploadProgressCommand",{Href:sUrl,OnSuccess:function(_1204){_1203=_1204[0];}}).Execute();return _1203;}},{REWRITE_ACTION_CANCEL:"cancel",REWRITE_ACTION_ASK:"ask",REWRITE_ACTION_REWRITE:"rewrite",REWRITE_ACTION_REWRITE_ALL:"rewrite_all",REWRITE_ACTION_SKIP:"skip",REWRITE_ACTION_SKIP_ALL:"skip_all"});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Upload.DropObjectAdapter",null,{Method:"PUT",Url:null,_TargetUrl:null,CheckFileExistence:true,ExternalCreated:true,_IisDetected:null,_MaxUploadSegmentBytes:-1,_Files:-1,_readFoldersCount:0,_submitHandler:null,constructor:function(_1205,_1206,_1207){this.Url=this.GetDestination();this._TargetUrl=_1205;this._submitHandler=_1207;this._Files={"files":[],"relativePath":[]};if(ITHit.DetectBrowser.Chrome&&_1206.items&&_1206.items.length>0){this._readFoldersCount++;try{for(var i=0,item;item=_1206.items[i];i++){var entry=item.webkitGetAsEntry();if(entry===null){continue;}if(entry.isDirectory){this._readFoldersCount++;this._Files.files.push({"name":entry.name+"/.","size":0});this._Files.relativePath.push("");this.ReadDirectoryEntries(entry,entry.name+"/");}else{this._Files.files.push(item.getAsFile());this._Files.relativePath.push("");}}}catch(e){if(typeof window.console!=="undefined"){console.error(e);}}this._readFoldersCount--;}else{var _1208=false;for(var i=0,l=_1206.files.length;i<l;i++){var file=_1206.files[i];if(ITHit.DetectBrowser.FF&&ITHit.DetectBrowser.FF>=4){if(!file.type&&file.size%4096==0&&file.size<=102400){try{var _1209=new FileReader();_1209.readAsBinaryString(f);}catch(NS_ERROR_FILE_ACCESS_DENIED){_1208=true;continue;}}}this._Files.files.push(file);this._Files.relativePath.push("");}if(_1208){}}if(this._readFoldersCount<=0){if(this._submitHandler!=null&&typeof this._submitHandler=="function"){this._submitHandler(this);}}},ReadDirectoryEntries:function(_120a,_120b){_120b=_120b||"";var _120c=_120a.createReader();var self=this;_120c.readEntries(function(_120d){try{for(var i=0,entry;entry=_120d[i];++i){if(entry.isDirectory){self._readFoldersCount++;self._Files.files.push({"name":entry.name+"/.","size":0});self._Files.relativePath.push(_120b);self.ReadDirectoryEntries(entry,_120b+entry.name+"/");}else{var _120e=_120b;entry.file(function(item){self._Files.files.push(item);self._Files.relativePath.push(_120e);},function errorHandler(e){});}}}catch(e){if(typeof window.console!=="undefined"){console.error(e);}}self._readFoldersCount--;if(self._readFoldersCount<=0){if(self._submitHandler!=null&&typeof self._submitHandler=="function"){self._submitHandler(self);}}},function errorHandler(e){});},SetFormTarget:function(sName){},GetRelativePath:function(_120f){if(this._Files.relativePath){return (this._Files.relativePath[_120f]||"")+this.GetSourceName(_120f);}return null;},GetResumeDestinations:function(){},GetResumeDestination:function(index){},GetDestination:function(index){var url=this._TargetUrl;if(/\/$/.test(url)){var rel=(this.GetRelativePath(index)||"");if(!ITHit.Utils.IsStringNullOrEmpty(rel)){if(/\/\.$/.test(rel)){rel=rel.substr(0,rel.length-1);}}else{rel=(this.GetSourceName(index)||"");}url+=rel;}return url;},GetFileInfo:function(index){if(this._Files.files&&this._Files.files[index]){return this._Files.files[index];}return null;},GetFileSize:function(_1210){var _1211;_1210=_1210||0;if(this._Files.files&&this._Files.files[_1210]){var oFile=this._Files.files[_1210];if(oFile){_1211=oFile.fileSize||oFile.size;}}return _1211;},GetSourceName:function(index){var _1212;if(this._Files.files&&this._Files.files[index]){var file=this._Files.files[index];_1212=file.fileName||file.name;}return _1212;},GetUploadFilesLength:function(){return this._Files.files.length;},ClearFileField:function(){},Hide:function(){},Submit:function(){},Destruct:function(){ITHit.Events.RemoveAllListeners(this);},SetIisDetected:function(_1213){this._IisDetected=_1213;},GetIisDetected:function(){return this._IisDetected===true;},SetMaxUploadSegmentBytes:function(_1214){this._MaxUploadSegmentBytes=_1214;},GetMaxUploadSegmentBytes:function(){return this._MaxUploadSegmentBytes;},AddListener:function(){},RemoveListener:function(){}});})();ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.AjaxFileBrowser");ITHit.oNS.LocalStorage=function(){};ITHit.oNS.LocalStorage.GetObject=function(sKey){var _1215={};try{if(localStorage&&localStorage.getItem&&JSON&&JSON.parse){_1215=JSON.parse(localStorage.getItem(sKey))||_1215;}}catch(e){}return _1215;};ITHit.oNS.LocalStorage.SetObject=function(sKey,_1216){try{if(localStorage&&localStorage.setItem&&JSON&&JSON.stringify){localStorage.setItem(sKey,JSON.stringify(_1216));}}catch(e){}};(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Upload.ResumeManager",null,{_Controller:null,_UploadController:null,_IsResumeUploadSupported:false,_IsRunCheckResumeSupported:null,constructor:function(_1217,_1218){this._Controller=_1217;this._UploadController=_1218;this._IsResumeUploadSupported=!!(ITHit.DetectBrowser.FF>=7||ITHit.DetectBrowser.Safari||ITHit.DetectBrowser.Chrome||ITHit.DetectBrowser.IE>=10);if(this._IsResumeUploadSupported){ITHit.Events.AddListener(_1218.QueueCollection,"OnAdd","_OnQueueAdd",this);ITHit.Events.AddListener(_1218.QueueCollection,"OnChange","_OnQueueChange",this);ITHit.Events.AddListener(_1218.QueueCollection,"OnRemove","_OnQueueRemove",this);}},Load:function(){if(!this._IsResumeUploadSupported){return [];}var _1219=this._Controller.defaultParams.Url;var _121a=ITHit.WebDAV.Client.AjaxFileBrowser.LocalStorage.GetObject(self.LOCAL_STORAGE_KEY)||[];var _121b=[];var _121c=[];for(var i=0;i<_121a.length;i++){var _121d=_121a[i];if(!_121d||!_121d.Url){continue;}var sUrl=_121d.Url;if(sUrl.substr(0,_1219.length)!==_1219){continue;}var _121e=new ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadFile();_121e.Url=sUrl;_121e.Name=_121d.SourceName||ITHit.WebDAV.Client.AjaxFileBrowser.UrlUtils.GetFileName(sUrl);_121e.IsVideoOniOs=_121d.IsVideoOniOs||false;_121e.UploadUrl=sUrl;_121e.RewriteAction=ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadManager.REWRITE_ACTION_REWRITE;_121e.FileExists=false;_121e.IsResumeAfterCrash=true;_121e.SetIsFolder(_121d.IsFolder);_121b.push(_121d);_121c.push(_121e);}ITHit.WebDAV.Client.AjaxFileBrowser.LocalStorage.SetObject(self.LOCAL_STORAGE_KEY,_121b);return _121c;},ValidateFileSize:function(sUrl,_121f){var _1220=this.GetUploadInfo(sUrl);return _1220&&_1220.TotalContentLength===_121f;},IsResumeSupported:function(){return this._IsResumeUploadSupported;},SetResumeSupported:function(_1221){this._IsResumeUploadSupported=_1221;this._IsRunCheckResumeSupported=true;ITHit.Events.DispatchEvent(this,"OnDetectResumeSupported",["OnDetectResumeSupported",this._IsResumeUploadSupported]);},_OnQueueAdd:function(_1222,_1223){this._CheckResumeSupported(_1223);if(!this._IsResumeUploadSupported){return;}if(_1223.IsResumeAfterCrash){return;}var oInfo={Url:_1223.Url,SourceName:_1223.Name,IsVideoOniOs:_1223.IsVideoOniOs,TotalContentLength:_1223.GetTotalContentLength(),IsFolder:_1223.IsFolder()};var _1224=ITHit.WebDAV.Client.AjaxFileBrowser.LocalStorage.GetObject(self.LOCAL_STORAGE_KEY)||[];var _1225=false;for(var i=0;i<_1224.length;i++){if(_1224[i].Url===_1223.Url){_1224[i]=oInfo;_1225=true;break;}}if(!_1225){_1224.push(oInfo);}ITHit.WebDAV.Client.AjaxFileBrowser.LocalStorage.SetObject(self.LOCAL_STORAGE_KEY,_1224);},_OnQueueChange:function(_1226,_1227){this._CheckResumeSupported(_1227);},_OnQueueRemove:function(_1228,_1229){this._CheckResumeSupported(_1229);if(!this._IsResumeUploadSupported){return;}var _122a=ITHit.WebDAV.Client.AjaxFileBrowser.LocalStorage.GetObject(self.LOCAL_STORAGE_KEY)||[];var _122b=[];for(var i=0;i<_122a.length;i++){if(_122a[i].Url!==_1229.Url){_122b.push(_122a[i]);}}ITHit.WebDAV.Client.AjaxFileBrowser.LocalStorage.SetObject(self.LOCAL_STORAGE_KEY,_122b);},_CheckResumeSupported:function(_122c){},RefreshBytesUploadedAsync:function(sUrl,_122d){if(!this._IsResumeUploadSupported){return;}var _122e=ITHit.WebDAV.Client.AjaxFileBrowser.LocalStorage.GetObject(self.LOCAL_STORAGE_KEY);if(_122e&&_122e.length){for(var i=0;i<_122e.length;i++){if(_122e[i].Url==sUrl){var _122f=_122e[i];var that=this;this._UploadController.CommandsCollection.Create("LoadUploadProgressCommand",{Href:sUrl,OnSuccess:function(_1230){that._RefreshBytesUploadedCallback(_122e,i,_122f,_1230,_122d);}}).Execute();break;}}}if(typeof _122d!=="function"){ITHit.WebDAV.Client.AjaxFileBrowser.LocalStorage.SetObject(self.LOCAL_STORAGE_KEY,_122e);}},_RefreshBytesUploadedCallback:function(_1231,i,_1232,_1233,_1234){var _1235=true;var _1236=null;if(_1233 instanceof ITHit.WebDAV.Client.AsyncResult){var _1237=_1233;_1235=_1237.IsSuccess;_1236=_1237.Error;if(_1235){_1233=_1237.Result;}}if(_1235){_1232.BytesUploaded=(_1233&&_1233[0]&&_1233[0].BytesUploaded?_1233[0].BytesUploaded:0);_1231[i]=_1232;ITHit.WebDAV.Client.AjaxFileBrowser.LocalStorage.SetObject(self.LOCAL_STORAGE_KEY,_1231);}if(typeof _1234==="function"){var _1238=new ITHit.WebDAV.Client.AsyncResult(_1232,_1235,_1236);_1234.call(this,_1238,_1232.Url);}},GetUploadInfo:function(sUrl){if(!this._IsResumeUploadSupported){return null;}var _1239=ITHit.WebDAV.Client.AjaxFileBrowser.LocalStorage.GetObject(self.LOCAL_STORAGE_KEY);if(!_1239||_1239.length===0){return null;}var _123a=null;for(var i=0,l=_1239.length;i<l;i++){if(_1239[i].Url===sUrl){_123a=_1239[i];break;}}return _123a;}},{LOCAL_STORAGE_KEY:"ITHit_ResumeUploads"});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadFile",null,{Url:null,Name:null,UploadUrl:null,Method:null,Uploader:null,IsResumeAfterCrash:false,RewriteAction:null,FileExists:false,BaseUrl:null,IsVideoOniOs:false,_Status:null,_RepeatTime:null,_ErrorData:null,_IsFolder:null,_LastProgressReportTime:null,_FinishPartsBytesUploaded:0,_ProgressPartBytesUploaded:0,_TotalContentLength:0,_Form:null,_FormIndex:0,_ProgressInfo:null,_ProgressInfoDiffHistory:null,constructor:function(){this._ProgressInfoDiffHistory=[];},SetForm:function(_123b,_123c){this.Name=_123b.GetName(_123c);this.Method=_123b.Method;this._Form=_123b;this._FormIndex=_123c;this.IsVideoOniOs=_123b.IsVideoOniOs();this._TotalContentLength=_123b.GetFileSize(_123c);this._ProgressInfo=null;},GetForm:function(){return this._Form;},GetDomFileObject:function(){return this._Form!==null?this._Form.GetFileInfo(this._FormIndex):null;},SetIsFolder:function(_123d){this._IsFolder=_123d;},IsFolder:function(){return this._IsFolder===true;},SetError:function(_123e,_123f){var _1240="";if(_123e&&_123e.Code){_1240=ITHit.Phrases.AjaxFileBrowser.StatusDescriptions[_123e.Code]||_123e.Description||"";}if(!_1240){_1240=ITHit.Phrases.AjaxFileBrowser.Interface.FileUploadFailed;}this._ErrorData={Status:_123e,ErrorBody:_123f,Message:_1240};ITHit.Events.DispatchEvent(this,"OnChange",[this,{Error:this._ErrorData,ErrorMessage:this._ErrorData.Message}]);},GetError:function(){return this._ErrorData;},GetErrorMessage:function(){return this._ErrorData!==null?this._ErrorData.Message:null;},SetStatus:function(_1241){this._Status=_1241;ITHit.Events.DispatchEvent(this,"OnChange",[this,{Status:_1241}]);},GetStatus:function(){return this._Status;},SetRepeatTime:function(_1242){this._RepeatTime=_1242;ITHit.Events.DispatchEvent(this,"OnChange",[this,{RepeatTime:_1242}]);},GetTotalContentLength:function(){return this._TotalContentLength||0;},GetBytesUploaded:function(){return this._ProgressInfo?this._ProgressInfo.BytesUploaded:this._FinishPartsBytesUploaded;},SetFinishPartsBytesUploaded:function(_1243,_1244){_1244=_1244||null;this._FinishPartsBytesUploaded=_1243;this._ProgressInfo=null;if(_1244){this._TotalContentLength=_1244;}ITHit.Events.DispatchEvent(this,"OnChange",[this,{UploadSpeed:this.GetUploadSpeed(),ProgressPercent:this.GetProgressPercent(),TimeLeft:this.GetTimeLeft(),BytesUploaded:this.GetBytesUploaded()}]);},GetFinishPartsBytesUploaded:function(_1245){return this._FinishPartsBytesUploaded;},SetProgressInfo:function(_1246){var oNow=new Date();if(_1246!==null){var _1247=this.GetBytesUploaded();this._ProgressInfo=_1246;var _1248=this.GetBytesUploaded();var _1249=this._LastProgressReportTime||oNow;this._ProgressInfoDiffHistory.push({BytesUploaded:_1248-_1247,TimeUpload:(oNow-_1249)/1000});}else{this._ProgressInfo=_1246;}this._LastProgressReportTime=oNow;ITHit.Events.DispatchEvent(this,"OnChange",[this,{ProgressPercent:this.GetProgressPercent(),TimeLeft:this.GetTimeLeft(),BytesUploaded:this.GetBytesUploaded()}]);},GetTimeLeft:function(){var _124a=this.GetTotalContentLength();if(_124a===0){return 0;}var _124b=this.GetUploadSpeed();if(_124b===0){return 0;}var _124c=this.GetBytesUploaded();return Math.ceil((_124a-_124c)/_124b);},GetUploadSpeed:function(){if(self.SPEED_HISTORY_DIFF_MIN_MEASUREMENT_COUNT&&this._ProgressInfoDiffHistory.length<self.SPEED_HISTORY_DIFF_MIN_MEASUREMENT_COUNT){return 0;}var _124d=this._ProgressInfoDiffHistory.slice(-1*self.SPEED_HISTORY_DIFF_MAX_MEASUREMENT_COUNT);var _124e=0;var _124f=0;for(var i=0,l=_124d.length;i<l;i++){_124e+=_124d[i].BytesUploaded;_124f+=_124d[i].TimeUpload;}if(_124e===0||_124f===0){return 0;}var _1250=_124e/_124f;return Math.round(_1250*10)/10;},GetProgressPercent:function(){var _1251=this.GetTotalContentLength();if(_1251===0){return 0;}var _1252=this.GetBytesUploaded();return Math.round(_1252*100/_1251);},IsPaused:function(){return this._Status===self.STATUS_PAUSED;},IsQueued:function(){return this._Status===self.STATUS_QUEUE||this._Status===self.STATUS_RESUME;},IsStarted:function(){return !this.IsQueued()||this.GetBytesUploaded()>0;},IsUploading:function(){return this._Status===self.STATUS_UPLOAD||this._Status===self.STATUS_RETRY;},IsError:function(){return this._Status===self.STATUS_RETRY;},HasInput:function(){return this._Form!==null&&this._Form.HasFileIndex(this._FormIndex);},Destruct:function(){ITHit.Events.RemoveAllListeners(this);this.DestructForm();this.DestructUploader();},DestructForm:function(){},DestructUploader:function(){if(this.Uploader===null){return;}ITHit.Events.RemoveAllListeners(this.Uploader);this.Uploader.Destruct();this.Uploader=null;}},{SPEED_HISTORY_DIFF_MIN_MEASUREMENT_COUNT:2,SPEED_HISTORY_DIFF_MAX_MEASUREMENT_COUNT:5,STATUS_QUEUE:"queue",STATUS_RESUME:"resume",STATUS_UPLOAD:"upload",STATUS_COMPLETE:"complete",STATUS_RETRY:"retry",STATUS_PAUSED:"paused"});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Upload.QueueCollection",null,{MaxUploadsCount:3,_UploadFiles:null,constructor:function(){this._UploadFiles={};},Add:function(_1253){if(this.Has(_1253.Url)){return;}this._UploadFiles[_1253.Url]=_1253;ITHit.Events.AddListener(_1253,"OnChange",this._OnItemChange,this);ITHit.Events.DispatchEvent(this,"OnAdd",["OnAdd",_1253]);},Has:function(sUrl){return this._UploadFiles.hasOwnProperty(sUrl);},GetByUrl:function(sUrl){return this._UploadFiles[sUrl]||null;},GetNextForUpload:function(){if(this.GetUploadingCount()>=this.MaxUploadsCount){return null;}for(var sUrl in this._UploadFiles){if(!this._UploadFiles.hasOwnProperty(sUrl)){continue;}var _1254=this._UploadFiles[sUrl];if(_1254.IsQueued()){return _1254;}}return null;},GetCount:function(){var _1255=0;for(var sUrl in this._UploadFiles){if(this._UploadFiles.hasOwnProperty(sUrl)){_1255++;}}return _1255;},GetUploadingCount:function(){var _1256=0;for(var sUrl in this._UploadFiles){if(!this._UploadFiles.hasOwnProperty(sUrl)){continue;}if(this._UploadFiles[sUrl].IsUploading()){_1256++;}}return _1256;},GetQueuedCount:function(){var _1257=0;for(var sUrl in this._UploadFiles){if(!this._UploadFiles.hasOwnProperty(sUrl)){continue;}if(this._UploadFiles[sUrl].IsQueued()){_1257++;}}return _1257;},Remove:function(sUrl){if(!this.Has(sUrl)){return;}ITHit.Events.DispatchEvent(this,"OnRemove",["OnRemove",this._UploadFiles[sUrl]]);this._UploadFiles[sUrl].Destruct();delete this._UploadFiles[sUrl];},Each:function(_1258,_1259){_1259=_1259||this;for(var sUrl in this._UploadFiles){if(!this._UploadFiles.hasOwnProperty(sUrl)){continue;}if(_1258.call(_1259,this._UploadFiles[sUrl])===false){break;}}},EachGroup:function(_125a,_125b,_125c){_125c=_125c||this;for(var sUrl in this._UploadFiles){if(!this._UploadFiles.hasOwnProperty(sUrl)){continue;}var _125d=this._UploadFiles[sUrl];var _125e=_125d.GetForm();if(!_125e||_125e.GroupIndex!==_125a){continue;}if(_125b.call(_125c,this._UploadFiles[sUrl])===false){break;}}},RemoveGroup:function(_125f){this.EachGroup(_125f,function(_1260){this.Remove(_1260.Url);});},_OnItemChange:function(_1261,_1262){ITHit.Events.DispatchEvent(this,"OnItemChange",["OnItemChange",_1261,_1262]);}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadController",ITHit.WebDAV.Client.AjaxFileBrowser.AjaxFileBrowserBase,{MaximumUploads:3,IsFormDisabled:true,UploadManager:null,InfoManager:null,ResumeManager:null,QueueCollection:null,CommandsCollection:null,_Controller:null,_Form:null,_CancelManager:null,constructor:function(_1263,_1264,_1265){this._Controller=_1263;if(ITHit.DetectBrowser.IE&&ITHit.DetectBrowser.IE<10){this.MaximumUploads=1;}this.CommandsCollection=this._Controller.Commands.CreateCollection("upload");this.QueueCollection=new ITHit.WebDAV.Client.AjaxFileBrowser.Upload.QueueCollection();this.QueueCollection.MaxUploadsCount=this.MaximumUploads;ITHit.Events.AddListener(this.QueueCollection,"OnAdd","_OnAddToQueue",this);this._Form=_1264;ITHit.Events.AddListener(this._Form,"OnSubmit","_SubmitHandler",this);this.UploadManager=new ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadManager(this._Controller,this);this.InfoManager=_1265;this.InfoManager.BindQueueCollection(this.QueueCollection);this.InfoManager.BindUploadManager(this.UploadManager);ITHit.Events.AddListener(this.UploadManager,"OnGetProgress","_GetProgressHandler",this);ITHit.Events.AddListener(this.UploadManager,"OnCancelUpload","_CancelUploadHandler",this);this.ResumeManager=new ITHit.WebDAV.Client.AjaxFileBrowser.Upload.ResumeManager(this._Controller,this);this._LoadResumeUploads();this._CancelManager=new ITHit.WebDAV.Client.AjaxFileBrowser.Upload.CancelManager(this._Controller,this);},SetUploadUrl:function(sUrl){sUrl=ITHit.DecodeHost(this._Controller.Utils.GetAbsolutePath(sUrl));this._Form.SetUploadUrl(sUrl);},ChangeProgressRefreshTime:function(_1266){this.UploadManager.ChangeProgressRefreshTime(_1266);},_LoadResumeUploads:function(){var _1267=this.ResumeManager.Load();for(var i=0,l=_1267.length;i<l;i++){var _1268=_1267[i];_1268.SetStatus(ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadFile.STATUS_PAUSED);this.QueueCollection.Add(_1268);if(!_1268.IsFolder()){this._FetchBytesUploadedInfo(_1268.Url);}}var that=this;setTimeout(function(){that.UploadManager.QueueRun();});},_FetchBytesUploadedInfo:function(sUrl,_1269){var _126a=this.QueueCollection.GetByUrl(sUrl);if(_126a.Uploader!==null){return;}var _126b=this;this.CommandsCollection.Create("LoadUploadProgressCommand",{Href:sUrl,OnSuccess:function(_126c){var oInfo=_126c[0];_126a.SetFinishPartsBytesUploaded(oInfo.BytesUploaded,oInfo.TotalContentLength);if(typeof _1269!=="undefined"){_1269.call(_126b,_126a,oInfo);}},OnError:function(_126d){if(typeof _1269!=="undefined"){_1269.call(_126b,_126a,null,_126d[0]);}}}).Execute();},_SubmitHandler:function(_126e,_126f){if(!(_126f instanceof ITHit.WebDAV.Client.AjaxFileBrowser.Upload.FormObject)&&!(_126f instanceof ITHit.WebDAV.Client.AjaxFileBrowser.Upload.DropObjectAdapter)){throw ITHit.Exception("Parameter expected to be UploadFormObject or UploadDropObjectAdapter instance.");}if(ITHit.Events.DispatchEvent(this,"OnSubmit",[_126e,_126f])===false){return;}if(!this._ValidateFirefoxSizeLimit(_126f)){return;}var _1270={AlreadyInList:[],ResumeNotInList:[],ResumeChangeSize:[],IOsVideoInList:[]};var _1271=[];for(var i=0;i<_126f.GetUploadFilesLength();i++){if(_126f.GetSourceName(i)==="."){continue;}var sUrl=_126f.GetDestination(i);var _1272=_126f.GetRelativePath(i);if(ITHit.DetectDevice.iOS&&!_126f.IsVideoOniOs()&&_126f.GetFileSize(i)===0){_1270.IOsVideoInList.push(sUrl);continue;}if(_126f.IsResumeAfterCrash()&&!this.QueueCollection.Has(sUrl)){_1270.ResumeNotInList.push(sUrl);}else{if(_126f.IsResumeAfterCrash()&&_126f.GetResumeDestination(i)!==sUrl){_1270.ResumeNotInList.push(sUrl);}}var _1273=this.QueueCollection.GetByUrl(sUrl)||new ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadFile();if(this.QueueCollection.Has(sUrl)){if(_126f.IsResumeAfterCrash()&&_1273.IsPaused()){_1273.SetStatus(ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadFile.STATUS_RESUME);}else{_1270.AlreadyInList.push(sUrl);continue;}}if(this.QueueCollection.Has(sUrl)&&(_126f.IsResumeAfterCrash()||_1273.IsResumeAfterCrash)){if(this.ResumeManager.ValidateFileSize(sUrl,_126f.GetFileSize(i))){_1273.SetStatus(ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadFile.STATUS_RESUME);}else{_1271.push([_1273,_126f,i]);_1270.ResumeChangeSize.push(sUrl);continue;}}_1273.Url=sUrl;_1273.UploadUrl=sUrl;_1273.BaseUrl=_1272?sUrl.substr(0,sUrl.length-_1272.length):null;_1273.SetForm(_126f,i);if(!this.QueueCollection.Has(sUrl)){_1273.SetStatus(ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadFile.STATUS_QUEUE);this.QueueCollection.Add(_1273);}}if(_1270.AlreadyInList.length>0){ITHit.Events.DispatchEvent(this,"OnAlert",[ITHit.Phrases.AjaxFileBrowser.Interface.FilePrecentInUploadList.Paste(_1270.AlreadyInList.join("\n"))]);}if(_1270.ResumeNotInList.length>0||_1270.ResumeChangeSize.length>0||_1270.IOsVideoInList.length>0){var _1274=[];if(_1270.IOsVideoInList.length>0){_1274.push(ITHit.Phrases.AjaxFileBrowser.Interface.VideoFilesWillBeIgnored);}if(_1270.ResumeNotInList.length>0){_1274.push(ITHit.Phrases.AjaxFileBrowser.Interface.FilesResumeNotInList.Paste(_1270.ResumeNotInList.join("\n")));}if(_1270.ResumeChangeSize.length>0){_1274.push(ITHit.Phrases.AjaxFileBrowser.Interface.FilesResumeNotChanged.Paste(_1270.ResumeChangeSize.join("\n")));}if(_1270.ResumeNotInList.length>0||_1270.ResumeChangeSize.length>0){_1274.push(ITHit.Phrases.AjaxFileBrowser.Interface.FilesResumeStartFromBegin);}var that=this;this.InfoManager.ShowResumeWarningConfirm(_1274.join("\n\n"),function(_1275){if(_1275){for(var i=0,l=_1271.length;i<l;i++){var _1276=_1271[i][0];_1276.SetFinishPartsBytesUploaded(0);_1276.SetForm(_1271[i][1],_1271[i][2]);_1276.SetStatus(ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadFile.STATUS_RESUME);}that.UploadManager.QueueRun();}else{that.QueueCollection.EachGroup(_126f.GroupIndex,function(_1277){if(_1277.GetStatus()===ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadFile.STATUS_QUEUE){that.QueueCollection.Remove(_1277.Url);}else{_1277.SetStatus(ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadFile.STATUS_PAUSED);}});}});return;}this.UploadManager.QueueRun();},_ValidateFirefoxSizeLimit:function(_1278){if(!ITHit.DetectBrowser.FF||ITHit.DetectBrowser.FF>=7){return true;}var _1279=_1278.GetUploadFilesLength();if(_1279===1||!(_1278 instanceof ITHit.WebDAV.Client.AjaxFileBrowser.Upload.DropObjectAdapter)){return true;}var _127a=[];for(var i=0;i<_1279;i++){if(_1278.GetFileSize(i)>104857600){_127a.push(_1278.GetName());}}if(_127a.length===0){return true;}ITHit.Events.DispatchEvent(this,"OnAlert",[ITHit.Phrases.AjaxFileBrowser.Interface.FirefoxLargeFilesToUpload.Paste(_127a.join("\n"))]);return false;},_OnAddToQueue:function(_127b,_127c){var _127d={method:_127c.Method,action:_127c.UploadUrl};this.DispatchEvent("OnBeforeUpload",_127d);_127c.Method=_127d.method?_127d.method.toUpperCase():null;_127c.UploadUrl=_127d.action;},UploadFolder:function(sUrl){if(ITHit.DetectBrowser.Chrome>=11){this._Form.IsFolderMode=true;this._Form.SetDestination(sUrl);this._Form.DoClickBrowse();}else{ITHit.Events.DispatchEvent(this,"OnAlert",[ITHit.Phrases.AjaxFileBrowser.Interface.FolderUploadNotAvailedInYourBrowser]);}},PauseUpload:function(aUrl){if(!ITHit.Utils.IsArray(aUrl)){aUrl=[aUrl];}for(var i=0,l=aUrl.length;i<l;i++){var _127e=this.QueueCollection.GetByUrl(aUrl[i]);this.UploadManager._AutoResumeManager.RemoveResource(_127e.Url);_127e.SetStatus(ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadFile.STATUS_PAUSED);_127e.DestructUploader();}this.UploadManager.QueueRun();},ResumeUpload:function(aUrl){if(!ITHit.Utils.IsArray(aUrl)){aUrl=[aUrl];}var _127f=null;var _1280=false;var _1281={};for(var i=0;i<aUrl.length;i++){var sUrl=aUrl[i];var _1282=ITHit.WebDAV.Client.AjaxFileBrowser.UrlUtils.GetFileName(sUrl);var _1283=this.QueueCollection.GetByUrl(sUrl);if(_1283.IsVideoOniOs){_1280=true;}if(!_1283.HasInput()){_127f=ITHit.WebDAV.Client.AjaxFileBrowser.UrlUtils.GetDirName(sUrl);_1281[_1282]=sUrl;}}if(_127f!==null){this._Form.SetDestination(_127f);this._Form.SetResumeDestinations(_1281);this._Form.ClearFileField();this._Form.SetIsVideoOniOs(_1280);if(ITHit.DetectDevice.iOS){this._Form.SetMultiple(false);}this._Form.DoClickBrowse();return;}var that=this;for(var i=0,l=aUrl.length;i<l;i++){var _1283=this.QueueCollection.GetByUrl(aUrl[i]);_1283.SetStatus(ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadFile.STATUS_RESUME);this.UploadManager._AutoResumeManager.RemoveResource(_1283.Url,true);this._FetchBytesUploadedInfo(_1283.Url,function(_1284,oInfo,_1285){if(oInfo===null){_1284.SetStatus(ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadFile.STATUS_QUEUE);_1284.DestructUploader();}that.UploadManager.QueueRun();});}},CancelUpload:function(aUrl){if(!ITHit.Utils.IsArray(aUrl)){aUrl=[aUrl];}for(var i=0,l=aUrl.length;i<l;i++){var sUrl=aUrl[i];var _1286=this.QueueCollection.GetByUrl(sUrl);if(!_1286.IsQueued()){this._CancelManager.AddResource(sUrl,_1286.FileExists);}this.QueueCollection.Remove(sUrl);}},_GetProgressHandler:function(_1287,sUrl,_1288){var _1289=this.ResumeManager.RefreshBytesUploadedAsync(sUrl,_1288);if(!_1289){return false;}return new ITHit.WebDAV.Client.AjaxFileBrowser.Upload.ProgressInfo(sUrl,_1289.BytesUploaded,_1289.Size);},_CancelUploadHandler:function(_128a,sUrl){return this.CancelUpload(sUrl);}});})();ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.AjaxFileBrowser");ITHit.oNS.CodeConstructor=function(){};ITHit.oNS.CodeConstructor._ElementsBinderCounter=0;ITHit.oNS.CodeConstructor._FunctionsBinderList={};ITHit.oNS.CodeConstructor.RestoreBindedFunctions=function(){var _128b=ITHit.WebDAV.Client.AjaxFileBrowser.CodeConstructor._FunctionsBinderList;var _128c=ITHit.Components.dojo;for(var _128d in _128b){if(!_128b.hasOwnProperty(_128d)){continue;}for(var sProp in _128b[_128d]){_128c.connect(_128c.byId(_128d),sProp.toLowerCase(),_128b[_128d][sProp]);}}_128b={};};ITHit.oNS.CodeConstructor.CreateHTML=function(_128e,_128f,_1290,sTab,_1291){sTab=sTab||"";_1290=_1290||{};var html=[];if(!ITHit.Utils.IsArray(_128f)){_128f=[_128f];}for(var i=0,l=_128f.length;i<l;i++){var oJS=_128f[i];for(var sElem in oJS){if(!ITHit.Utils.IsUndefined(Object[sElem])){continue;}var _1292=true;switch(sElem){case "img":case "hr":case "br":case "frame":case "input":_1292=false;}var _1293=sElem.toLowerCase();var _1294=ITHit.WebDAV.Client.AjaxFileBrowser.CodeConstructor._ParseParams(_128e,oJS[sElem],_1290,sTab,_1291);if("emptyElement"!=sElem){if(_1292){html.push([sTab,"<",_1293," ",_1294.props.join(" "),">\n",_1294.childNodes.join("\n"),"\n",sTab,"</",_1293,">"].join(""));}else{html.push([sTab,"<",_1293," ",_1294.props.join(" ")," />"].join(""));}}else{html.push(_1294.childNodes.join(" "));}}}return html.join("\n");};ITHit.oNS.CodeConstructor._ParseParams=function(_1295,_1296,_1297,sTab,_1298){sTab=sTab+"\t";_1298=_1298||{};var _1299=ITHit.WebDAV.Client.AjaxFileBrowser.CodeConstructor;var _129a=ITHit.Utils.IsFunction;var _129b=ITHit.Utils.IsUndefined;var _129c={props:[],childNodes:[]};for(var sProp in _1296){if(!_1296.hasOwnProperty(sProp)){continue;}var _129d=_1296[sProp];if(!_129b(_1298[sProp])){_129d=_1298[sProp];}switch(sProp){case "linkId":break;case "className":_129c.props.push("class=\""+_129d+"\"");break;case "style":if(!_129b(_1296.show)&&!_1296.show){_129d.display="none";}_129c.props.push(sProp+"=\""+_1299.PrepareStyle(_129d).join(" ")+"\"");break;case "show":if(_1296.style){break;}if(!_1296.show){_129c.props.push("style=\""+_1299.PrepareStyle({display:"none"}).join(" ")+"\"");}break;case "label":if(_1296.ihDojoType&&("dijit.MenuItem"==_1296.ihDojoType)&&!_129b(_1296.text)){break;}_129c.props.push(sProp+"=\""+String(_129d)+"\"");break;case "text":if(_1296.ihDojoType&&("dijit.MenuItem"==_1296.ihDojoType)){_129c.props.push("label=\""+String(_129d)+"\"");break;}var sText=String(_129d).replace(/\|>/gm,"\n"+sTab);if(sText){_129c.childNodes.push(sTab+sText);}break;case "tooltip":_129c.props.push("title=\""+_129d+"\"");break;case "title":_129c.props.push(sProp+"=\""+_129d+"\"");break;case "expression":_129c.props.push(_129d);break;case "childNodes":for(var i=0,l=_129d.length;i<l;i++){var _129e=_129d[i];if(ITHit.Utils.IsObjectStrict(_129e)){var _129f={};if((0==i)&&!_129b(_1296.text)&&_129e["span"]){_129f.text=_1296.text;}_129c.childNodes.push(_1299.CreateHTML(_1295,_129e,_1297,sTab,_129f));}else{_129c.childNodes.push(sTab+_129e);}}break;case "innerHTML":_129c.childNodes.push(_129d);break;case "contextHelp":if(!_1295["ContextHelp"]||!_1296[sProp]){continue;}if(ITHit.Utils.IsUndefined(_12a0)){var _12a0=_1296.id;if(!_12a0){_12a0="ITHit_Element_"+_1299._ElementsBinderCounter++;}}if(!_1299._FunctionsBinderList[_12a0]){_1299._FunctionsBinderList[_12a0]={};}_1299._FunctionsBinderList[_12a0]["onMouseOver"]=ITHit.Utils.MakeScopeClosure(_1295["ContextHelp"],"Show",[_1296[sProp],_1296["contextHelpIconClass"]]);_1299._FunctionsBinderList[_12a0]["onMouseOut"]=ITHit.Utils.MakeScopeClosure(_1295["ContextHelp"],"Hide");break;case "dojoProps":var _12a1=[];for(var key in _129d){if(_129d.hasOwnProperty(key)){_12a1.push(key+":'"+_129d[key]+"'");}}_129c.props.push("data-dojo-props=\""+_12a1.join(", ")+"\"");break;case "dojoMixins":_129c.props.push("data-dojo-mixins=\""+_129d.replace(/\./g,"/")+"\"");break;default:if(!_129a(_129d)){_129c.props.push(sProp+"=\""+_129d+"\"");}else{if(ITHit.Utils.IsUndefined(_12a0)){var _12a0=_1296.id;if(!_12a0){_12a0="ITHit_Element_"+_1299._ElementsBinderCounter++;}}if(!_1299._FunctionsBinderList[_12a0]){_1299._FunctionsBinderList[_12a0]={};}_1299._FunctionsBinderList[_12a0][sProp]=_129d;}}}return _129c;};ITHit.oNS.CodeConstructor.PrepareStyle=function(_12a2){if(ITHit.Utils.IsString(_12a2)){return [_12a2];}if(ITHit.Utils.IsObjectStrict(_12a2)){var _12a3=[];for(var sProp in _12a2){if(_12a2.hasOwnProperty(sProp)){_12a3.push(sProp.replace(/([A-Z])/g,"-$1").toLowerCase()+": "+_12a2[sProp]+";");}}return _12a3;}return [];};ITHit.oNS.CodeConstructor.Clone=function(_12a4,_12a5,_12a6){var _12a7=ITHit.Utils;var _12a8=ITHit.WebDAV.Client.AjaxFileBrowser.CodeConstructor.Clone;if(ITHit.Utils.IsArray(_12a4)){var _12a9=[];for(var i=0,l=_12a4.length;i<l;i++){_12a9.push(_12a8(_12a4[i]));}return _12a9;}if(!_12a7.IsObject(_12a4)||_12a7.IsNull(_12a4)){return _12a4;}var _12aa=_12a5||{};for(var prop in _12a4){if(!_12a4.hasOwnProperty(prop)){continue;}var _12ab=prop;if(_12a6){_12ab=_12ab.substr(0,1).toLowerCase()+_12ab.substr(1);}switch(_12ab){case "text":case "title":case "label":case "name":case "contextHelp":_12aa[_12ab]=String(_12a4[prop]);continue;case "tooltip":_12aa.title=_12a4[prop];continue;}if(!_12a7.IsObjectStrict(_12a4[prop])||_12a7.IsDOMObject(_12a4[prop])){_12aa[_12ab]=_12a4[prop];}else{_12aa[_12ab]=_12a8(_12a4[prop],null,_12a6);}}return _12aa;};ITHit.oNS.CodeConstructor.CloneGridColumnsModified=function(_12ac,_12ad,_12ae){var _12af=ITHit.WebDAV.Client.AjaxFileBrowser.CodeConstructor;var _12b0=_12af._CloneGridColumnsModified;var _12b1=ITHit.WebDAV.Client.AjaxFileBrowser.CodeConstructor.Clone(_12ac);var _12b2=[];var _12b3=_12ae&&ITHit.Utils.IsFunction(_12ae);if(_12ad&&ITHit.Utils.IsArray(_12ad.Columns)&&_12ad.Columns.length){var _12b4=_12ad.Columns.concat();for(var i=0,l=_12b4.length;i<l;i++){var _12b5=false;if(_12b4[i].Id){for(var j=0,jl=_12b1.length;j<jl;j++){if(_12b1[j].linkId==_12b4[i].Id){_12b1[j]=_12b0(_12b1[j],_12b4[i],_12ae);_12b5=true;break;}}}if(!_12b5){if(ITHit.Utils.IsUndefined(_12b4[i].Formatter)||!ITHit.Utils.IsFunction(_12b4[i].Formatter)||!_12b3){if(!_12b4[i].CustomProperty){_12b4[i].Formatter=function(){return "";};}}else{_12b4[i].Formatter=_12ae(_12b4[i].Formatter);}_12b1.push(_12b0({},_12b4[i],_12ae));}}}if(_12ad&&_12ad.Order){for(var i=0,l=_12ad.Order.length;i<l;i++){for(var j=0,jl=_12b1.length;j<jl;j++){if(_12b1[j].linkId&&(_12b1[j].linkId==_12ad.Order[i])){_12b2.push(_12b1[j]);_12b1.splice(j,1);break;}}}}_12b2=_12b2.concat(_12b1);for(var i=0,l=_12b2.length;i<l;i++){if(_12b2[i].cellStyles){_12b2[i].cellStyles=_12af.PrepareStyle(_12b2[i].cellStyles).join(" ");}if(_12b2[i].headerStyles){_12b2[i].headerStyles=_12af.PrepareStyle(_12b2[i].headerStyles).join(" ");}if(_12b2[i].styles){_12b2[i].styles=_12af.PrepareStyle(_12b2[i].styles).join(" ");}}return _12b2;};ITHit.oNS.CodeConstructor._CloneGridColumnsModified=function(_12b6,_12b7,_12b8){var _12b9=ITHit.Utils;var _12ba=_12b9.IsUndefined;var _12bb=ITHit.WebDAV.Client.AjaxFileBrowser.CodeConstructor;var _12bc=_12bb.Clone;var _12bd={};for(var prop in _12b6){if(!_12b6.hasOwnProperty(prop)){continue;}var _12be=prop.substr(0,1).toUpperCase()+prop.substr(1);if(_12ba(_12b7[_12be])){_12bd[prop]=_12b6[prop];}else{if(!_12b9.IsObjectStrict(_12b7[_12be])||_12b9.IsDOMObject(_12b7[_12be])){if(("formatter"===prop)&&_12b9.IsFunction(_12b7[_12be])){_12bd[prop]=_12b8(_12b7[_12be],_12b6[prop]);}else{_12bd[prop]=_12b7[_12be];}}else{_12bd[prop]=_12bc(_12b6[prop],_12b7[_12be]);}}}for(var prop in _12b7){if(!_12b7.hasOwnProperty(prop)){continue;}switch(prop){case "Columns":case "Order":continue;case "Id":_12bd.linkId=_12b7.Id;continue;case "Show":if(_12ba(_12bd.styles)){if(!_12b7.Show){_12bd.styles={display:"none"};}}else{if(_12b7.Show){if(_12ba(_12bd.styles.display)){delete _12bd.styles.display;}}else{_12bd.styles.display="none";}}continue;case "Text":_12bd.name=String(_12b7.Text);continue;case "Tooltip":_12bd.title=_12b7[prop];continue;case "Formatter":_12bd.formatter=_12b8(_12b7.Formatter);continue;case "CellFormatter":_12bd.cellFormatter=_12b7.CellFormatter;continue;}var _12bf=prop.substr(0,1).toLowerCase()+prop.substr(1);if(!_12b9.IsObjectStrict(_12b7[prop])||_12b9.IsDOMObject(_12b7[prop])){_12bd[_12bf]=_12b7[prop];}else{_12bd[_12bf]=_12bc(_12b7[prop],_12b7[prop]);}}return _12bd;};ITHit.oNS.CodeConstructor.CloneCodeModified=function(_12c0,_12c1){if(!_12c1){return ITHit.WebDAV.Client.AjaxFileBrowser.CodeConstructor.Clone(_12c0);}var _12c2=ITHit.WebDAV.Client.AjaxFileBrowser.CodeConstructor;var _12c3=_12c2.CloneCodeModified;var _12c4=ITHit.Utils;var _12c5=_12c4.IsUndefined;var bChk=false;var oNew=_12c4.IsArray(_12c0)?[]:{};if(!_12c5(_12c0.linkId)){if(_12c4.IsArray(_12c1)){for(var i=0,l=_12c1.length;i<l;i++){if(!_12c5(_12c1[i].Id)&&(_12c1[i].Id==_12c0.linkId)){_12c1=_12c1[i];bChk=true;break;}}}else{if(_12c4.IsObjectStrict(_12c1)){if(!_12c5(_12c1[_12c0.linkId])){_12c1=_12c1[_12c0.linkId];bChk=true;}}}}for(var prop in _12c0){if(!_12c0.hasOwnProperty(prop)){continue;}switch(prop){case "linkId":continue;case "name":case "text":case "title":case "label":case "tooltip":case "contextHelp":oNew[prop]=String(_12c0[prop]);continue;case "childNodes":var _12c6=[];if(!bChk||_12c5(_12c1["Order"])){_12c6=_12c0[prop];}else{var _12c7=_12c0[prop].concat();var bLoop=false;for(var i=0,il=_12c1["Order"].length;i<il;i++){var _12c8=false;unorderedSearch:for(var j=0,jl=_12c7.length;j<jl;j++){for(var _12c9 in _12c7[j]){if(!_12c7[j].hasOwnProperty(_12c9)){continue;}if(_12c7[j][_12c9].linkId==_12c1["Order"][i]){_12c6.push(_12c7[j]);_12c7.splice(j,1);_12c8=true;break unorderedSearch;}}}if(!_12c8&&bChk&&_12c4.IsArray(_12c1["Items"])){for(var k=0,kl=_12c1["Items"].length;k<kl;k++){if(!_12c5(_12c1["Items"][k].Id)&&_12c1["Order"][i]&&(_12c1["Items"][k].Id==_12c1["Order"][i])){var _12ca=_12c2.CreateElement(_12c1["Items"][k]);for(var j=0,jl=_12ca.length;j<jl;j++){_12c6.push(_12ca[j]);}_12c1["Items"].splice(k,1);break;}}}}_12c6=_12c6.concat(_12c7);}oNew[prop]=[];var _12cb=_12c1;if(bChk&&_12c4.IsArray(_12c1["Items"])){_12cb=_12c1["Items"];}for(var i=0,l=_12c6.length;i<l;i++){oNew[prop].push(_12c3(_12c6[i],_12cb));}if(bChk&&_12c4.IsArray(_12c1["Items"])){for(var i=0,l=_12c1["Items"].length;i<l;i++){if(_12c1["Items"][i].Type||_12c1["Items"][i].InnerHTML){var _12ca=_12c2.CreateElement(_12c1["Items"][i]);for(var j=0,jl=_12ca.length;j<jl;j++){oNew[prop].push(_12ca[j]);}}}}continue;}if(!_12c4.IsObjectStrict(_12c0[prop])||_12c4.IsDOMObject(_12c0)){oNew[prop]=_12c0[prop];}else{oNew[prop]=_12c3(_12c0[prop],_12c1);}}if(bChk){var _12cc=!_12c4.IsUndefined(_12c0.ihDojoType)&&(-1!=_12c0.ihDojoType.indexOf(".Button"));var _12cd=_12c4.IsUndefined(_12c1.Text);if(_12cc&&((_12cd&&(_12c4.IsUndefined(oNew.text)||(""===oNew.text)))||(!_12cd&&(""===_12c1.Text)))){oNew.showLabel=false;}for(var prop in _12c1){if(!_12c1.hasOwnProperty(prop)){continue;}var _12ce=prop.substr(0,1).toLowerCase()+prop.substr(1);switch(prop){case "Items":case "Order":case "InnerHTML":continue;case "Id":if(oNew.linkId){continue;}case "Tooltip":oNew.title=_12c1[prop];continue;}if(!_12c4.IsObjectStrict(_12c1[prop]||_12c4.IsDOMObject(_12c1[prop]))){oNew[_12ce]=_12c1[prop];}else{oNew[_12ce]=oNsClone(_12c1[prop]);}}}else{if(!_12c4.IsUndefined(oNew.ihDojoType)&&(-1!=oNew.ihDojoType.indexOf(".Button"))&&(_12c4.IsUndefined(oNew.text)||(""===oNew.text))){oNew.showLabel=false;}}return oNew;};ITHit.oNS.CodeConstructor.CreateElement=function(oCode){var _12cf=ITHit.WebDAV.Client.AjaxFileBrowser.CodeConstructor.Clone;oCode=_12cf(oCode);var _12d0=[];if(!oCode.Type&&!oCode.InnerHTML){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("New element type is not passed.");}if(oCode.InnerHTML){_12d0.push({emptyElement:{innerHTML:oCode.InnerHTML}});return _12d0;}switch(oCode.Type){case "Button":_12d0.push({});var _12d1=_12d0.length-1;var _12d2=_12d0[_12d1].button={};_12d2.ihDojoType="dijit.form.Button";if(ITHit.Utils.IsUndefined(oCode.Text)||(""===oCode.Text)){_12d2.showLabel=false;}break;case "ToggleButton":_12d0.push({});var _12d1=_12d0.length-1;var _12d2=_12d0[_12d1].button={};_12d2.ihDojoType="dijit.form.ToggleButton";if(ITHit.Utils.IsUndefined(oCode.Text)||(""===oCode.Text)){_12d2.showLabel=false;}break;default:throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Passed unsupported element type: \""+oCode.Type+"\".");}delete oCode.Type;_12cf(oCode,_12d2,true);return _12d0;};ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.ActiveStateHelper",function(){},{},{Apply:function(_12d3){_12d3.on("touchstart",function(_12d4){ITHit.Components.jQuery(_12d4.target).closest("a").addClass("ui-state-active");});_12d3.on("touchend",function(){_12d3.find("a.ui-state-active").removeClass("ui-state-active");});}});ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.BaseView",function(){},{Id:null,Element:null,constructor:function(_12d5){_12d5=_12d5||{};if(this.Id===null){this.Id="ithit_view_"+ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.BaseView.IdCounter++;}this._Initialize();this._CreateElement();if(_12d5.AppendTo){this.Element.appendTo(_12d5.AppendTo);}else{if(_12d5.InsertBefore){this.Element.insertBefore(_12d5.InsertBefore);}}this._OnRender();},Query:function(_12d6){return this.Element.find(_12d6);},GetController:function(){return this.GetRenderController().GetController();},GetRenderController:function(){return ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.RenderController.GetByIndex(0);},Destroy:function(){this.Element.remove();},_Initialize:function(){},_OnRender:function(){},_CreateElement:function(){this.Element=ITHit.Components.jQuery(this.GetHtml()).appendTo(document.body);this.Element.attr("id",this.Id);},_GetStructure:function(){return {};},GetHtml:function(){var sCode="";var _12d7=this._GetStructure();try{var _12d8=ITHit.WebDAV.Client.AjaxFileBrowser.CodeConstructor.Clone(_12d7);sCode=ITHit.WebDAV.Client.AjaxFileBrowser.CodeConstructor.CreateHTML({},_12d8,{});}catch(e){throw e;}return sCode;}},{IdCounter:0});ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.BaseLayoutView",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.BaseView,{_AppendTo:null,_IsInitialize:false,constructor:function(_12d9){this._AppendTo=_12d9;if(this.Id===null){this.Id="ithit_view_"+ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.BaseView.IdCounter++;}},Initialize:function(){if(this._IsInitialize===true){return;}this._IsInitialize=true;this._Initialize();this._CreateElement();this._OnRender();},_CreateElement:function(){this._super();this.Element.appendTo(this._AppendTo);}});(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.Base",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.BaseView,{DestroyOnClose:true,SetTitle:function(_12da){this.Query("[data-role=\"header\"] h1").text(_12da);},Open:function(){self._AddToQueue(this);ITHit.Events.AddListener(this,"OnClose",function(){self._RemoveFromQueue(this);},this);if(self._DialogsQueue.length===1){this.Element.popup("open");if(ITHit.DetectDevice.Android){var that=this;setTimeout(function(){that.Element.popup("reposition",{positionTo:"window"});},200);setTimeout(function(){that.Element.popup("reposition",{positionTo:"window"});},600);}}},Close:function(){if(this.Element.hasClass("ui-popup")){this.Element.popup("close");}ITHit.Events.DispatchEvent(this,"OnClose");},_OnRender:function(){this.Element.appendTo(ITHit.Components.jQuery("body"));this.Element.popup();this.Element.on("popupafterclose",ITHit.Components.jQuery.proxy(this._OnClose,this));},_OnClose:function(){ITHit.Events.RemoveListener(this,"OnClose");if(this.DestroyOnClose){this.Element.popup("destroy");this.Element.remove();}},_GetStructure:function(){return {div:{"data-role":"popup","data-theme":"b","data-dismissible":false,"data-position-to":"window",childNodes:[{div:{"role":"main",className:"ui-content",childNodes:this._GetContentSctructure()}}]}};},_GetContentSctructure:function(){return [];}},{_DialogsQueue:[],_AddToQueue:function(_12db){self._DialogsQueue.push(_12db);},_RemoveFromQueue:function(_12dc){var _12dd=[];for(var i=0,l=self._DialogsQueue.length;i<l;i++){if(self._DialogsQueue[i]!==_12dc){_12dd.push(self._DialogsQueue[i]);}}self._DialogsQueue=_12dd;if(self._DialogsQueue.length>0){self._DialogsQueue[0].Element.popup("open");}}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.Message",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.Base,{SetText:function(sText){sText=ITHit.Utils.HtmlEscape(sText);sText=sText.toString().replace(/\n/g,"<br />\n");this.Query("[role=\"main\"] p").html(sText);},_OnRender:function(){this._super();this.Query("[role=\"main\"] .ui-btn").on("tap",ITHit.Components.jQuery.proxy(function(_12de){_12de.preventDefault();this.Close();},this));},_GetContentSctructure:function(){return [{p:{text:""}},{a:{className:"ui-btn ui-corner-all",style:{"margin":"0 auto",width:"50%"},text:ITHit.Phrases.AjaxFileBrowserMobile.Interface.Buttons.Close}}];}},{Create:function(sText){var _12df=new self();if(sText){_12df.SetText(sText);}return _12df;}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.Confirm",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.Base,{SetText:function(sText){sText=ITHit.Utils.HtmlEscape(sText);sText=sText.toString().replace(/\n/g,"<br />\n");this.Query("[role=\"main\"] p").html(sText);},SetAcceptButtonText:function(sText){this.Query("[role=\"main\"] .button-accept").text(sText);},_OnRender:function(){this._super();this.Query("[role=\"main\"] .button-accept").on("tap",ITHit.Components.jQuery.proxy(this._OnButtonAccept,this));this.Query("[role=\"main\"] .button-cancel").on("tap",ITHit.Components.jQuery.proxy(this._OnButtonReject,this));},_OnButtonAccept:function(_12e0){_12e0.preventDefault();ITHit.Events.DispatchEvent(this,"OnAccept");this.Close();},_OnButtonReject:function(_12e1){_12e1.preventDefault();ITHit.Events.DispatchEvent(this,"OnReject");this.Close();},_OnClose:function(){this._super();ITHit.Events.RemoveListener(this,"OnAccept");ITHit.Events.RemoveListener(this,"OnReject");},_GetContentSctructure:function(){return [{p:{text:""}},{a:{className:"button-accept ui-btn ui-corner-all ui-btn-inline",text:ITHit.Phrases.AjaxFileBrowserMobile.Interface.Buttons.Ok}},{a:{className:"button-cancel ui-btn ui-corner-all ui-btn-inline",text:ITHit.Phrases.AjaxFileBrowserMobile.Interface.Buttons.Cancel}}];}},{Create:function(sText){var _12e2=new self();if(sText){_12e2.SetText(sText);}return _12e2;}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.SimpleForm",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.Confirm,{SetLabelText:function(sText){this.Query("[role=\"main\"] label").text(sText);},SetInputValue:function(sText){this.Query("[role=\"main\"] input").val(sText);},_OnRender:function(){this._super();this.Query("form").on("submit",ITHit.Components.jQuery.proxy(function(){this._OnButtonAccept();return false;},this));},Open:function(){this._super();this.Query("input:eq(0)").focus();},_OnButtonAccept:function(){ITHit.Events.DispatchEvent(this,"OnAccept",this.Query("input[type=\"text\"]").val());this.Close();},_GetContentSctructure:function(){return [{form:{onsubmit:"return false;",className:"dialog-simpleForm",childNodes:[{div:{childNodes:[{label:{text:""}},{input:{type:"text",name:"text"}}]}},{div:{childNodes:[{a:{className:"button-accept ui-btn ui-corner-all ui-btn-inline",text:ITHit.Phrases.AjaxFileBrowserMobile.Interface.Buttons.Ok}},{a:{className:"button-cancel ui-btn ui-corner-all ui-btn-inline",text:ITHit.Phrases.AjaxFileBrowserMobile.Interface.Buttons.Cancel}}]}}]}}];}},{Create:function(sText){var _12e3=new self();if(sText){_12e3.SetText(sText);}return _12e3;}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.ErrorMessage",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.Message,{_OnRender:function(){this._super();ITHit.Events.AddListener(this.GetController().CopyMoveManager,"OnError",this._OnMessage,this);},_OnMessage:function(_12e4){this.SetText(_12e4);this.Open();},_OnClose:function(){}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.ResourceOverwrite",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.Base,{_OnRender:function(){this._super();ITHit.Events.AddListener(this.GetController().CopyMoveManager,"OnOverwrite",this._OnOverwrite,this);this.Query("[role=\"main\"] .ui-btn").on("tap",ITHit.Components.jQuery.proxy(this._OnButtonOverwrite,this));},_OnOverwrite:function(_12e5){_12e5=ITHit.Utils.HtmlEscape(_12e5);_12e5="<span style=\"word-wrap: break-word;\">"+_12e5+"</span>";var _12e6=ITHit.Phrases.AjaxFileBrowser.Interface.FileExistsOverwriteConfirmQuestion.Paste(_12e5);this.Query("[role=\"main\"] p").html(_12e6);this.Open();},_OnButtonOverwrite:function(_12e7){_12e7.preventDefault();var _12e8=ITHit.Components.jQuery(_12e7.target).closest("[data-overwriteAction]");this.Close();this.GetController().CopyMoveManager.SetOverwriteAction(_12e8.attr("data-overwriteAction"));},_OnClose:function(){},_GetContentSctructure:function(){return [{div:{childNodes:[{div:{childNodes:[{p:{text:""}}]}},{div:{childNodes:[{a:{className:"ui-btn ui-corner-all ui-btn-inline","data-overwriteAction":ITHit.WebDAV.Client.AjaxFileBrowser.CopyMoveManager.OVERWRITE_YES,text:ITHit.Phrases.AjaxFileBrowserMobile.Interface.Yes}},{a:{className:"ui-btn ui-corner-all ui-btn-inline","data-overwriteAction":ITHit.WebDAV.Client.AjaxFileBrowser.CopyMoveManager.OVERWRITE_YES_ALL,text:ITHit.Phrases.AjaxFileBrowserMobile.Interface.YesToAll}},{a:{className:"ui-btn ui-corner-all ui-btn-inline","data-overwriteAction":ITHit.WebDAV.Client.AjaxFileBrowser.CopyMoveManager.OVERWRITE_NO,text:ITHit.Phrases.AjaxFileBrowserMobile.Interface.No}},{a:{className:"ui-btn ui-corner-all ui-btn-inline","data-overwriteAction":ITHit.WebDAV.Client.AjaxFileBrowser.CopyMoveManager.OVERWRITE_NO_ALL,text:ITHit.Phrases.AjaxFileBrowserMobile.Interface.NoToAll}},{a:{className:"ui-btn ui-corner-all ui-btn-inline","data-overwriteAction":ITHit.WebDAV.Client.AjaxFileBrowser.CopyMoveManager.OVERWRITE_CANCEL,text:ITHit.Phrases.AjaxFileBrowserMobile.Interface.Cancel}}]}}]}}];}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.UploadOverwrite",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.Base,{_OnRender:function(){this._super();this.Query("[role=\"main\"] .ui-btn").on("tap",ITHit.Components.jQuery.proxy(this._OnClickButton,this));},SetUrl:function(_12e9){_12e9=ITHit.Utils.HtmlEscape(_12e9);_12e9="<span style=\"word-wrap: break-word;\">"+_12e9+"</span>";var _12ea=ITHit.Phrases.AjaxFileBrowser.Interface.FileExistsOverwriteConfirmQuestion.Paste(_12e9);this.Query("[role=\"main\"] p").html(_12ea);},_OnClickButton:function(_12eb){_12eb.preventDefault();var _12ec=ITHit.Components.jQuery(_12eb.target).closest("[data-overwriteAction]").attr("data-overwriteAction");ITHit.Events.DispatchEvent(this,"OnClick",_12ec);this.Close();},_OnClose:function(){this._super();ITHit.Events.RemoveListener(this,"OnClick");},_GetContentSctructure:function(){return [{div:{childNodes:[{div:{childNodes:[{p:{text:""}}]}},{div:{childNodes:[{a:{className:"ui-btn ui-corner-all ui-btn-inline","data-overwriteAction":ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadManager.REWRITE_ACTION_REWRITE,text:ITHit.Phrases.AjaxFileBrowserMobile.Interface.Yes}},{a:{className:"ui-btn ui-corner-all ui-btn-inline","data-overwriteAction":ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadManager.REWRITE_ACTION_REWRITE_ALL,text:ITHit.Phrases.AjaxFileBrowserMobile.Interface.YesToAll}},{a:{className:"ui-btn ui-corner-all ui-btn-inline","data-overwriteAction":ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadManager.REWRITE_ACTION_SKIP,text:ITHit.Phrases.AjaxFileBrowserMobile.Interface.No}},{a:{className:"ui-btn ui-corner-all ui-btn-inline","data-overwriteAction":ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadManager.REWRITE_ACTION_SKIP_ALL,text:ITHit.Phrases.AjaxFileBrowserMobile.Interface.NoToAll}},{a:{className:"ui-btn ui-corner-all ui-btn-inline","data-overwriteAction":ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadManager.REWRITE_ACTION_CANCEL,text:ITHit.Phrases.AjaxFileBrowserMobile.Interface.Cancel}}]}}]}}];}});})();ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.Renders.Base",function(){},{_ListView:null,_ItemHeight:null,constructor:function(_12ed){this._ListView=_12ed;},GetIconPath:function(oItem,_12ee,_12ef){_12ee=_12ee||16;return this._ListView.GetRenderController().ResourceIcons.GetIconPath(oItem,_12ee,_12ef);},GetItemHeight:function(){if(!this._ItemHeight){this._ItemHeight=this._ListView.ElementList.find("> li:first-child").outerHeight(true);}return this._ItemHeight;},GetCountInRow:function(){return 1;},GetItemsHeight:function(_12f0){return _12f0*this.GetItemHeight();},RenderInfoButton:function(){return "<a href=\"javascript:void(0)\" class=\"ui-btn ui-nodisc-icon ui-btn-icon-notext ui-icon-info button-info iconInfo\"></a>";},RenderCheckbox:function(_12f1){return "<div class=\"ui-checkbox\"><input type=\"checkbox\""+(_12f1?" checked=\"checked\"":"")+" /></div>";}});ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.Renders.List",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.Renders.Base,{GetItemTemplate:function(oItem,_12f2,_12f3){var _12f4="";var sHtml="";var _12f5=oItem.Item.ActiveLocks.length>0;sHtml+="<h2>"+ITHit.Utils.HtmlEscape(oItem.DisplayName)+"</h2>";if(oItem instanceof ITHit.WebDAV.Client.AjaxFileBrowser.Folder){_12f4="folder";sHtml+="<span class=\"date\">"+ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Utils.FormatDateSince(oItem.LastModified)+"</span>";}else{_12f4="file";sHtml+="<span class=\"date\">"+ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Utils.FormatDateSince(oItem.LastModified)+"</span>"+"<span class=\"size\">"+ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Utils.FormatSize(oItem.ContentLength)+"</span>";}return "<li data-index=\""+_12f2+"\" class=\"ui-li-has-alt itemType-"+_12f4+(_12f5?" isLocked":"")+"\">"+this.RenderCheckbox(_12f3)+"<a href=\"javascript:void(0)\" class=\"ui-btn button-item\">"+"<div class=\"item-icon\"><img src=\""+this.GetIconPath(oItem,window.devicePixelRatio>1?64:32,false)+"\" class=\"ui-li-icon\" /><div class=\"item-iconLock\"></div></div>"+sHtml+"</a>"+this.RenderInfoButton()+"</li>";}});ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.Renders.Content",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.Renders.Base,{GetItemTemplate:function(oItem,_12f6,_12f7){var _12f8=oItem.Item.ActiveLocks.length>0;var _12f9=oItem instanceof ITHit.WebDAV.Client.AjaxFileBrowser.Folder;return "<li data-index=\""+_12f6+"\" class=\"ui-li-has-alt "+(_12f8?" isLocked":"")+"\">"+this.RenderCheckbox(_12f7)+"<a href=\"javascript:void(0)\" class=\"ui-btn button-item\">"+"<div class=\"item-icon\"><div class=\"icon-wrapper\"><span></span><img src=\""+this.GetIconPath(oItem,window.devicePixelRatio>1?128:64)+"\" /></div><div class=\"item-iconLock\"></div></div>"+"<h2>"+ITHit.Utils.HtmlEscape(oItem.DisplayName)+"</h2>"+"<span class=\"date\">"+ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Utils.FormatDateSince(oItem.LastModified)+"</span>"+(!_12f9?"<span class=\"size\">"+ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Utils.FormatSize(oItem.ContentLength)+"</span>":"")+"</a>"+this.RenderInfoButton()+"</li>";}});ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.Renders.Thumbnail",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.Renders.Base,{_CountInRow:null,constructor:function(_12fa){this._super(_12fa);ITHit.Components.jQuery(window).on("resize",ITHit.Components.jQuery.proxy(function(){this._CountInRow=null;},this));},GetCountInRow:function(){if(!this._CountInRow){var _12fb=this._ListView.ElementList.find("> li:first-child");var _12fc=_12fb.outerWidth(true);var _12fd=this._ListView.ElementList.width();this._CountInRow=Math.floor(_12fd/_12fc);}return this._CountInRow;},GetItemsHeight:function(_12fe){var _12ff=this._ListView.ElementList.find("> li:first-child");var _1300=_12ff.outerWidth(true);var _1301=_12ff.outerHeight(true);var _1302=this._ListView.ElementList.width();if(_12fe*_1300<=_1302){return _1301;}var _1303=Math.floor(_1302/_1300);var _1304=Math.ceil(_12fe/_1303);return _1301*_1304;},GetItemTemplate:function(oItem,_1305,_1306){var _1307=oItem.Item.ActiveLocks.length>0;return "<li data-index=\""+_1305+"\" class=\"ui-li-static ui-body-inherit "+(_1307?" isLocked":"")+"\">"+this.RenderCheckbox(_1306)+"<div class=\"item-icon\"><div class=\"icon-wrapper\"><span></span><img src=\""+this.GetIconPath(oItem,window.devicePixelRatio>1?144:72)+"\" /></div><div class=\"item-iconLock\"></div></div>"+"<p>"+ITHit.Utils.HtmlEscape(oItem.DisplayName)+"</p>"+"</li>";}});ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.ListSelection",function(){},{_ListView:null,_SelectedIndexes:{},_CountSelectedIndexes:0,constructor:function(_1308){this._ListView=_1308;this._super();},GetSelectedItems:function(){var _1309=[];for(var _130a in this._SelectedIndexes){if(!this._SelectedIndexes.hasOwnProperty(_130a)||!this._SelectedIndexes[_130a]){continue;}_1309.push(this._ListView.Items[_130a]);}return _1309;},GetSelectedUrls:function(){var _130b=[];for(var _130c in this._SelectedIndexes){if(!this._SelectedIndexes.hasOwnProperty(_130c)||!this._SelectedIndexes[_130c]){continue;}_130b.push(this._ListView.Items[_130c].Href||this._ListView.Items[_130c].Url);}return _130b;},HasSelected:function(){return this._CountSelectedIndexes>0;},IsItemSelected:function(_130d){return !!this._SelectedIndexes[_130d];},ChangeIndexToDown:function(_130e){if(this.IsItemSelected(_130e)){this._SelectedIndexes[_130e-1]=this._SelectedIndexes[_130e];this._SelectedIndexes[_130e]=false;}},Reset:function(){this._SelectedIndexes={};this._CountSelectedIndexes=0;ITHit.Events.DispatchEvent(this,"OnReset",this.HasSelected());},ToggleSelectAll:function(_130f){if(typeof _130f==="undefined"){_130f=this._CountSelectedIndexes===0;}for(var _1310 in this._ListView.Items){if(this._ListView.Items.hasOwnProperty(_1310)){this._ToggleSelectItemInternal(_1310,_130f);}}ITHit.Events.DispatchEvent(this,"OnSelect",this.HasSelected());},ToggleSelectItem:function(_1311,_1312){if(typeof _1312==="undefined"){_1312=!this.IsItemSelected(_1311);}this._ToggleSelectItemInternal(_1311,_1312);ITHit.Events.DispatchEvent(this,"OnSelect",this.HasSelected());},_ToggleSelectItemInternal:function(_1313,_1314){if(this.IsItemSelected(_1313)==_1314){return;}var _1315=this._ListView.ElementList.find("> li[data-index=\""+_1313+"\"]");if(_1315.length>0){setTimeout(function(){_1315.find("input[type=\"checkbox\"]").prop("checked",_1314);});_1315.toggleClass("isSelected",_1314);}this._CountSelectedIndexes+=_1314?1:-1;this._SelectedIndexes[_1313]=_1314;}});(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.BaseListView",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.BaseView,{Element:null,ElementList:null,IScroll:null,Items:[],_ViewMode:null,_Renders:{},_EnableIScroll:true,Selection:null,_DisplayHeight:0,LazyCheckLoadNextInterval:null,_RenderedIndexes:null,constructor:function(_1316){_1316=_1316||{};this._RenderedIndexes={};if(!ITHit.Utils.IsUndefined(_1316.EnableIScroll)){this._EnableIScroll=!!_1316.EnableIScroll;}this._super();},GetRenderer:function(){return this._Renders[this._ViewMode]||null;},GetItemByElement:function(_1317){var _1318=ITHit.Components.jQuery(_1317).closest("li[data-index]");var _1319=_1318.attr("data-index");return this.GetItemByIndex(_1319);},GetItemElementByIndex:function(_131a,_131b){_131b=_131b||false;if(!this._IsRenderedIndex(_131a)){if(_131b){this._InsertItemDom(_131a,this._GetItemTemplate(_131a));}else{return null;}}var _131c=this.ElementList.find("> li[data-index=\""+_131a+"\"]");return _131c.length>0?_131c.get(0):null;},GetItemByIndex:function(_131d){return this.Items[_131d]||null;},GetIndexByItem:function(oItem){for(var i=0,l=this.Items.length;i<l;i++){if(this.Items[i]===oItem){return i;}}return -1;},Refresh:function(){this.RenderItems(this.Items);},RefreshSize:function(){this._AutoSetListHeight();},GetViewMode:function(){return this._ViewMode;},SetViewMode:function(_131e){if(this._ViewMode===_131e){return;}if(!this._Renders[_131e]){throw new Error("Not found view mode `"+_131e+"`. Available values: ");}this.ElementList.removeClass("viewMode-"+this._ViewMode);this.ElementList.addClass("viewMode-"+_131e);this._ViewMode=_131e;this.Refresh();ITHit.Events.DispatchEvent(this,"OnChangeViewMode",this._ViewMode);},RenderItems:function(_131f){this.RemoveAll();this.Items=_131f;this.CheckLoadVisible();},RemoveAll:function(){this.Items=[];this._RenderedIndexes={};this.Selection.Reset();this.ElementList.empty();this.RefreshSize();},RenderRange:function(iFrom,iTo){iTo=iTo||iFrom;var _1320=false;var _1321={};for(var _1322 in this._RenderedIndexes){if(!this._RenderedIndexes.hasOwnProperty(_1322)){continue;}_1322=parseInt(_1322);if(iFrom<=_1322&&_1322<=iTo){continue;}if(this._ItemHasChild(_1322)){continue;}this._RemoveItemDom(_1322);_1321[_1322]=true;_1320=true;}for(var _1323=iFrom;_1323<=iTo;_1323++){if(this._IsRenderedIndex(_1323)){continue;}this._InsertItemDom(_1323,this._GetItemTemplate(_1323));_1321[_1323]=true;_1320=true;}if(_1320){_1321[iFrom]=true;_1321[this._GetNextRenderedIndex(iTo)||iTo+1]=true;for(var _1324 in _1321){if(!_1321.hasOwnProperty(_1324)){continue;}_1324=parseInt(_1324);if(!_1321[_1324-1]){this._DetectSkippedItems(_1324);}}this._AutoSetListHeight();}},RefreshItem:function(oItem){var _1325=this.GetIndexByItem(oItem);if(_1325===-1){return;}this._InsertItemDom(_1325,this._GetItemTemplate(_1325));},RemoveItem:function(oItem){var _1326=this.GetIndexByItem(oItem);if(_1326===-1){return;}this.Selection.ToggleSelectItem(_1326,false);this._RemoveItemDom(_1326);var _1327=[];for(var i=0,l=this.Items.length;i<l;i++){if(_1326!==i){_1327.push(this.Items[i]);}if(i>_1326){this.ElementList.find("> li[data-index=\""+i+"\"]").attr("data-index",i-1);this.Selection.ChangeIndexToDown(i);if(this._RenderedIndexes[i]){delete this._RenderedIndexes[i];this._RenderedIndexes[i-1]=true;}}}this.Items=_1327;this.CheckLoadVisible();this._AutoSetListHeight();},LazyCheckLoadVisible:function(){if(this.LazyCheckLoadNextInterval){clearInterval(this.LazyCheckLoadNextInterval);}var that=this;var _1328=this.ElementList.offset().top||0;this.LazyCheckLoadNextInterval=setInterval(function(){var _1329=that.ElementList.offset().top||0;if(_1328===_1329){clearInterval(that.LazyCheckLoadNextInterval);}_1328=_1329;that.CheckLoadVisible();},self.CHECK_LOAD_NEXT_DELAY);},CheckLoadVisible:function(){if(this.Items.length===0||!this.Element.is(":visible")){return;}var _132a=this.GetRenderer().GetItemHeight();if(!_132a){this.RenderRange(0);this.CheckLoadVisible();return;}var _132b=Math.max(0,this.Items.length-1);var _132c=-1*this.ElementList.offset().top||0;var _132d=Math.floor(_132c/_132a);var _132e=Math.floor((_132c+this._DisplayHeight)/_132a);var _132f=this.GetRenderer().GetCountInRow();_132d=_132d*_132f;_132e=((_132e+1)*_132f)-1;if(_132e<0||_132d>_132b-1){return;}var _1330=true;for(var _1331=_132d;_1331<=_132e;_1331++){_1330=_1330&&this._IsRenderedIndex(_1331);}if(_1330){return;}var _1332=Math.ceil(self.PAGE_ITEMS_AROUND/_132f)*_132f;_132d=Math.max(0,_132d-_1332);_132e=Math.min(_132b,_132e+_1332);this.RenderRange(_132d,_132e);},_Initialize:function(){this.Selection=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.ListSelection(this);},_FetchDisplayHeight:function(){this._DisplayHeight=ITHit.Components.jQuery(window).height();},_GetStructure:function(){if(this._EnableIScroll){return {div:{className:"ui-listview-wrapper",childNodes:[{div:{className:"ui-listview-scroller",childNodes:[this._GetListStructure()]}}]}};}return this._GetListStructure();},_GetListStructure:function(){return {ul:{className:"ui-listview ui-group-theme-a"}};},_OnRender:function(){this.ElementList=this._EnableIScroll?this.Query("ul"):this.Element;ITHit.Components.jQuery(window).on("resize",ITHit.Components.jQuery.proxy(this._FetchDisplayHeight,this));ITHit.Components.jQuery(ITHit.Components.jQuery.proxy(this._FetchDisplayHeight,this));this._FetchDisplayHeight();if(this._EnableIScroll){this.IScroll=new IScroll(this.Element.get(0),{scrollbars:true,interactiveScrollbars:true,fadeScrollbars:true,scrollY:true});this.IScroll.on("scrollStart",ITHit.Components.jQuery.proxy(this.LazyCheckLoadVisible,this));this.IScroll.on("scroll",ITHit.Components.jQuery.proxy(this.LazyCheckLoadVisible,this));this.IScroll.on("scrollEnd",ITHit.Components.jQuery.proxy(this.CheckLoadVisible,this));}this.ElementList.addClass("viewMode-"+this._ViewMode);this.ElementList.on("tap","> li",ITHit.Components.jQuery.proxy(this._OnRowClick,this));},_IsRenderedIndex:function(_1333){return !!this._RenderedIndexes[_1333];},_GetPreviousRenderedIndex:function(_1334){var _1335=null;for(var i in this._RenderedIndexes){if(!this._RenderedIndexes.hasOwnProperty(i)){continue;}i=parseInt(i);if(i<_1334){_1335=_1335!==null?Math.max(_1335,i):i;}}return _1335;},_GetNextRenderedIndex:function(_1336){var _1337=null;for(var i in this._RenderedIndexes){if(!this._RenderedIndexes.hasOwnProperty(i)){continue;}i=parseInt(i);if(i>_1336){_1337=_1337!==null?Math.min(_1337,i):i;}}return _1337;},_InsertItemDom:function(_1338,sHtml){if(this._IsRenderedIndex(_1338)){this.ElementList.find("> li[data-index=\""+_1338+"\"]").replaceWith(sHtml);return;}var _1339=this._GetPreviousRenderedIndex(_1338);if(_1339!==null){this.ElementList.find("> li[data-index=\""+_1339+"\"]").after(sHtml);}else{this.ElementList.prepend(sHtml);}this._RenderedIndexes[_1338]=true;},_RemoveItemDom:function(_133a){this.ElementList.find("> li[data-index=\""+_133a+"\"]").remove();delete this._RenderedIndexes[_133a];},_ItemHasChild:function(_133b){return false;},_DetectSkippedItems:function(_133c){if(_133c===null){return;}var _133d=this.GetRenderer().GetItemHeight();if(!_133d){return;}var _133e=this._GetPreviousRenderedIndex(_133c);var _133f=_133e!==null?(_133c-_133e-1):this._GetNextRenderedIndex(-1);var _1340=this.GetRenderer().GetCountInRow();_133f=Math.floor(_133f/_1340);var _1341=_133f*_133d;if(_133e!==null){this.ElementList.find("> li[data-index=\""+_133e+"\"]").css({marginBottom:_1341});}else{this.ElementList.css({paddingTop:_1341});}},_GetItemTemplate:function(_1342){return this.GetRenderer().GetItemTemplate(this.Items[_1342],_1342,this.Selection.IsItemSelected(_1342));},_AutoSetListHeight:function(){var _1343=this.Element.height()+1;var _1344=this.GetRenderer().GetItemsHeight(this.Items.length);var _1345=Math.max(_1343,_1344);_1345-=parseInt(this.ElementList.css("padding-top"));this.ElementList.css({height:_1345,minHeight:_1345});if(this._EnableIScroll){this.IScroll.refresh();}},_OnRowClick:function(_1346){}},{PAGE_ITEMS_START:25,PAGE_ITEMS_AROUND:10,CHECK_LOAD_NEXT_DELAY:100});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.PullToRefresh",null,{_IScroll:null,_PullStatusElement:null,_PullStatusHeight:null,_StateFlip:false,_StateLoading:false,constructor:function(_1347){this._IScroll=_1347;this._IScroll.options.probeType=2;this._PullStatusElement=this._RenderPullStatus();this._PullStatusElement.prependTo(this._IScroll.scroller);this._PullStatusHeight=this._PullStatusElement.outerHeight(true);this._IScroll.on("refresh",ITHit.Components.jQuery.proxy(this._OnRefresh,this));this._IScroll.on("scroll",ITHit.Components.jQuery.proxy(this._OnScrollMove,this));this._IScroll.on("scrollEnd",ITHit.Components.jQuery.proxy(this._OnScrollEnd,this));this._ResetScroll();},_RenderPullStatus:function(){var html="<div class=\"ui-listview-pullDown\">"+"<span class=\"pullDownIcon\"><span></span></span>"+"<span class=\"pullDownLabel\">"+ITHit.Phrases.AjaxFileBrowserMobile.Interface.PullToRefresh.PullToFefresh+"</span>"+"</div>";return ITHit.Components.jQuery(html);},_FinishCallback:function(){this._StateFlip=false;this._StateLoading=false;this._IScroll.refresh();this._ResetScroll();},_OnRefresh:function(){this._ResetScroll();},_OnScrollMove:function(){if(this._IScroll.y>this._PullStatusHeight&&!this._StateFlip){this._StateFlip=true;}else{if(this._IScroll.y<this._PullStatusHeight&&this._StateFlip){this._StateFlip=false;}}},_OnScrollEnd:function(){if(this._StateFlip){if(!this._StateLoading){this._StateLoading=true;var _1348=ITHit.Components.jQuery.proxy(this._FinishCallback,this);ITHit.Events.DispatchEvent(this,"OnRefresh",_1348);}}else{this._ResetScroll();}},_ResetScroll:function(){}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.FilesListView",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.BaseListView,{_EditMode:null,_Initialize:function(){this._EditMode=this._AutoDetectEditMode();this._Renders[self.VIEW_MODE_LIST]=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.Renders.List(this);this._Renders[self.VIEW_MODE_CONTENT]=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.Renders.Content(this);this._Renders[self.VIEW_MODE_THUMBNAIL]=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.Renders.Thumbnail(this);if(typeof window.localStorage!=="undefined"){this._ViewMode=localStorage.getItem("ListViewMode")||null;}this._super();if(this._ViewMode===null){this._ViewMode=self.VIEW_MODE_LIST;}},_OnRender:function(){this._super();this.ElementList.addClass("editMode-"+this._EditMode);var _1349=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.PullToRefresh(this.IScroll);ITHit.Events.AddListener(_1349,"OnRefresh",function(_134a){this.GetController().Refresh(_134a);},this);},GetEditMode:function(){return this._EditMode;},SetViewMode:function(_134b){if(!this._Renders[_134b]){throw new Error("Not found view mode `"+_134b+"`. Available values: `list`, `content`, `thumbnail`.");}this._super(_134b);if(typeof window.localStorage!=="undefined"){localStorage.setItem("ListViewMode",this._ViewMode);}},ToggleEditMode:function(){var _134c=this._EditMode===self.EDIT_MODE_VIEW?self.EDIT_MODE_EDIT:self.EDIT_MODE_VIEW;this.SetEditMode(_134c);},SetEditMode:function(_134d){if(_134d===self.EDIT_MODE_AUTO){_134d=this._AutoDetectEditMode();}if(this._EditMode===_134d){return;}this.ElementList.removeClass("editMode-"+this._EditMode);this.ElementList.addClass("editMode-"+_134d);this._EditMode=_134d;ITHit.Events.DispatchEvent(this,"OnChangeEditMode",this._EditMode);},_OnRowClick:function(_134e){_134e.preventDefault();var oItem=this.GetItemByElement(_134e.target);var _134f=ITHit.Components.jQuery(_134e.target).closest(".ui-checkbox");if(_134f.length>0){var _1350=this.Items.indexOf(oItem);this.Selection.ToggleSelectItem(_1350);return;}var _1351=ITHit.Components.jQuery(_134e.target).closest(".button-info");if(_1351.length>0){this.GetRenderController().RenderInfo(oItem);return;}if(oItem instanceof ITHit.WebDAV.Client.AjaxFileBrowser.Folder){this.GetController().OpenFolderAsync(oItem.Href);var sPage=ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.RenderController.PAGE_LIST;this.GetRenderController().GetPage(sPage).FilterView.Toggle(false,true);}else{this.GetController().OpenDocument(oItem.Item.Href);}},_AutoDetectEditMode:function(){return window.screen.height>500?self.EDIT_MODE_EDIT:self.EDIT_MODE_VIEW;}},{EDIT_MODE_AUTO:"auto",EDIT_MODE_VIEW:"view",EDIT_MODE_EDIT:"edit",VIEW_MODE_LIST:"list",VIEW_MODE_CONTENT:"content",VIEW_MODE_THUMBNAIL:"thumbnail"});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.ListPage.FilterView",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.BaseView,{_CurrentCommand:null,_LastValue:null,_DelayTimer:null,_IsVisible:null,_OnRender:function(){this.Element.on("focus","input",ITHit.Components.jQuery.proxy(function(){ITHit.Events.DispatchEvent(this,"OnFocus");},this));this.Element.on("blur","input",ITHit.Components.jQuery.proxy(function(){ITHit.Events.DispatchEvent(this,"OnBlur");},this));this.Element.on("submit",ITHit.Components.jQuery.proxy(this._OnSubmit,this));this.Element.on("change keyup paste","input",ITHit.Components.jQuery.proxy(this._OnChange,this));this.Element.on("tap",".ui-input-clear",ITHit.Components.jQuery.proxy(function(_1352){_1352.preventDefault();this.Clear();},this));this.Toggle(false);},Toggle:function(_1353,_1354){if(typeof _1353==="undefined"){_1353=!this.Element.is(":visible");}if(this._IsVisible===_1353){return;}this.Element.toggle(_1353);if(_1353){this._LastValue=null;this.Query("input").focus();}else{if(!_1354){this.Clear();}this.Query("input").blur();}ITHit.Events.DispatchEvent(this,"OnToggle",[_1353]);},SetValue:function(_1355,_1356){this.Query("input").val(_1355).focus();this._LastValue=_1355;if(!_1356){this._DoSearch();}},Blur:function(){this.Query("input").blur();},Clear:function(){this.Query("input").val("").focus();if(this._LastValue!==null){this.GetController().Refresh();}},_GetStructure:function(){return {form:{className:"searchBar",childNodes:[{input:{type:"search",placeholder:ITHit.Phrases.AjaxFileBrowserMobile.Interface.SearchItems}}]}};},_OnSubmit:function(_1357){_1357.preventDefault();},_OnChange:function(_1358){_1358.preventDefault();var _1359=this.Query("input").val();var _135a=_1358.keyCode===13;var _135b=_135a?0:self.KEY_PRESS_DELAY;if(this._LastValue!==null&&_1359===this._LastValue&&!_135a){return;}if(_135a){this.Blur();}if(this._DelayTimer){clearTimeout(this._DelayTimer);}this._LastValue=_1359;this._DelayTimer=setTimeout(ITHit.Utils.MakeScopeClosure(this,"_DoSearch"),_135b);},_DoSearch:function(){if(this._CurrentCommand){this._CurrentCommand.Abort();}var _135c=this.GetRenderController();var _135d=_135c.GetController();var _135e=this.Query("input").val();if(_135e===""){_135d.Refresh();return;}this._CurrentCommand=_135d.OpenSearchResultsAsync(_135e,null,true);}},{KEY_PRESS_DELAY:600});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Upload.FormObject",null,{Method:"PUT",Url:null,UploadUrl:null,CheckFileExistence:null,ExternalCreated:null,GroupIndex:null,_UploadForm:null,_Counter:0,_ResumeDestinations:null,_InputFile:null,_InputSourceNames:null,_IsVideoOniOs:false,constructor:function(_135f,_1360,_1361){this.Url=_135f._Url;this.UploadUrl=_135f._Url;this.CheckFileExistence=_135f.CheckFileExistence;this.ExternalCreated=_135f.ExternalCreated||false;this.GroupIndex=self.GROUP_INDEX++;this._UploadForm=_135f;this._ResumeDestinations=_1360;this._IsVideoOniOs=_1361;this._InputFile=_135f._InputFile;this._InputSourceNames={};},GetResumeDestinations:function(){return this._ResumeDestinations;},IsResumeAfterCrash:function(){return this._ResumeDestinations!==null;},GetResumeDestination:function(_1362){if(this._ResumeDestinations){var _1363=this.GetSourceName(_1362);if(_1363&&this._ResumeDestinations[_1363]){return this._ResumeDestinations[_1363];}}return null;},GetDestination:function(_1364){_1364=_1364||0;var _1365=this.GetResumeDestination(_1364);if(_1365!==null){return _1365;}var sRet=this.Url||"";if(/\/$/.test(sRet)){var sRel=this.GetRelativePath(_1364);if(!ITHit.Utils.IsStringNullOrEmpty(sRel)){if(/\/\.$/.test(sRel)){sRel=sRel.substr(0,sRel.length-1);}}else{sRel=this.GetSourceName(_1364);}sRet+=sRel;}return sRet;},GetSourceName:function(_1366){_1366=_1366||0;if(!this._InputSourceNames.hasOwnProperty(_1366)){var sVal;if(this._InputFile.files){var file=this._InputFile.files[_1366];sVal=file.fileName||file.name;}else{sVal=this._InputFile.value;}var iPos=sVal.lastIndexOf("/")+1;if(!iPos){iPos=sVal.lastIndexOf("\\")+1;}if(iPos){sVal=sVal.substr(iPos);}if(ITHit.DetectDevice.Mobile){var _1367=/(image|video)(\.[a-z]+)$/i;if(this._ResumeDestinations!==null&&_1367.test(sVal)){var _1368=0;for(var _1369 in this._ResumeDestinations){if(this._ResumeDestinations.hasOwnProperty(_1369)&&_1366===_1368){_1368++;sVal=_1369;break;}}}else{var _136a=(new Date()).getTime().toString()+_1366;sVal=sVal.replace(_1367,"$1"+_136a+"$2");}}if(this.IsVideoOniOs()){var _1368=0;for(var _1369 in this._ResumeDestinations){if(this._ResumeDestinations.hasOwnProperty(_1369)&&_1366===_1368){_1368++;sVal=_1369;break;}}}this._InputSourceNames[_1366]=sVal;}return this._InputSourceNames[_1366];},GetRelativePath:function(_136b){_136b=_136b||0;if(!ITHit.DetectBrowser.Chrome){return null;}var oFile=this._InputFile.files[_136b];if(oFile&&!ITHit.Utils.IsStringNullOrEmpty(oFile.webkitRelativePath)){var sVal=oFile.webkitRelativePath;var iPos=sVal.indexOf("/")+1;if(!iPos){iPos=sVal.indexOf("\\")+1;}if(iPos){sVal=sVal.substr(iPos);}return sVal;}},GetFileSize:function(_136c){_136c=_136c||0;var _136d=null;if(this._InputFile.files){var oFile=this._InputFile.files[_136c];if(oFile){_136d=oFile.fileSize||oFile.size;}}return _136d;},GetFileInfo:function(_136e){_136e=_136e||0;if(this._InputFile.files){return this._InputFile.files[_136e];}return null;},GetUploadFilesLength:function(){if(this._InputFile.files){return this._InputFile.files.length;}return this._InputFile.value?1:0;},HasFileIndex:function(_136f){return _136f===0||this._InputFile.files[_136f];},SetUrl:function(sUrl){this.Url=sUrl;this._UploadForm.SetDestination(sUrl);},SetUploadUrl:function(sUrl){this.UploadUrl=sUrl;},SetFormTarget:function(sName){this._UploadForm.SetFormTarget(sName);},IsFolder:function(_1370){var _1371=this.GetRelativePath(_1370);return !ITHit.Utils.IsStringNullOrEmpty(_1371)&&_1371!=="."&&/\/\.$/.test(_1371);},GetName:function(_1372){if(this.IsFolder(_1372)){var _1373=this.GetRelativePath(_1372);return _1373.substr(0,_1373.length-1);}return this.GetSourceName(_1372);},ClearFileField:function(){this._UploadForm.ClearFileField();this._InputFile.onchange=null;this._InputFile.remove();},SetIisDetected:function(_1374){this._UploadForm.SetIisDetected(_1374);},GetIisDetected:function(){return this._UploadForm.GetIisDetected();},IsVideoOniOs:function(){return this._IsVideoOniOs;},SetMaxUploadSegmentBytes:function(_1375){this._UploadForm.SetMaxUploadSegmentBytes(_1375);},GetMaxUploadSegmentBytes:function(){return this._UploadForm.GetMaxUploadSegmentBytes();},Hide:function(){this._UploadForm.Hide();},Submit:function(){this._UploadForm.Submit(this.UploadUrl);},Reset:function(){this._UploadForm.Reset();},AddListener:function(_1376,_1377,_1378){ITHit.Events.AddListener(this._UploadForm,_1376,_1377,_1378);},RemoveListener:function(_1379,_137a,_137b){ITHit.Events.RemoveListener(this._UploadForm,_1379,_137a,_137b);}},{GROUP_INDEX:0});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Upload.BaseUploadForm",null,{CheckFileExistence:true,UrlAddParams:"AjaxFileBrowser=True",_IsVideoOniOs:false,_RootElement:null,_Root:null,_InputFile:null,_Url:null,_IsIISDetected:null,_MaxUploadSegmentBytes:null,_ResumeDestinations:null,constructor:function(_137c){this._RootElement=_137c;this._Render();},_Render:function(){this._Form=this._CreateForm();this._InputFile=this._CreateFileField();this._Form.appendChild(this._InputFile);this._RootElement.appendChild(this._Form);},_CreateForm:function(){return ITHit.Utils.CreateDOMElement({nodeName:"FORM",method:"POST",encoding:"multipart/form-data",acceptCharset:"UTF-8",characterSet:"UTF-8",charset:"UTF-8"});},_CreateFileField:function(){var oFile=document.createElement("INPUT");oFile.className="hiddenFileField";oFile.type="file";oFile.name="file";if(this.CheckFileExistence){oFile.multiple=true;}if(ITHit.DetectBrowser.IE){var _137d=oFile.style;_137d.visibility="hidden";setTimeout(function(){_137d.visibility="visible";});}oFile.onchange=ITHit.Utils.MakeScopeClosure(this,"_OnFileFieldChanged");return oFile;},DisableForm:function(){this._InputFile.disabled=true;},EnableForm:function(){this._InputFile.disabled=false;},ClearFileField:function(){var oFile=this._CreateFileField();this._InputFile=oFile;this._Form.appendChild(this._InputFile);if(ITHit.DetectBrowser.Safari||ITHit.DetectBrowser.Chrome){this._InputFile.form.style.overflow="visible";}},Reset:function(){this.ClearFileField();},SetUploadUrl:function(sUrl){this._Url=sUrl.replace(/\/?$/,"/");},_OnFileFieldChanged:function(_137e){_137e=_137e||window.event;this._SubmitHandler(_137e);},_AddRequiredParams:function(url){return url+((-1==url.indexOf("?"))?"?":"&")+this.UrlAddParams;},SetFormTarget:function(sName){if(!sName||!ITHit.Utils.IsString(sName)){throw "String name must be specified as upload form target.";}this._Form.target=sName;},SetMultiple:function(bool){this._InputFile.multiple=bool;},SetIsVideoOniOs:function(bool){this.SetMultiple(!bool);this._IsVideoOniOs=bool;},IsVideoOniOs:function(){return this._IsVideoOniOs;},DoClickBrowse:function(){var evt=document.createEvent("MouseEvents");evt.initEvent("click",true,false);this._InputFile.dispatchEvent(evt);},_SubmitHandler:function(_137f){if(this._InputFile.value===""){return false;}this._Form.multiple=false;var _1380=new ITHit.WebDAV.Client.AjaxFileBrowser.Upload.FormObject(this,this._ResumeDestinations,this._IsVideoOniOs);var _1381=_1380.GetDestination();if(!_1381){throw new Error("Wrong destination.");}this._Form.action=this._AddRequiredParams(_1381);this._ResumeDestinations=null;this._IsVideoOniOs=false;ITHit.Events.DispatchEvent(this,"OnSubmit",[_137f,_1380]);this.ClearFileField();},Show:function(){this._Form.style.display="block";},Hide:function(){this._Form.style.display="none";},Destruct:function(){this._InputFile.onchange=null;this._InputFile.onkeypress=null;ITHit.Events.RemoveAllListeners(this);for(var p in this){if(this.hasOwnProperty(p)){this[p]=null;}}},SetDestination:function(sUrl){this._Url=sUrl;},SetResumeDestinations:function(_1382){this._ResumeDestinations=_1382;},Submit:function(sUrl){},SetIisDetected:function(_1383){this._IsIISDetected=_1383;},GetIisDetected:function(){return this._IsIISDetected===true;},SetMaxUploadSegmentBytes:function(_1384){this._MaxUploadSegmentBytes=_1384;},GetMaxUploadSegmentBytes:function(){return this._MaxUploadSegmentBytes;}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Upload.UploadForm",ITHit.WebDAV.Client.AjaxFileBrowser.Upload.BaseUploadForm,{_Render:function(){this._super();this.Hide();}});})();ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.ListPage.FooterToolbarView",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.BaseView,{UploadForm:false,_IsVisible:false,_HasSelected:false,Toggle:function(_1385,_1386){_1386=!ITHit.Utils.IsUndefined(_1386)?_1386:this._HasSelected;this.Element.toggle(_1385);this.Query(".navbar-checkboxes").toggle(_1385&&_1386);this.Query(".navbar-actions").toggle(_1385&&!_1386);if(this._IsVisible!==_1385&&_1385){var _1387=ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.RenderController.PAGE_LIST;}var _1388=ITHit.Phrases.AjaxFileBrowserMobile.Interface.Buttons;this.Query(".button-selectAll").text(_1386?_1388.ClearSelection:_1388.SelectAll);this._IsVisible=_1385;this._HasSelected=_1386;ITHit.Events.DispatchEvent(this,"OnToggle",[_1385,_1386]);},IsVisible:function(){return this._IsVisible;},_OnRender:function(){var _1389=ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.RenderController.PAGE_LIST;var _138a=this.GetRenderController().GetPage(_1389);this.UploadForm=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Upload.UploadForm(this.Element.get(0));ITHit.Events.AddListener(_138a.FilesListView.Selection,"OnSelect","_OnChangeItemsSelected",this);ITHit.Events.AddListener(_138a.FilesListView.Selection,"OnReset","_OnChangeItemsSelected",this);this.Query(".button-selectAll").on("tap",ITHit.Components.jQuery.proxy(function(_138b){_138b.preventDefault();_138a.FilesListView.Selection.ToggleSelectAll();},this));this.Query(".button-refresh").on("tap",ITHit.Components.jQuery.proxy(function(_138c){_138c.preventDefault();this.GetController().Refresh();},this));this.Query(".button-cut").on("tap",ITHit.Components.jQuery.proxy(function(_138d){_138d.preventDefault();this.GetController().CopyMoveManager.CutItems(_138a.FilesListView.Selection.GetSelectedUrls());},this));this.Query(".button-copy").on("tap",ITHit.Components.jQuery.proxy(function(_138e){_138e.preventDefault();this.GetController().CopyMoveManager.CopyItems(_138a.FilesListView.Selection.GetSelectedUrls());},this));this.Query(".button-paste").on("tap",ITHit.Components.jQuery.proxy(function(_138f){_138f.preventDefault();this.GetController().CopyMoveManager.PasteTo(this.GetController()._url);},this));this.Query(".button-delete").on("tap",ITHit.Components.jQuery.proxy(function(_1390){_1390.preventDefault();var _1391=ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.Confirm.Create();_1391.SetAcceptButtonText(ITHit.Phrases.AjaxFileBrowserMobile.Interface.Buttons.Delete);_1391.SetText(ITHit.Phrases.AjaxFileBrowser.Interface.DeleteItemsConfirmQuestion);_1391.Open();ITHit.Events.AddListener(_1391,"OnAccept",function(){this.GetController().Commands.Create("DeleteQueueCommand",{HrefList:_138a.FilesListView.Selection.GetSelectedUrls(),OnError:function(_1392){ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.Message.Create(_1392.join("\n")).Open();}}).Execute();},this);},this));this.Query(".button-newFolder").on("tap",ITHit.Components.jQuery.proxy(function(_1393){_1393.preventDefault();var _1394=ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.SimpleForm.Create();_1394.SetLabelText(ITHit.Phrases.AjaxFileBrowserMobile.Interface.FolderName);_1394.SetInputValue(this._GenerateNewFolderName());_1394.Open();var _1395=this.IsVisible();if(_1395){this.Toggle(false);ITHit.Events.AddListener(_1394,"OnClose",function(){this.Toggle(true);},this);}ITHit.Events.AddListener(_1394,"OnAccept",function(_1396){_1394.DestroyOnClose=false;this.GetController().Commands.Create("CreateFolderCommand",{Href:this.GetController()._url,Name:_1396,OnSuccess:function(){_1394.DestroyOnClose=true;_1394.Close();},OnError:function(_1397){_1394.Close();var _1398=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.Message();if(_1397[0] instanceof ITHit.WebDAV.Client.Exceptions.MethodNotAllowedException){_1398.SetText(ITHit.Phrases.AjaxFileBrowser.Interface.FolderAlreadyExists);}else{_1398.SetText(_1397.join("\n"));}ITHit.Events.AddListener(_1398,"OnClose",function(){_1394.DestroyOnClose=true;_1394.Open();});_1398.Open();}}).Execute();},this);},this));this.Query(".button-upload").on("click",ITHit.Components.jQuery.proxy(function(_1399){_1399.preventDefault();this.GetRenderController().UploadController.SetUploadUrl(this.GetController()._url);if(ITHit.DetectDevice.iOS){var _139a=this.Query(".button-upload");ITHit.Components.jQuery(".popup-upload-menu").popup("open",{x:_139a.offset().left+(_139a.outerWidth(true)/2)});}else{this.UploadForm.DoClickBrowse();}},this));this.Query(".button-upload-video, .button-upload-other").on("click",ITHit.Components.jQuery.proxy(function(_139b){_139b.preventDefault();var _139c=ITHit.Components.jQuery(_139b.target).closest(".button-upload-video").length>0;this.UploadForm.SetIsVideoOniOs(_139c);this.UploadForm.DoClickBrowse();ITHit.Components.jQuery(".popup-upload-menu").popup("close");},this));ITHit.Components.jQuery("body").on("pagechange",ITHit.Components.jQuery.proxy(function(_139d,_139e){if(_139e.toPage.get(0)===this.Element.parent(".ui-page").get(0)){this.Toggle(this._IsVisible,this._HasSelected);}},this));ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.ActiveStateHelper.Apply(this.Element);ITHit.Events.AddListener(this.GetController().CopyMoveManager,"OnUpdateItems",this._RefreshCopyMoveButtonsState,this);this._RefreshCopyMoveButtonsState();},_RefreshCopyMoveButtonsState:function(){var _139f=this.GetController().CopyMoveManager;this.Query(".button-paste").toggleClass("ui-state-disabled",_139f.GetItemsLength()===0);},_OnChangeItemsSelected:function(_13a0){this.Toggle(this._IsVisible,_13a0);},_GenerateNewFolderName:function(){var _13a1=ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.RenderController.PAGE_LIST;var _13a2=this.GetRenderController().GetPage(_13a1);var _13a3=_13a2.FilesListView.Items;var _13a4=ITHit.Phrases.AjaxFileBrowser.Interface.NewFolderPattern;var _13a5=new RegExp("^"+_13a4+"( [0-9]+)?$","i");var _13a6=0;for(var i=0,l=_13a3.length;i<l;i++){if(_13a3[i] instanceof ITHit.WebDAV.Client.AjaxFileBrowser.Resource){continue;}var _13a7=_13a5.exec(_13a3[i].DisplayName);if(_13a7!==null){var _13a8=parseInt(_13a7[1])||1;_13a6=Math.max(_13a6,_13a8);}}_13a6++;return _13a4+(_13a6>1?" "+_13a6:"");},_GetStructure:function(){var _13a9=ITHit.Phrases.AjaxFileBrowserMobile.Interface.Buttons;return {div:{"data-role":"footer","data-position":"fixed","data-theme":"b","data-tap-toggle":"false",childNodes:[{div:{className:"navbar-actions","data-role":"navbar",show:false,childNodes:[{ul:{childNodes:[this._GetButtonStructure("selectAll","iconSelect",_13a9.SelectAll),this._GetButtonStructure("refresh","iconRefresh",_13a9.Refresh),this._GetButtonStructure("upload","iconUpload",_13a9.Upload),this._GetButtonStructure("newFolder","iconNewFolder",_13a9.NewFolder),this._GetButtonStructure("paste","iconPaste",_13a9.Paste)]}}]}},{div:{className:"navbar-checkboxes","data-role":"navbar",show:false,childNodes:[{ul:{childNodes:[this._GetButtonStructure("selectAll","iconSelect",_13a9.SelectAll),this._GetButtonStructure("cut","iconCut",_13a9.Cut),this._GetButtonStructure("copy","iconCopy",_13a9.Copy),this._GetButtonStructure("delete","iconDelete",_13a9.Delete),this._GetButtonStructure("paste","iconPaste",_13a9.Paste)]}}]}},{div:{id:"popup-upload-menu",className:"popup-upload-menu","data-role":"popup","data-arrow":"b",childNodes:[{ul:{"data-role":"listview",childNodes:[{li:{childNodes:[{a:{className:"button-upload-video",text:ITHit.Phrases.AjaxFileBrowserMobile.Interface.Buttons.UploadVideo}}]}},{li:{childNodes:[{a:{className:"button-upload-other",text:ITHit.Phrases.AjaxFileBrowserMobile.Interface.Buttons.UploadOther}}]}}]}}]}}]}};},_GetButtonStructure:function(_13aa,_13ab,text){return {li:{childNodes:[{a:{className:"button-"+_13aa+" ui-btn ui-btn-icon-top "+_13ab,text:text}}]}};}});ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.ListPage.CommandItemInfoView",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.BaseView,{_Command:null,constructor:function(_13ac){this._Command=_13ac;this._super();},_OnRender:function(){this.Query(".title").text(this._Command.GetProcessTitle());this.Query(".button-cancel").on("tap",ITHit.Components.jQuery.proxy(function(_13ad){_13ad.preventDefault();this.Element.addClass("cancelled");this._UpdateTitle();this._Command.Abort();},this));},UpdateProgress:function(_13ae){this.Query(".progress div").css("width",_13ae.GetPercent()+"%");this.Query(".status").text(_13ae.GetText());this._UpdateTitle();},_UpdateTitle:function(){var _13af=this._Command.GetProcessTitle();if(this._Command.IsCancelled()){_13af=ITHit.Phrases.AjaxFileBrowser.Commands.CancelCommand.Paste(_13af);}this.Query(".title").text(_13af);},_GetStructure:function(){return {li:{childNodes:[{div:{className:"status-container",childNodes:[{div:{text:"Loading...",className:"title"}},{div:{text:"&nbsp;",className:"status"}},{div:{className:"progress",childNodes:[{div:{}}]}}]}},{a:{href:"javascript:void(0)",className:"button-cancel ui-btn-icon-notext iconCancel"}}]}};}});(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.ListPage.CommandsInfoView",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.BaseView,{_InfoItems:null,_LazyCreateTimers:null,_Initialize:function(){this._InfoItems={};this._LazyCreateTimers={};},_OnRender:function(){ITHit.Events.AddListener(this.GetController().Commands,"OnCommandStart","_OnCommandStart",this);ITHit.Events.AddListener(this.GetController().Commands,"OnCommandProgress","_OnCommandProgress",this);ITHit.Events.AddListener(this.GetController().Commands,"OnCommandFinish","_OnCommandFinish",this);},_RefreshVisible:function(){var _13b0=false;for(var _13b1 in this._InfoItems){if(this._InfoItems.hasOwnProperty(_13b1)){_13b0=true;break;}}this.Element.toggle(_13b0);},_OnCommandStart:function(_13b2){var that=this;var _13b3=_13b2.GetUniqueId();if(_13b2 instanceof ITHit.WebDAV.Client.AjaxFileBrowser.Commands.LoadSupportedFeaturesCommand){return;}this._LazyCreateTimers[_13b3]=setTimeout(function(){var _13b4=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.ListPage.CommandItemInfoView(_13b2);that.Query("ul").append(_13b4.Element);that._InfoItems[_13b3]=_13b4;that._RefreshVisible();},self.LAZY_CREATE_DELAY);},_OnCommandProgress:function(_13b5,_13b6){var _13b7=this._InfoItems[_13b5.GetUniqueId()];if(!_13b7){return;}_13b7.UpdateProgress(_13b6);},_OnCommandFinish:function(_13b8){var _13b9=_13b8.GetUniqueId();if(this._LazyCreateTimers[_13b9]){clearTimeout(this._LazyCreateTimers[_13b9]);}var _13ba=this._InfoItems[_13b9];if(_13ba){_13ba.Destroy();delete this._InfoItems[_13b9];}this._RefreshVisible();},_GetStructure:function(){return {div:{className:"commands-info",childNodes:[{ul:{}}]}};}},{LAZY_CREATE_DELAY:10});})();ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Upload.Renders.List",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.Renders.Base,{GetItemTemplate:function(_13bb,_13bc,_13bd,_13be){var _13bf=_13bb.GetProgressPercent()+"%";var _13c0="no-icon";var _13c1=_13bb.GetTimeLeft()||"";if(_13c1){_13c1=ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Utils.FormatSecondsLeft(_13c1);}if(_13bb.IsError()){_13c0+=" error";}return "<li class=\"ui-li-static ui-body-inherit ui-li-has-alt "+_13c0+"\" data-index=\""+_13bc+"\">"+this.RenderCheckbox(_13bd)+"<a href=\"javascript:void(0)\" class=\"ui-btn button-item\">"+"<div class=\"progress-line\" style=\"width: "+_13bb.GetProgressPercent()+"%;\"></div>"+"<h2>"+ITHit.Utils.HtmlEscape(_13bb.Name)+"</h2>"+"<span class=\"progress\">"+_13bf+"</span>"+"<span class=\"time\">"+_13c1+"</span>"+"</a>"+this.RenderInfoButton(_13bb,_13be)+"</li>";},RenderInfoButton:function(_13c2,_13c3){var _13c4=_13c2.IsPaused()?"iconResume":"iconPause";if(!_13c3){_13c4+=" ui-state-disabled";}return "<a href=\"javascript:void(0)\" class=\"button-info ui-btn ui-nodisc-icon ui-btn-icon-notext "+_13c4+"\"></a>";}});(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Upload.UploadListView",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.BaseListView,{_IsResumeUploadSupported:false,SetEnabledResumeUpload:function(_13c5){if(this._IsResumeUploadSupported===_13c5){return;}this._IsResumeUploadSupported=_13c5;this.Refresh();},_Initialize:function(){this._Renders[self.VIEW_MODE_LIST]=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Upload.Renders.List(this);this._super();if(this._ViewMode===null){this._ViewMode=self.VIEW_MODE_LIST;}},_OnRender:function(){this._super();this.ElementList.addClass("editMode-edit");},_GetItemTemplate:function(_13c6){return this.GetRenderer().GetItemTemplate(this.Items[_13c6],_13c6,this.Selection.IsItemSelected(_13c6),this._IsResumeUploadSupported);},_OnRowClick:function(_13c7){_13c7.preventDefault();var oItem=this.GetItemByElement(_13c7.target);var _13c8=ITHit.Components.jQuery(_13c7.target).closest(".ui-checkbox");if(_13c8.length>0){var _13c9=this.Items.indexOf(oItem);this.Selection.ToggleSelectItem(_13c9);return;}if(this._IsResumeUploadSupported){if(!oItem.IsPaused()){this.GetRenderController().UploadController.PauseUpload(oItem.Url);}else{this.GetRenderController().UploadController.ResumeUpload(oItem.Url);}this.RefreshItem(oItem);}}},{VIEW_MODE_LIST:"list"});})();ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.BasePanelView",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.BaseView,{_IsVisible:false,_Position:"left",_DetachedDom:null,Toggle:function(_13ca){if(_13ca===this._IsVisible){return;}if(typeof _13ca==="undefined"){_13ca=!this._IsVisible;}this.Element.panel(_13ca?"open":"close");},_OnRender:function(){this.Element.panel({beforeopen:ITHit.Components.jQuery.proxy(function(){if(this._DetachedDom){this.Element.append(this._DetachedDom);}this._IsVisible=true;this.Element.parent(".ui-page").jqmData("panel",null);},this),beforeclose:ITHit.Components.jQuery.proxy(function(){this._IsVisible=false;},this),open:ITHit.Components.jQuery.proxy(function(){if(!this._IsVisible){return;}this.Element.addClass("ui-panel-open").removeClass("ui-panel-closed");this._OnOpen();ITHit.Events.DispatchEvent(this,"OnOpen");},this),close:ITHit.Components.jQuery.proxy(function(){if(this._IsVisible){return;}this.Element.addClass("ui-panel-closed").removeClass("ui-panel-open");this._OnClose();ITHit.Events.DispatchEvent(this,"OnClose");this._DetachedDom=this.Element.find(">").detach();},this)});var _13cb=null;ITHit.Components.jQuery("body").on("pagebeforechange",ITHit.Components.jQuery.proxy(function(){if(this.Element.parent(".ui-page:visible").length){_13cb=this._IsVisible;}},this));ITHit.Components.jQuery("body").on("pagechange",ITHit.Components.jQuery.proxy(function(){if(this.Element.parent(".ui-page:visible").length&&_13cb){this.Toggle(true);}},this));ITHit.Events.AddListener(this.GetRenderController(),"OnChangeWindowWidthMode",function(_13cc){var _13cd=_13cc===ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.RenderController.WINDOW_WIDTH_MODE_TABLET;if(!_13cd&&this._IsVisible){this.Toggle(false);}this.Element.panel("option","display",_13cd?"push":"overlay");this.Element.toggleClass("ui-panel-display-overlay",!_13cd);},this);},_GetStructure:function(){return {div:{"data-role":"panel","data-position":this._Position,"data-display":"overlay","data-theme":"b","data-position-fixed":"true",childNodes:this._GetContentStructure()}};},_GetContentStructure:function(){return [];},_OnOpen:function(){},_OnClose:function(){}});ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Upload.PanelView",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.BasePanelView,{Id:"ithit_upload_panel",UploadInfoManager:null,UploadListView:null,_IScroll:null,_Position:"right",_IsResumeUploadSupported:false,Toggle:function(_13ce){if(typeof _13ce==="undefined"){_13ce=!this._IsVisible;}this.Element.panel(_13ce?"open":"close");},_OnRender:function(){this._super();this.UploadListView=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Upload.UploadListView();this.Element.append(this.UploadListView.Element);ITHit.Events.AddListener(this.UploadListView.Selection,"OnSelect","_OnChangeItemsSelected",this);this.Query(".button-selectAll").on("tap",ITHit.Components.jQuery.proxy(function(_13cf){_13cf.preventDefault();this.UploadListView.Selection.ToggleSelectAll();},this));ITHit.Events.AddListener(this.UploadListView.Selection,"OnSelect","_UpdateSelectButtonText",this);ITHit.Events.AddListener(this.UploadListView.Selection,"OnSelect","UpdatePauseToggleButton",this);this.Query(".button-pauseToggle").on("tap",ITHit.Components.jQuery.proxy(function(_13d0){_13d0.preventDefault();var _13d1=ITHit.Components.jQuery(_13d0.target).closest(".button-pauseToggle");var _13d2=_13d1.hasClass("iconPause");var aUrls=this.UploadListView.Selection.GetSelectedUrls();if(_13d2){this.GetRenderController().UploadController.PauseUpload(aUrls);}else{this.GetRenderController().UploadController.ResumeUpload(aUrls);}this.UpdatePauseToggleButton();},this));this.Query(".button-cancel").on("tap",ITHit.Components.jQuery.proxy(function(_13d3){_13d3.preventDefault();var aUrls=this.UploadListView.Selection.GetSelectedUrls();this.GetRenderController().UploadController.CancelUpload(aUrls);},this));ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.ActiveStateHelper.Apply(this.Query("[data-role=\"footer\"]"));},_OnChangeItemsSelected:function(_13d4){this.Query(".button-pauseToggle").toggleClass("ui-state-disabled",!this._IsResumeUploadSupported||!_13d4);this.Query(".button-cancel").toggleClass("ui-state-disabled",!_13d4);},_UpdateSelectButtonText:function(_13d5){var _13d6=ITHit.Phrases.AjaxFileBrowserMobile.Interface.Buttons;this.Query(".button-selectAll").text(_13d5?_13d6.ClearSelection:_13d6.SelectAll);},SetEnabledResumeUpload:function(_13d7){this._IsResumeUploadSupported=_13d7;this.UploadListView.SetEnabledResumeUpload(_13d7);if(!_13d7){this.Query(".button-pauseToggle").addClass("ui-state-disabled");}},UpdatePauseToggleButton:function(){var _13d8=this.UploadListView.Selection.GetSelectedItems();var _13d9=false;for(var i=0,l=_13d8.length;i<l;i++){var _13da=_13d8[i];if(!_13da.IsPaused()){_13d9=true;}}var _13db=ITHit.Phrases.AjaxFileBrowserMobile.Interface.Buttons;this.Query(".button-pauseToggle").removeClass("iconPause iconResume").addClass(_13d9?"iconPause":"iconResume");this.Query(".button-pauseToggle").text(_13d9?_13db.Pause:_13db.Resume);},_GetContentStructure:function(){var _13dc=ITHit.Phrases.AjaxFileBrowserMobile.Interface.Buttons;return [{div:{"data-role":"footer","data-position":"fixed","data-theme":"b","data-tap-toggle":"false",childNodes:[{div:{className:"navbar-actions","data-role":"navbar",childNodes:[{ul:{childNodes:[this._GetButtonStructure("selectAll","iconSelect",_13dc.SelectAll),this._GetButtonStructure("pauseToggle","iconPause ui-state-disabled",_13dc.Pause),this._GetButtonStructure("cancel","iconCancel ui-state-disabled",_13dc.Cancel)]}}]}}]}}];},_GetButtonStructure:function(_13dd,_13de,text){return {li:{childNodes:[{a:{className:"button-"+_13dd+" ui-btn ui-btn-icon-top "+_13de,text:text}}]}};}});ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Tree.Renders.List",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.Renders.Base,{GetItemHeight:function(){return 37;},GetItemTemplate:function(oItem,_13df,_13e0,_13e1){var _13e2=[];var _13e3=[];var _13e4=this._ListView.GetRenderController();if(_13e4){var _13e5=_13e4.GetController().Commands.FoldersCollection.Get(oItem.Href);if(_13e5!==null){var _13e6=false;for(var i=0,l=_13e5.length;i<l;i++){if(_13e5[i] instanceof ITHit.WebDAV.Client.AjaxFileBrowser.Folder){_13e6=true;break;}}if(!_13e6){_13e2.push("list-empty");}}}if(_13e1){_13e2.push("ui-collapsible-collapsed");_13e3.push("ui-collapsible-content-collapsed");}return "<li data-index=\""+_13df+"\" class=\"ui-li-static ui-body-inherit "+_13e2.join(" ")+" ui-collapsible ui-collapsible-inset ui-corner-all ui-collapsible-themed-content\">"+this.GetItemContentTemplate(oItem,_13df)+"<div class=\"ui-collapsible-content ui-body-inherit "+_13e3.join(" ")+"\"></div>"+"</li>";},GetItemContentTemplate:function(oItem,_13e7){return "<h2 class=\"ui-collapsible-heading\">"+"<a href=\"javascript:void(0);\" class=\"ui-collapsible-heading-toggle ui-btn ui-btn-inherit ui-icon-false\">"+"<span class=\"item-arrow\"></span>"+ITHit.Utils.HtmlEscape(oItem.DisplayName)+"</a>"+"</h2>";}});(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Tree.FoldersListView",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.BaseListView,{_ExpandedItems:null,constructor:function(){this._ExpandedItems={};this._super.apply(this,arguments);},SetItemCollapsedByNode:function(_13e8,_13e9){var oItem=this.GetItemByElement(_13e8);if(!this._ExpandedItems[oItem.Href]===_13e9){return;}this._ExpandedItems[oItem.Href]=!_13e9;ITHit.Events.DispatchEvent(this,"ExpandItem",[oItem.Href,!_13e9]);_13e8.toggleClass("ui-collapsible-collapsed",_13e9);_13e8.find("> .ui-collapsible-content").toggleClass("ui-collapsible-content-collapsed",_13e9);},_GetItemTemplate:function(_13ea){var oItem=this.Items[_13ea];return this.GetRenderer().GetItemTemplate(oItem,_13ea,this.Selection.IsItemSelected(_13ea),!this._ExpandedItems[oItem.Href]);},_Initialize:function(){this._Renders[self.VIEW_MODE_LIST]=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Tree.Renders.List(this);this._super();if(this._ViewMode===null){this._ViewMode=self.VIEW_MODE_LIST;}},_ItemHasChild:function(_13eb){return this.ElementList.find("> li[data-index=\""+_13eb+"\"] > .ui-collapsible-content ul").length===1;},_GetListStructure:function(){return {ul:{className:"ui-listview ui-group-theme-b"}};},_OnRowClick:function(_13ec){_13ec.preventDefault();var _13ed=ITHit.Components.jQuery(_13ec.target).closest("li[data-index]");if(_13ed.parent().get(0)!==this.ElementList.get(0)){return;}var oItem=this.GetItemByElement(_13ec.target);var _13ee=ITHit.Components.jQuery(_13ec.target).hasClass("item-arrow");2;if(_13ee){var _13ef=!this._ExpandedItems[oItem.Href];this.SetItemCollapsedByNode(_13ed,!_13ef);if(_13ef&&oItem){var that=this;var sPage=ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.RenderController.PAGE_LIST;var _13f0=this.GetRenderController().GetPage(sPage).TreePanelView.LoadCollapsedByUrl(oItem.Href);ITHit.Events.AddListener(_13f0,"OnAbort",function(){that.SetItemCollapsedByNode(_13ed,true);});}}else{this.GetController().OpenFolderAsync(oItem.Href);var sPage=ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.RenderController.PAGE_LIST;this.GetRenderController().GetPage(sPage).FilterView.Toggle(false,true);}},_AutoSetListHeight:function(){}},{VIEW_MODE_LIST:"list"});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Tree.TreeView",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.BaseView,{_FolderListViews:null,_RootListView:null,_ForceUpdate:false,_SelectedItemDom:null,_ExpandedItems:null,_Initialize:function(){this._super();this._FolderListViews={};this._ExpandedItems={};},_OnRender:function(){this._RootListView=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Tree.FoldersListView();ITHit.Events.AddListener(this._RootListView,"ExpandItem",this._SyncExpandFlag,this);this.Element.append(this._RootListView.Element);ITHit.Events.AddListener(this.GetController().Commands.FoldersCollection,"OnDeprecated",function(sUrl){},this);ITHit.Events.AddListener(this.GetController().Commands.FoldersCollection,"OnRemove",function(sUrl){for(var _13f1 in this._FolderListViews){if(!this._FolderListViews.hasOwnProperty(_13f1)){continue;}if(_13f1.indexOf(sUrl)===0){this._RemoveList(sUrl);}}var _13f2=ITHit.WebDAV.Client.HierarchyItem.GetFolderParentUri(sUrl);if(this._FolderListViews[_13f2]){var _13f3=this._FolderListViews[_13f2].Items;for(var i=0,l=_13f3.length;i<l;i++){if(_13f3[i].Href===sUrl){this._FolderListViews[_13f2].RemoveItem(_13f3[i]);break;}}if(this._FolderListViews[_13f2].Items.length===0){var _13f4=this._FindLiNode(_13f2);if(_13f4){ITHit.Components.jQuery(_13f4).addClass("list-empty");}}}},this);ITHit.Events.AddListener(this.GetController().Commands.FoldersCollection,"OnSet",function(sUrl,_13f5){if(!this._HaveParentListView(sUrl)){return;}this.RenderTreeItem(sUrl,_13f5,true);this.RefreshSize();},this);ITHit.Events.AddListener(this.GetController().Commands,"OnUpdateRootUrl",function(){this.RefreshRootItem();},this);},SetSelectedByUrl:function(sUrl){if(!this._HaveParentListView(sUrl)){return;}var oNode=this._FindLiNode(sUrl);if(oNode){this.SetSelectedNode(oNode);}},RenderTree:function(oItem,_13f6,_13f7,_13f8){_13f8=_13f8||false;for(var sUrl in _13f6){if(!_13f6.hasOwnProperty(sUrl)){continue;}var _13f9=_13f8&&oItem.Href===sUrl;this.RenderTreeItem(sUrl,_13f6[sUrl],_13f7,_13f9);}this.RefreshSize();},RefreshRootItem:function(){var _13fa=this.GetController().Commands;var _13fb=_13fa.GetAbsolutePath(_13fa.BaseUrl);this._RootListView.Items[0]={DisplayName:_13fb,Href:this._GetRootUrl()};ITHit.Components.jQuery(this._RootListView.GetItemElementByIndex[0]).find("> h2").text(_13fb);},RenderTreeItem:function(sUrl,_13fc,_13fd,_13fe){if(sUrl.indexOf(this._GetRootUrl())!==0){return;}var _13ff=[];var _1400=this._FindParentListView(sUrl);var _1401=this._FindLiNode(sUrl);var _1402=_1401?ITHit.Components.jQuery(_1401):null;var _1403=!this._FolderListViews[sUrl];for(var i=0,l=_13fc.length;i<l;i++){if(_13fc[i] instanceof ITHit.WebDAV.Client.AjaxFileBrowser.Folder){_13ff.push(_13fc[i]);}}if(_13fe){this.SetSelectedNode(_1402);}if(_13ff.length===0){if(_1402){_1402.addClass("list-empty");}this._RemoveList(sUrl);return;}if(_1403){this._FolderListViews[sUrl]=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Tree.FoldersListView({EnableIScroll:false});ITHit.Events.AddListener(this._FolderListViews[sUrl],"ExpandItem",this._SyncExpandFlag,this);this._RootListView.IScroll.on("scrollStart",ITHit.Components.jQuery.proxy(this._FolderListViews[sUrl].LazyCheckLoadVisible,this._FolderListViews[sUrl]));this._RootListView.IScroll.on("scroll",ITHit.Components.jQuery.proxy(this._FolderListViews[sUrl].LazyCheckLoadVisible,this._FolderListViews[sUrl]));this._RootListView.IScroll.on("scrollEnd",ITHit.Components.jQuery.proxy(this._FolderListViews[sUrl].CheckLoadVisible,this._FolderListViews[sUrl]));if(_1402){_1402.removeClass("list-empty");_1402.find("> .ui-collapsible-content").append(this._FolderListViews[sUrl].Element);}}_1400.SetItemCollapsedByNode(_1402,false);if(_1403||_13fd){var _1404=this._FolderListViews[sUrl].ElementList.find("> li > .ui-body-inherit > ul").detach();this._FolderListViews[sUrl].RenderItems(_13ff);_1404.each(ITHit.Components.jQuery.proxy(this._TouchListBack,this));}},SetSelectedNode:function(oNode){if(this._SelectedItemDom){this._SelectedItemDom.removeClass("selected");}if(oNode){this._SelectedItemDom=ITHit.Components.jQuery(oNode);this._SelectedItemDom.addClass("selected");}},RefreshSize:function(){var _1405=this._RootListView.Items.length;for(var sUrl in this._FolderListViews){if(this._FolderListViews.hasOwnProperty(sUrl)&&this._ExpandedItems[sUrl]){_1405+=this._FolderListViews[sUrl].Items.length;}}var _1406=this._RootListView.GetRenderer().GetItemsHeight(_1405);this._RootListView.ElementList.css("height",_1406);this._RootListView.IScroll.refresh();},CheckLoadVisible:function(){for(var sUrl in this._FolderListViews){if(this._FolderListViews.hasOwnProperty(sUrl)){this._FolderListViews[sUrl].CheckLoadVisible();}}this.RefreshSize();},_RemoveList:function(sUrl){if(this._FolderListViews[sUrl]){this._FolderListViews[sUrl].Destroy();ITHit.Events.RemoveListener(this._FolderListViews[sUrl],"ExpandItem",this._SyncExpandFlag,this);for(var i=0,l=this._FolderListViews[sUrl].Items.length;i<l;i++){var _1407=this._FolderListViews[sUrl].Items[i].Href;if(this._ExpandedItems[_1407]){delete this._ExpandedItems[_1407];}}delete this._FolderListViews[sUrl];}},_SyncExpandFlag:function(sUrl,_1408){this._ExpandedItems[sUrl]=_1408;this.RefreshSize();},_TouchListBack:function(_1409,oNode){var _140a=null;for(var sUrl in this._FolderListViews){if(!this._FolderListViews.hasOwnProperty(sUrl)){continue;}if(this._FolderListViews[sUrl].ElementList.get(0)===oNode){_140a=sUrl;break;}}if(_140a!==null){var _140b=this._FindLiNode(_140a);if(_140b){ITHit.Components.jQuery(_140b).find("> .ui-body-inherit").append(this._FolderListViews[sUrl].Element);return;}}ITHit.Components.jQuery(oNode).remove();},_HaveParentListView:function(sUrl){var _140c=sUrl.replace(/[^\/]+\/$/,"");if(this._GetRootUrl()===sUrl){return true;}return this._FolderListViews.hasOwnProperty(_140c);},_FindParentListView:function(sUrl){var _140d=sUrl.replace(/[^\/]+\/$/,"");if(this._GetRootUrl()===sUrl){return this._RootListView;}var _140e=this._FolderListViews[_140d];if(!_140e){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Not found parent list view by url `"+_140d+"`.");}return _140e;},_FindLiNode:function(sUrl){var _140f=sUrl.replace(/[^\/]+\/$/,"");if(this._GetRootUrl()===sUrl){return this._RootListView.GetItemElementByIndex(0,true);}var _1410=this._FolderListViews[_140f];if(!_1410){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Not found parent list view by url `"+_140f+"`.");}var _1411=null;for(var i=0,l=_1410.Items.length;i<l;i++){if(_1410.Items[i].Href===sUrl){_1411=i;break;}}if(_1411===null){throw new ITHit.WebDAV.Client.AjaxFileBrowser.Exceptions.AjaxFileBrowserException("Not found item `"+sUrl+"` in items of list view  `"+_140f+"`.");}return _1410.GetItemElementByIndex(_1411,true);},_GetRootUrl:function(){return this.GetController().Commands.BaseUrl;},_GetStructure:function(){return {div:{}};}});})();ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Tree.PanelView",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.BasePanelView,{Id:"ithit_tree_panel",TreeView:null,_LastSelectedItem:null,_IsTreeFullyLoaded:false,_OnRender:function(){this.TreeView=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Tree.TreeView();this.Element.append(this.TreeView.Element);this._super();},RenderItems:function(oItem){this._LastSelectedItem=oItem;if(this._IsVisible){this.TreeView.SetSelectedByUrl(oItem.Href);}},LoadCollapsedByUrl:function(sUrl){if(!this._IsTreeFullyLoaded){return this.LoadTreeFully(sUrl);}var _1412=this.GetController().Commands.Create("LoadFolderCommand",{Href:sUrl,OnError:function(_1413){ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.Message.Create(_1413.join("\n")).Open();},OnSuccess:function(oItem,_1414){}});_1412.Execute();return _1412;},LoadTreeFully:function(sUrl){this._IsTreeFullyLoaded=true;var that=this;var _1415=this.GetController().Commands.Create("LoadTreeFoldersCommand",{Href:sUrl,OnError:function(_1416){ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.Message.Create(_1416.join("\n")).Open();},OnSuccess:function(_1417,_1418){that.TreeView.RenderTree(_1417[sUrl],_1418,true,true);}});_1415.Execute();return _1415;},_OnOpen:function(){var sUrl=this._LastSelectedItem?this._LastSelectedItem.Href:this.GetController().Commands.BaseUrl;if(!this._IsTreeFullyLoaded){this.LoadTreeFully(sUrl);}else{this.TreeView.SetSelectedByUrl(sUrl);}this.TreeView.CheckLoadVisible();}});(function(){ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.ListPage.LayoutView",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.BaseLayoutView,{Id:"ithit_page_list",FilesListView:null,FilterView:null,FooterToolbarView:null,UploadPanelView:null,CommandsInfoView:null,TreePanelView:null,_OnRender:function(){this.FilesListView=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.FilesListView();this.FilesListView.Element.appendTo(this.Query(".ui-content"));this.FilterView=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.ListPage.FilterView({InsertBefore:this.FilesListView.ElementList});var _1419=false;ITHit.Events.AddListener(this.FilterView,"OnFocus",function(){_1419=this.FooterToolbarView.IsVisible();if(_1419){this.FooterToolbarView.Toggle(false);}this.FilesListView.IScroll.scrollTo(0,0,300);},this);ITHit.Events.AddListener(this.FilterView,"OnBlur",function(){if(_1419){_1419=false;this.FooterToolbarView.Toggle(true);}},this);this.FilesListView.IScroll.on("scrollStart",ITHit.Components.jQuery.proxy(function(){this.FilterView.Blur();},this));this.UploadPanelView=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Upload.PanelView();this.Element.append(this.UploadPanelView.Element);ITHit.Events.AddListener(this.UploadPanelView,"OnOpen",function(){this._RefreshContentPostion();this.Query("[data-role=\"header\"] .button-upload").toggleClass("ui-btn-active",true);},this);ITHit.Events.AddListener(this.UploadPanelView,"OnClose",function(){this._RefreshContentPostion();this.Query("[data-role=\"header\"] .button-upload").toggleClass("ui-btn-active",false);},this);this.TreePanelView=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Tree.PanelView();this.Element.append(this.TreePanelView.Element);ITHit.Events.AddListener(this.TreePanelView,"OnOpen",function(){this._RefreshContentPostion();this.Query("[data-role=\"header\"] .button-tree").toggleClass("ui-btn-active",true);},this);ITHit.Events.AddListener(this.TreePanelView,"OnClose",function(){this._RefreshContentPostion();this.Query("[data-role=\"header\"] .button-tree").toggleClass("ui-btn-active",false);},this);this.FooterToolbarView=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.ListPage.FooterToolbarView();this.Element.append(this.FooterToolbarView.Element);this.CommandsInfoView=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.ListPage.CommandsInfoView();this.Query(".ui-panel-wrapper").append(this.CommandsInfoView.Element);this.Query("[data-role=\"header\"] .button-back").on("tap",ITHit.Components.jQuery.proxy(function(_141a){_141a.preventDefault();this.GetController().OpenParentFolder();},this));ITHit.Events.AddListener(this.GetController(),"_OnSelectedFolderChanged",this._OnChangeSelectedFolder,this);this._OnChangeSelectedFolder();this.Query("[data-role=\"header\"] .button-editmode").on("tap",ITHit.Components.jQuery.proxy(function(_141b){_141b.preventDefault();this.FilesListView.ToggleEditMode();},this));ITHit.Events.AddListener(this.FilesListView,"OnChangeEditMode",this._OnChangeEditMode,this);this._OnChangeEditMode(this.FilesListView.GetEditMode());ITHit.Events.AddListener(this.FooterToolbarView,"OnToggle",this._RefreshContentPostion,this);this.Query("[data-role=\"header\"] .button-viewmode-popup").on("tap",ITHit.Components.jQuery.proxy(function(_141c){_141c.preventDefault();this.Query("#ithit_interface_header_viewmode_popup").popup("open",{positionTo:this.Query("[data-role=\"header\"] .button-viewmode-popup"),transition:"none"});},this));this.Query("#ithit_interface_header_viewmode_popup").on("popupafteropen",ITHit.Components.jQuery.proxy(function(){this.Query("[data-role=\"header\"] .button-viewmode-popup").addClass("ui-btn-active");},this));this.Query("#ithit_interface_header_viewmode_popup").on("popupafterclose",ITHit.Components.jQuery.proxy(function(){this.Query("[data-role=\"header\"] .button-viewmode-popup").removeClass("ui-btn-active");},this));this.Query("#ithit_interface_header_viewmode_popup .button-viewmode").on("tap",ITHit.Components.jQuery.proxy(function(_141d){_141d.preventDefault();var _141e=ITHit.Components.jQuery(_141d.target).closest(".button-viewmode");this.FilesListView.SetViewMode(_141e.attr("data-viewmode"));this.Query("#ithit_interface_header_viewmode_popup").popup("close");},this));ITHit.Events.AddListener(this.FilesListView,"OnChangeViewMode",this._OnChangeViewMode,this);this._OnChangeViewMode(this.FilesListView.GetViewMode());this.Query("[data-role=\"header\"] .button-search").on("tap",ITHit.Components.jQuery.proxy(function(_141f){_141f.preventDefault();this.FilterView.Toggle();},this));ITHit.Events.AddListener(this.FilterView,"OnToggle",function(_1420){this.Query("[data-role=\"header\"] .button-search").toggleClass("ui-btn-active",_1420);this._RefreshContentPostion();},this);this.Query("[data-role=\"header\"] .button-upload").on("tap",ITHit.Components.jQuery.proxy(function(_1421){_1421.preventDefault();this.UploadPanelView.Toggle();},this));this.Query("[data-role=\"header\"] .button-tree").on("tap",ITHit.Components.jQuery.proxy(function(_1422){_1422.preventDefault();this.TreePanelView.Toggle();},this));ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.ActiveStateHelper.Apply(this.Query("[data-role=\"header\"]"));ITHit.Components.jQuery(document).ready(ITHit.Components.jQuery.proxy(this._UpdateAddressBarSize,this));ITHit.Events.AddListener(this.GetRenderController(),"OnChangeWindowSize",this._RefreshContentPostion,this);},SetAddressBarValue:function(sUrl){sUrl=ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Utils.FormatUrl(sUrl);this.Query("[data-role=\"header\"] h1 .title").html(ITHit.Utils.HtmlEscape(sUrl));},ToggleUploadButton:function(_1423){this.Query("[data-role=\"header\"] .button-upload").toggle(_1423);this._UpdateAddressBarSize();if(!_1423){this.UploadPanelView.Toggle(false);}},ToggleSearchButton:function(_1424){this.Query("[data-role=\"header\"] .button-search").toggle(_1424);this._UpdateAddressBarSize();},SetUploadButtonSummaryProgress:function(_1425){this.ToggleUploadButton(true);this.SetUploadButtonError(false);this.Query("[data-role=\"header\"] .button-upload .progress div").css("width",_1425+"%");},SetUploadButtonError:function(_1426){if(_1426){this.ToggleUploadButton(true);}this.Query("[data-role=\"header\"] .button-upload .progress").toggleClass("error",_1426);},_UpdateAddressBarSize:function(){this.Query("[data-role=\"header\"] h1").css({marginLeft:this.Query("[data-role=\"header\"]>.ui-btn-left").outerWidth(true),marginRight:this.Query("[data-role=\"header\"]>.ui-btn-right").outerWidth(true)});},_OnChangeViewMode:function(_1427){this.Query("#ithit_interface_header_viewmode_popup .button-viewmode").removeClass("iconSelect");this.Query("#ithit_interface_header_viewmode_popup .button-viewmode[data-viewmode=\""+_1427+"\"]").addClass("iconSelect");},_OnChangeEditMode:function(_1428){var _1429=_1428===ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.FilesListView.EDIT_MODE_VIEW;var _142a=this.Query("[data-role=\"header\"] .button-editmode");_142a.removeClass("iconEdit").removeClass("iconFile");_142a.addClass(_1429?"iconEdit":"iconFile");_142a.toggleClass("ui-btn-active",!_1429);if(_1429){this.FilesListView.Selection.ToggleSelectAll(false);}this.FooterToolbarView.Toggle(!_1429,false);this._RefreshContentPostion();},_RefreshContentPostion:function(){var _142b=this.FooterToolbarView.IsVisible()?this.FooterToolbarView.Element.outerHeight(true):0;var _142c=this.Query("[data-role=\"header\"]").height();var _142d=ITHit.Components.jQuery.mobile.getScreenHeight()-_142b-_142c;this.Query(".ui-content").css({bottom:_142b,height:_142d});this.Query(".ui-panel-wrapper").css({height:_142d});this.Element.css("height",_142d);this.FilesListView.RefreshSize();},_OnChangeSelectedFolder:function(){var _142e=this.GetController();var sUrl=_142e._url||location.hash.substr(1,location.hash.length)||"/";this.Query("[data-role=\"header\"] .button-back").toggleClass("ui-state-disabled",_142e._baseUrl===sUrl);},_GetStructure:function(){return {div:{"data-role":"page",className:"ui-responsive-panel",childNodes:[{div:{"data-role":"header","data-theme":"b","data-position":"fixed","data-tap-toggle":"false",childNodes:this._GetHeaderItems()}},{div:{className:"ui-panel-wrapper",childNodes:[{div:{role:"main",className:"ui-content",childNodes:[]}}]}}]}};},_GetHeaderItems:function(){return [{h1:{childNodes:[{div:{className:"title",text:""}}]}},{div:{className:"ui-btn-left ui-nodisc-icon ui-alt-icon",childNodes:[{a:{className:"button-back ui-btn ui-btn-icon-notext iconUp"}},{a:{className:"button-tree ui-btn ui-btn-icon-notext iconFolders"}}]}},{div:{className:"ui-btn-right ui-nodisc-icon ui-alt-icon",childNodes:[{a:{show:false,className:"button-upload ui-btn ui-btn-icon-notext iconUpload",childNodes:[{div:{className:"progress",childNodes:[{div:{}}]}}]}},{a:{className:"button-editmode ui-btn ui-btn-icon-notext iconEditMode"}},{a:{className:"button-viewmode-popup ui-btn ui-btn-icon-notext iconView"}},{a:{className:"button-search ui-btn ui-btn-icon-notext iconSearch",style:{display:"none"}}},{div:{id:"ithit_interface_header_viewmode_popup","data-role":"popup","data-arrow":"true",childNodes:[{ul:{"data-role":"listview","data-inset":"false",childNodes:[{li:{childNodes:[{a:{className:"button-viewmode ui-btn ui-btn-icon-left","data-viewmode":ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.FilesListView.VIEW_MODE_THUMBNAIL,text:ITHit.Phrases.AjaxFileBrowserMobile.Interface.Buttons.Thumbnail}}]}},{li:{childNodes:[{a:{className:"button-viewmode ui-btn ui-btn-icon-left","data-viewmode":ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.FilesListView.VIEW_MODE_CONTENT,text:ITHit.Phrases.AjaxFileBrowserMobile.Interface.Buttons.Content}}]}},{li:{childNodes:[{a:{className:"button-viewmode ui-btn ui-btn-icon-left","data-viewmode":ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.List.FilesListView.VIEW_MODE_LIST,text:ITHit.Phrases.AjaxFileBrowserMobile.Interface.Buttons.List}}]}}]}}]}}]}}];}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.InfoPage.TableView",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.BaseView,{Item:null,_GetStructure:function(){return {table:{className:"ui-table file-info-table",childNodes:[{tbody:{}}]}};},RenderItem:function(oItem){this.Item=oItem;var aRows=[];var _142f=ITHit.Phrases.AjaxFileBrowserMobile.ItemInfo;var _1430=this.GetRenderController().ResourceIcons.GetIconPath(oItem,window.devicePixelRatio>1?128:64,false);var sIcon="<img src=\""+_1430+"\" width=\"64\" height=\"64\" />";aRows.push(this._RenderRow(sIcon,ITHit.Utils.HtmlEscape(oItem.DisplayName)));var _1431=oItem instanceof ITHit.WebDAV.Client.AjaxFileBrowser.Resource?oItem.DisplayName.substr(oItem.DisplayName.lastIndexOf(".")+1):"Folder";aRows.push(this._RenderRow(_142f.ItemType,_1431));var sUrl=oItem.Item.Href;if(sUrl.search(/:[0-9]+\//)===-1){var iPort=sUrl.indexOf("https:")===0?443:80;sUrl=sUrl.replace(/([a-zA-Z0-9])\/(?!\/)/,"$1:"+iPort+"/");}aRows.push(this._RenderRow(_142f.Location,sUrl));if(oItem instanceof ITHit.WebDAV.Client.AjaxFileBrowser.Resource){aRows.push(this._RenderSeparator());var _1432=ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Utils;var sSize=_1432.FormatSize(oItem.ContentLength)+" ("+_1432.FormatSizeBytes(oItem.ContentLength)+")";aRows.push(this._RenderRow(_142f.Size,sSize));}aRows.push(this._RenderSeparator());aRows.push(this._RenderRow(_142f.Created,ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Utils.FormatDate(oItem.CreationDate)));aRows.push(this._RenderRow(_142f.Modified,ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Utils.FormatDate(oItem.LastModified)));if(oItem.Item.UsedBytes>=0&&oItem.Item.AvailableBytes>=0){aRows.push(this._RenderSeparator());aRows.push(this._RenderRow(_142f.UsedSpace,ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Utils.FormatSize(oItem.Item.UsedBytes)));aRows.push(this._RenderRow(_142f.FreeSpace,ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Utils.FormatSize(oItem.Item.AvailableBytes)));aRows.push(this._RenderRow(_142f.TotalSpace,ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Utils.FormatSize(oItem.Item.UsedBytes+oItem.Item.AvailableBytes)));var _1433=Math.round(oItem.Item.UsedBytes*100/(oItem.Item.UsedBytes+oItem.Item.AvailableBytes));aRows.push(this._RenderRow(_142f.UsedPercent.Paste(_1433),"<div class='quota-percent'><div style='width: "+_1433+"%'></div></div>"));}this.Query("tbody").html(aRows.join(""));},_RenderQuota:function(){this._ns.Render.Dialog.ShowItemInfo(oItem.Item.Href,oItem.DisplayName,oItem.ResourceType,oItem.ContentLength||0,oItem.CreationDate.toLocaleString(),oItem.LastModified.toLocaleString(),oItem.Item.AvailableBytes,oItem.Item.UsedBytes);var _1434=oItem.Item.AvailableBytes;if(_1434>=0&&oItem.Item.UsedBytes>=0){quotaInfoContainer.style.display="";}else{quotaInfoContainer.style.display="none";}},_RenderSeparator:function(){return "<tr class=\"separator\"><td colspan=\"2\"><hr></td></tr>";},_RenderRow:function(_1435,_1436){var sHtml="";sHtml+="<th>"+_1435+"</th>";sHtml+="<td>"+_1436+"</td>";return "<tr>"+sHtml+"</tr>";}});})();(function(){ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.InfoPage.LayoutView",ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.BaseLayoutView,{TableView:null,Id:"ithit_page_info",_IScroll:null,SetAddressBarValue:function(sUrl){sUrl=ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Utils.FormatUrl(sUrl);this.Query("[data-role=\"header\"] h1 .title").html(ITHit.Utils.HtmlEscape(sUrl));},_OnRender:function(){this.TableView=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.InfoPage.TableView();this.Query(".ui-content[role=\"main\"]").append(this.TableView.Element);this._IScroll=new IScroll(this.Query(".ui-listview-wrapper").get(0),{scrollbars:true,interactiveScrollbars:true,fadeScrollbars:true,scrollY:true});this.Query("[data-role=\"header\"] .button-back").on("tap",ITHit.Components.jQuery.proxy(function(_1437){_1437.preventDefault();var _1438=this.GetController();if(_1438.History.GetLength()===1){_1438.OpenFolderAsync(_1438._url);}else{history.back();}},this));this.Query("[data-role=\"header\"] .button-edit").on("tap",ITHit.Components.jQuery.proxy(function(_1439){_1439.preventDefault();var _143a=ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.SimpleForm.Create();_143a.SetLabelText(ITHit.Phrases.AjaxFileBrowser.Interface.NewName);_143a.SetInputValue(this.TableView.Item.DisplayName);_143a.Open();ITHit.Events.AddListener(_143a,"OnAccept",function(_143b){_143a.DestroyOnClose=false;var _143c=this.GetController();var _143d=_143c.Commands.Create("RenameCommand",{Href:this.TableView.Item.Href,NewName:_143b,OnSuccess:function(){_143a.DestroyOnClose=true;_143a.Close();_143c.Commands.Create("LoadItemCommand",{Href:_143d.GetFutureUrl(),OnSuccess:function(oItem){_143c._url=oItem.Href;_143c.History.UpdateCurrentUrl(oItem.Href.replace(/\/$/,""));_143c.RenderController.RenderInfo(oItem);},OnError:function(){_143c.Refresh();}}).Execute();},OnError:function(_143e){_143a.Close();var _143f=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.Message();_143f.SetText(_143e.join("\n"));ITHit.Events.AddListener(_143f,"OnClose",function(){_143a.DestroyOnClose=true;_143a.Open();});_143f.Open();}});_143d.Execute();},this);},this));ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.ActiveStateHelper.Apply(this.Query("[data-role=\"header\"]"));ITHit.Components.jQuery(window).on("resize orientationchange",ITHit.Components.jQuery.proxy(this._RefreshContentSize,this));ITHit.Components.jQuery("body").on("pagechange",ITHit.Components.jQuery.proxy(function(_1440,_1441){if(_1441.toPage.get(0)===this.Element.get(0)){this._RefreshContentSize();}},this));},_RefreshContentSize:function(){var _1442=this.Query("[data-role=\"header\"]").height();var _1443=ITHit.Components.jQuery.mobile.getScreenHeight()-_1442;this.Query(".ui-listview-wrapper").css({top:_1442,height:_1443});this._IScroll.refresh();},_GetStructure:function(){var sId="";var _1444="";var _1445="";return {div:{expression:(sId?" id=\""+sId+"\"":"")+" class=\""+(_1444?_1444+" ":"")+"\""+(" style=\""+(_1445?_1445:"width:100%; height:100%;")+"\""),"data-role":"page",childNodes:[{div:{"data-role":"header","data-position":"fixed","data-theme":"b","data-tap-toggle":"false",childNodes:this._GetHeaderItems()}},{div:{className:"ui-listview-wrapper",childNodes:[{div:{role:"main",className:"ui-content",childNodes:[]}}]}}]}};},_GetHeaderItems:function(){return [{h1:{childNodes:[{div:{className:"title",text:""}}]}},{div:{className:"ui-btn-left ui-nodisc-icon ui-alt-icon",childNodes:[{a:{className:"button-back ui-btn ui-btn-icon-notext iconUp"}}]}},{div:{className:"ui-btn-right ui-nodisc-icon ui-alt-icon",childNodes:[{a:{className:"button-edit ui-btn ui-btn-icon-notext iconEdit"}}]}}];}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.ResourceIcons",function(){},{_Controller:null,_AvailableIconSizes:[],constructor:function(_1446){this._Controller=_1446;this._LoadedIcons={};this._AvailableIconSizes=[16,32,48,64,72,94,128,256];},GetLoadingStatus:function(sPath){return this._LoadedIcons[sPath]||null;},IsImagePreviewExtension:function(_1447){return this._Controller.ImageTypes.indexOf(_1447)!==-1;},GetDefaultFolderIconPath:function(iSize){return this._Controller.ThemesPath+"/"+this._Controller.ThemeName+"/images/normal/"+this.GetIconAvailableSize(iSize)+"/folder.png";},GetDefaultResourceIconPath:function(iSize){return this._Controller.ThemesPath+"/"+this._Controller.ThemeName+"/images/normal/"+this.GetIconAvailableSize(iSize)+"/file.png";},GetIconPath:function(oItem,iSize,_1448){var sPath=this._GenerateIconPath(oItem,iSize,_1448);this._CheckIconFileExists(sPath,iSize);if(this.GetLoadingStatus(sPath)===self.LOAD_STATUS_ERROR){return this.GetDefaultResourceIconPath(iSize);}return sPath;},GetIconAvailableSize:function(iSize){for(var i=0,l=this._AvailableIconSizes;i<l;i++){if(this._AvailableIconSizes>=iSize){return iSize;}}return this._AvailableIconSizes[this._AvailableIconSizes.length-1];},_GenerateIconPath:function(oItem,iSize,_1449){if(typeof _1449==="undefined"){_1449=iSize>32;}if(oItem instanceof ITHit.WebDAV.Client.AjaxFileBrowser.Folder){return this.GetDefaultFolderIconPath(iSize);}var sName=oItem.DisplayName;var _144a=sName.substr(sName.lastIndexOf(".")+1).toLowerCase();if(_1449&&this.IsImagePreviewExtension(_144a)){var lm=oItem.LastModified.getTime();var _144b=Math.round(iSize*self.MAX_PROPORTIONS_FACTOR);var sPath=oItem.Item.Href.replace(/#/g,"%23")+"?lm="+lm+"&width="+_144b+"&height="+_144b+"&mode=fill";this._ProcessIconThumbnailSize(sPath,iSize);return sPath;}return this._Controller.FileIconsPath+this.GetIconAvailableSize(iSize)+"/"+_144a+".png";},_CheckIconFileExists:function(sPath,iSize){if(this._LoadedIcons.hasOwnProperty(sPath)){return;}var _144c=new Image();_144c.src=sPath;var me=this;this._LoadedIcons[sPath]=self.LOAD_STATUS_PROCESS;_144c.onload=function(){me._LoadedIcons[sPath]=self.LOAD_STATUS_SUCCESS;};_144c.onerror=function(){me._LoadedIcons[sPath]=self.LOAD_STATUS_ERROR;setTimeout(function(){me._GlobalReplaceErrorImages(sPath,iSize);});};},_ProcessIconThumbnailSize:function(sPath,iSize){var _144d=new Image();_144d.src=sPath;var that=this;var _144e=setInterval(function(){if(_144d.width>0||_144d.height>0){clearInterval(_144e);that._OnLoadThumbnailSize(_144d,iSize);}},10);_144d.onerror=_144d.onload=function(){clearInterval(_144e);that._OnLoadThumbnailSize(_144d,iSize);};},_OnLoadThumbnailSize:function(_144f,iSize){var size={width:"auto",height:"auto"};var _1450=window.devicePixelRatio||1;if(_144f.width>_144f.height){size.height=Math.min(_144f.height,iSize/_1450);}else{size.width=Math.min(_144f.width,iSize/_1450);}ITHit.Components.jQuery("img[src=\""+_144f.src+"\"]").each(function(i,_1451){ITHit.Components.jQuery(_1451).css(size);ITHit.Components.jQuery(_1451).parent(".icon-wrapper").css({width:_144f.width,height:_144f.height,marginLeft:-1*(_144f.width/2),marginTop:-1*(_144f.height/2)});});},_GlobalReplaceErrorImages:function(sPath,iSize){ITHit.Components.jQuery("img[src=\""+sPath+"\"]").attr("src",this.GetDefaultResourceIconPath(iSize));}},{MAX_PROPORTIONS_FACTOR:1.8,LOAD_STATUS_PROCESS:"process",LOAD_STATUS_SUCCESS:"success",LOAD_STATUS_ERROR:"error"});})();ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render");ITHit.oNS.Utils=function(){};ITHit.oNS.Utils._LocaleDateFormats={"default":["HH:mm","yyyy-MM-dd","{1} {0}"],ar:["h:mm a","d/M/yyyy","{1} {0}"],ca:["H:mm","dd/MM/yy","{1} {0}"],cs:["H:mm","d.M.yy","{1} {0}"],da:["HH.mm","dd/MM/yy","{1} {0}"],de:["HH:mm","dd.MM.yy","{1} {0}"],"de-de":["HH:mm","dd.MM.yy","{1} {0}"],el:["h:mm a","d/M/yy","{1} {0}"],en:["h:mm a","M/d/yy","{1} {0}"],"en-gb":["HH:mm","dd/MM/yyyy","{1} {0}"],"en-us":["h:mm a","M/d/yy","{1} {0}"],es:["HH:mm","dd/MM/yy","{1} {0}"],"es-es":["HH:mm","dd/MM/yy","{1} {0}"],fi:["H.mm","d.M.yyyy","{1} {0}"],"fi-fi":["H.mm","d.M.yyyy","{1} {0}"],fr:["HH:mm","dd/MM/yy","{1} {0}"],"fr-fr":["HH:mm","dd/MM/yy","{1} {0}"],he:["HH:mm","dd/MM/yy","{1} {0}"],"he-il":["HH:mm","dd/MM/yy","{1} {0}"],hu:["H:mm","yyyy.MM.dd.","{1} {0}"],it:["HH:mm","dd/MM/yy","{1} {0}"],"it-it":["HH:mm","dd/MM/yy","{1} {0}"],ja:["H:mm","yy/MM/dd","{1} {0}"],"ja-jp":["H:mm","yy/MM/dd","{1} {0}"],ko:["a h:mm","yy. M. d.","{1} {0}"],"ko-kr":["a h:mm","yy. M. d.","{1} {0}"],nb:["HH:mm","dd.MM.yy","{1} {0}"],nl:["HH:mm","dd-MM-yy","{1} {0}"],"nl-nl":["HH:mm","dd-MM-yy","{1} {0}"],pl:["HH:mm","dd-MM-yyyy","{1} {0}"],pt:["HH:mm","dd/MM/yy","{1} {0}"],"pt-br":["HH:mm","dd/MM/yy","{1} {0}"],"pt-pt":["HH:mm","dd/MM/yy","{1} {0}"],ru:["H:mm","dd.MM.yy","{1} {0}"],ua:["H:mm","dd.MM.yy","{1} {0}"],sk:["H:mm","d.M.yyyy","{1} {0}"],sl:["HH:mm","d. MM. yy","{1} {0}"],sv:["HH:mm","yyyy-MM-dd","{1} {0}"],th:["H:mm","d/M/yyyy","{1}, {0}"],tr:["HH:mm","dd.MM.yyyy","{1} {0}"],xx:["HH:mm","yyyy-MM-dd","{1} {0}"],zh:["ah:mm","yy-M-d","{1} {0}"],"zh-cn":["ah:mm","yy-M-d","{1} {0}"],"zh-tw":["ah:mm","yy/M/d","{1} {0}"]};ITHit.oNS.Utils.FormatSize=function(value){if("number"!==typeof value){return value;}var size=parseFloat(value),_1452,_1453=ITHit.Phrases.AjaxFileBrowserMobile.FileSizes;if(size>=1048576000){_1452=(Math.round(size/1073741824*100)/100)+" "+_1453.GB;}else{if(size>=1048576){_1452=(Math.round(size/1048576*100)/100)+" "+_1453.MB;}else{if(size>=1024){_1452=(Math.round(size/1024*100)/100)+" "+_1453.KB;}else{_1452=size+" "+_1453.B;}}}return _1452;};ITHit.oNS.Utils.FormatSizeBytes=function(iSize){var sSize=iSize.toString(),_1454=[],_1455=0;for(var i=(sSize.length-1);i>=0;i--){if(_1455&&!(_1455%3)){_1454.push(",");}_1454.push(sSize.charAt(i));_1455++;}return _1454.reverse().join("")+" "+ITHit.Phrases.AjaxFileBrowserMobile.FileSizes.Bytes;};ITHit.oNS.Utils.FormatDateSince=function(date){var _1456=Math.floor((new Date()-date)/1000);var _1457=Math.floor(_1456/31536000);if(_1457>1){return this.FormatDate(date);}_1457=Math.floor(_1456/2592000);if(_1457>1){return this.FormatDate(date);}_1457=Math.floor(_1456/86400);if(_1457>1){return _1457+" "+ITHit.Phrases.AjaxFileBrowser.Date.DaysAgo;}_1457=Math.floor(_1456/3600);if(_1457>1){return _1457+" "+ITHit.Phrases.AjaxFileBrowser.Date.HoursAgo;}_1457=Math.floor(_1456/60);if(_1457>1){return _1457+" "+ITHit.Phrases.AjaxFileBrowser.Date.MinutesAgo;}if(_1456<10){return ITHit.Phrases.AjaxFileBrowser.Date.MomentAgo;}return Math.floor(_1456)+" "+ITHit.Phrases.AjaxFileBrowser.Date.SecondsAgo;};ITHit.oNS.Utils.FormatSecondsLeft=function(_1458){var _1459=Math.floor(_1458/86400);if(_1459>1){return _1459+" "+ITHit.Phrases.AjaxFileBrowser.Date.DaysShort;}_1459=Math.floor(_1458/3600);if(_1459>1){return _1459+" "+ITHit.Phrases.AjaxFileBrowser.Date.HoursShort;}_1459=Math.floor(_1458/60);if(_1459>1){return _1459+" "+ITHit.Phrases.AjaxFileBrowser.Date.MinutesShort;}return Math.floor(_1458)+" "+ITHit.Phrases.AjaxFileBrowser.Date.SecondsShort;};ITHit.oNS.Utils.FormatUrl=function(sUrl){sUrl=ITHit.WebDAV.Client.AjaxFileBrowser.UrlUtils.GetRelativePath(sUrl);sUrl=sUrl.replace(/^\/|\/$/g,"").replace(/\//g,"  ");sUrl=ITHit.WebDAV.Client.Encoder.Decode(sUrl);return sUrl;};ITHit.oNS.Utils.FormatDate=function(date,_145a,_145b){if(!_145a){_145b=_145b||navigator.language||navigator.browserLanguage||navigator.userLanguage||navigator.systemLanguage;_145b=_145b.toLowerCase();if(!this._LocaleDateFormats[_145b]){_145b=_145b.replace(/-[a-z]+$/,"");}if(!this._LocaleDateFormats[_145b]){_145b="default";}_145a=this._LocaleDateFormats[_145b][2].replace("{0}",this._LocaleDateFormats[_145b][0]).replace("{1}",this._LocaleDateFormats[_145b][1]);}var _145c=function(_145d){return _145d<10?"0"+_145d:_145d.toString();};var hours=date.getHours();if(hours>12){hours-=12;}return _145a.replace("yyyy",date.getFullYear()).replace("yy",date.getFullYear().toString().substr(date.getFullYear().toString().length-2,2)).replace("MM",_145c(date.getMonth()+1)).replace("M",date.getMonth()+1).replace("dd",_145c(date.getDate())).replace("d",_145c(date.getDate())).replace("HH",_145c(date.getHours())).replace("H",date.getHours()).replace("h",hours).replace("mm",_145c(date.getMonth()+1)).replace("a","").replace("  ","");};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.AjaxFileBrowser.Render");ITHit.oNS.Timer=function(_145e,iTime,_145f,_1460,_1461){this.index=_145e;this.time=parseInt(iTime)||0;this.increment=_145f||1;this.type=(this.increment>0)?"up":"down";this.active=!_1461;this.OnTimerUpdate=_1460;this._ReturnTime();this._ClassId="ITHit.WebDAV.Client.AjaxFileBrowser.Render.Timer_"+ITHit.WebDAV.Client.AjaxFileBrowser.Render.Timer._Counter++;};ITHit.oNS.Timer._Counter=0;ITHit.oNS.Timer.prototype._Tick=function(){if(!this.active||("down"===this.type)&&(this.time<=0)){return;}if(isFinite(this.time)){this.time+=this.increment;if(this.time<0){this.time=0;}}this._ReturnTime();};ITHit.oNS.Timer.prototype._ReturnTime=function(){if(this.OnTimerUpdate instanceof Function){this.OnTimerUpdate(this.index,this.time);}};ITHit.oNS.Timer.prototype.SetTime=function(mTime){this.time=mTime;this.active=true;};ITHit.oNS.Timer.prototype.StopTimer=function(){this.active=false;};ITHit.oNS.Timer.prototype.SetUpdateHandler=function(_1462){this.OnTimerUpdate=_1462;};ITHit.oNS.Timer.prototype.IsSetTimerUpdateHandler=function(mTime){return !!this.OnTimerUpdate;};ITHit.oNS.Timer.prototype.toString=function(){return this._ClassId;};ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.AjaxFileBrowser.Render");ITHit.oNS.TimerManager=function(){this.timers=[];this.timersLength=0;this.interval;this._ClassId="ITHit.WebDAV.Client.AjaxFileBrowser.Render.TimerManager_"+ITHit.WebDAV.Client.AjaxFileBrowser.Render.TimerManager._Counter++;};ITHit.oNS.TimerManager._Counter=0;ITHit.oNS.TimerManager.prototype.AddTimer=function(_1463,iTime,_1464,_1465,_1466){if(this.timers[_1463]){return false;}this.timers[_1463]=new ITHit.WebDAV.Client.AjaxFileBrowser.Render.Timer(_1463,iTime,_1464,_1465,_1466);this.timersLength++;if(!this.interval){this.interval=setInterval(ITHit.Utils.MakeScopeClosure(this,"_Tick"),1000);}};ITHit.oNS.TimerManager.prototype._Tick=function(){for(var _1467 in this.timers){if(!this.timers.hasOwnProperty(_1467)){continue;}this.timers[_1467]._Tick();}};ITHit.oNS.TimerManager.prototype.SetTime=function(_1468,iTime){if(!this.timers[_1468]){return false;}this.timers[_1468].SetTime(iTime);};ITHit.oNS.TimerManager.prototype.DeleteTimer=function(_1469){if(!this.timers[_1469]){return false;}delete this.timers[_1469];this.timersLength--;if(!this.timersLength&&this.interval){clearInterval(this.interval);this.interval=null;}};ITHit.oNS.TimerManager.prototype.StopTimer=function(_146a){if(!this.timers[_146a]){return false;}this.timers[_146a].StopTimer();};ITHit.oNS.TimerManager.prototype.TimerExists=function(_146b){return this.timers[_146b]?true:false;};ITHit.oNS.TimerManager.prototype.SetTimerUpdateHandler=function(_146c,_146d){if(!this.timers[_146c]){return;}this.timers[_146c].SetUpdateHandler(_146d);};ITHit.oNS.TimerManager.prototype.IsSetTimerUpdateHandler=function(_146e){return (this.timers[_146e]&&this.timers[_146e].IsSetUpdateHandler());};ITHit.oNS.TimerManager.prototype.toString=function(){return this._ClassId;};(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowser.Upload.BaseInfoManager",null,{Timers:null,ReportProgressErrorCount:null,Pool:[],Hash:{},DiffInfo:{},ErrorLog:{},_RenderController:null,_LazyRenderTimer:null,_LazyRenderFiles:null,constructor:function(_146f){this._RenderController=_146f;this._LazyRenderFiles=[];this.Timers=new ITHit.WebDAV.Client.AjaxFileBrowser.Render.TimerManager();},BindQueueCollection:function(_1470){ITHit.Events.AddListener(_1470,"OnAdd",function(_1471,_1472){this.Add(_1472);},this);ITHit.Events.AddListener(_1470,"OnRemove",function(_1473,_1474){this.Remove(_1474.Url);},this);ITHit.Events.AddListener(_1470,"OnItemChange",function(_1475,_1476,_1477){if(_1477.RepeatTime){this.UploadRetry(_1476.Url,_1477.RepeatTime);}else{if(_1477.Error){this.SetUploadError(_1476.Url,_1477.Error.Message,_1477.ErrorBody);}else{this.Refresh(_1476.Url);}}},this);},BindUploadManager:function(_1478){ITHit.Events.AddListener(_1478,"OnAutoResumeRetryIn",function(_1479,sUrl,_147a){},this);},GetSelectedItems:function(){},Add:function(_147b){var sUrl=_147b.Url;this._LazyRenderFiles.push(_147b);this.Hash[sUrl]=_147b;this.ErrorLog[sUrl]=[];if(this._LazyRenderTimer!==null){clearTimeout(this._LazyRenderTimer);}var that=this;this._LazyRenderTimer=setTimeout(function(){that._AddInternal(that._LazyRenderFiles);that._LazyRenderFiles=[];},10);},_AddInternal:function(_147c){},Refresh:function(sUrl){},UploadRetry:function(sUrl,_147d){},ResetInfo:function(sUrl){var oItem=this.Hash[sUrl];if(!oItem){return;}this.ErrorLog[sUrl]=[];},SetUploadError:function(sUrl,_147e,_147f){},ShowResumeWarningConfirm:function(_1480,_1481){},ShowOverwriteConfirm:function(sUrl,_1482){},Remove:function(sUrl){delete this.Hash[sUrl];delete this.ErrorLog[sUrl];delete this.DiffInfo[sUrl];},GetErrors:function(sUrl){return this.ErrorLog[sUrl];},GetErrorsLength:function(sUrl){var _1483=this.ErrorLog[sUrl];return _1483?_1483.length:0;},GetSelectedItemsList:function(){var _1484=[];var _1485=this.GetSelectedItems();for(var i=0,l=_1485.length;i<l;i++){_1484.push(_1485[i].Url);}return _1484;}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Upload.InfoManager",ITHit.WebDAV.Client.AjaxFileBrowser.Upload.BaseInfoManager,{constructor:function(_1486){this._super(_1486);},Refresh:function(sUrl){this._GetUploadListView().RefreshItem(this.Hash[sUrl]);this._GetPanelView().UpdatePauseToggleButton();this._UpdateSummaryProgress();},_AddInternal:function(_1487){this._UpdateSummaryProgress();this._GetUploadListView().Items=this._GetUploadListView().Items.concat(_1487);this._GetUploadListView().Refresh();},ShowResumeWarningConfirm:function(_1488,_1489){var _148a=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.Confirm();_148a.SetText(_1488);ITHit.Events.AddListener(_148a,"OnAccept",function(){_1489(true);});ITHit.Events.AddListener(_148a,"OnReject",function(){_1489(false);});_148a.Open();},ShowOverwriteConfirm:function(sUrl,_148b){var _148c=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.UploadOverwrite();_148c.SetUrl(sUrl);ITHit.Events.AddListener(_148c,"OnClick",_148b);_148c.Open();},_UpdateSummaryProgress:function(){var _148d=0;var _148e=0;for(var sUrl in this.Hash){if(!this.Hash.hasOwnProperty(sUrl)||this.Hash[sUrl].Status===null){continue;}_148d++;_148e+=this.Hash[sUrl].GetProgressPercent();}var _148f=ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.RenderController.PAGE_LIST;var _1490=this._RenderController.GetPage(_148f);if(_148d===0){_1490.ToggleUploadButton(false);return;}var _1491=Math.round(_148e/_148d);_1490.SetUploadButtonSummaryProgress(_1491);},Remove:function(sUrl){this._GetUploadListView().RemoveItem(this.Hash[sUrl]);this._super(sUrl);this._UpdateSummaryProgress();},SetUploadError:function(sUrl,_1492,_1493){this.Refresh(sUrl);this._GetItemElement(sUrl).find(".time").html("<span class=\"retryText\"></span>");this._GetItemElement(sUrl).find(".progress").text(_1492);var _1494=ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.RenderController.PAGE_LIST;this._RenderController.GetPage(_1494).SetUploadButtonError(true);},UploadRetry:function(sUrl,_1495){var sText=ITHit.Phrases.AjaxFileBrowser.Interface.RetryIn.Paste(_1495);this._GetItemElement(sUrl).find(".retryText").text(sText);},_GetItemElement:function(sUrl){var _1496=this._GetUploadListView();var _1497=_1496.GetIndexByItem(this.Hash[sUrl]);return _1496.Query("li[data-index=\""+_1497+"\"]");},_GetPanelView:function(){var _1498=ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.RenderController.PAGE_LIST;return this._RenderController.GetPage(_1498).UploadPanelView;},_GetUploadListView:function(){return this._GetPanelView().UploadListView;}});})();(function(){var self=ITHit.DefineClass("ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.RenderController",function(){},{_InstanceIndex:null,_Controller:null,UploadController:null,_CurrentPage:null,_Pages:[],ResourceIcons:null,_WindowSize:null,_RootContainerNode:null,constructor:function(_1499){self._Instances.push(this);this._InstanceIndex=self._Instances.length-1;this._Controller=_1499;ITHit.Events.AddListener(this._Controller.Commands,"OnBeforeUpdateRootUrl","ShowLoading",this);ITHit.Events.AddListener(this._Controller.Commands,"OnUpdateRootUrl","HideLoading",this);this._RootContainerNode=ITHit.Components.jQuery("body");this._RootContainerNode.attr(self.CONTROLLER_INDEX_KEY,this._InstanceIndex);this._RootContainerNode.addClass("ih_style");this._RootContainerNode.toggleClass("mobile-retina",window.devicePixelRatio>1);ITHit.Components.jQuery.mobile.toolbar.prototype._bindToggleHandlers=function(){};this.ResourceIcons=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.ResourceIcons(this.GetController());this._Pages[self.PAGE_LIST]=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.ListPage.LayoutView(this._RootContainerNode);this._Pages[self.PAGE_LIST].Initialize();this._Pages[self.PAGE_INFO]=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.InfoPage.LayoutView(this._RootContainerNode);this._Pages[self.PAGE_INFO].Initialize();var _149a=this._Pages[self.PAGE_LIST].FooterToolbarView.UploadForm;var _149b=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Upload.InfoManager(this);this.UploadController=new ITHit.WebDAV.Client.AjaxFileBrowser.Upload.UploadController(this.GetController(),_149a,_149b);ITHit.Events.AddListener(this.UploadController,"OnAlert",function(_149c){ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.Message.Create(_149c).Open();});var that=this;this._Pages[self.PAGE_LIST].UploadPanelView.SetEnabledResumeUpload(this.UploadController.ResumeManager.IsResumeSupported());ITHit.Events.AddListener(this.UploadController.ResumeManager,"OnDetectResumeSupported",function(_149d,_149e){that._Pages[self.PAGE_LIST].UploadPanelView.SetEnabledResumeUpload(_149e);});new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.ResourceOverwrite();new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.ErrorMessage();ITHit.Components.jQuery(window).on("resize orientationchange",ITHit.Components.jQuery.proxy(this._CheckToResizeWindow,this));this._CheckToResizeWindow(true);if(!ITHit.DetectDevice.Android){ITHit.Components.jQuery.mobile.popup.prototype._ignoreResizeEvents=function(){};setInterval(ITHit.Components.jQuery.proxy(this._CheckToResizeWindow,this),800);}},ShowLoading:function(){ITHit.Components.jQuery.mobile.loading("show");},HideLoading:function(){ITHit.Components.jQuery.mobile.loading("hide");},GetController:function(){return this._Controller;},GetPage:function(_149f){return this._Pages[_149f]||null;},GetCurrentPage:function(){return this._Pages[this._CurrentPage]||null;},GetCurrentPageName:function(){return this._CurrentPage;},SwitchToPage:function(_14a0,_14a1){_14a1=_14a1||false;if(this._CurrentPage===_14a0){return;}this._CurrentPage=_14a0;if(this.GetPage(_14a0)===null){throw new Error("Not found page `"+_14a0+"` for switch to it.");}ITHit.Components.jQuery.mobile.changePage(this._Pages[_14a0].Element,{changeHash:false,reverse:!_14a1,transition:"slide"});},RenderItems:function(oItem,_14a2){this.SwitchToPage(self.PAGE_LIST);var sUrl=this._Controller.Utils.GetAbsolutePath(oItem.Href);this.GetPage(self.PAGE_LIST).SetAddressBarValue(sUrl);var _14a3=/([^\/]+)\/?$/.exec(oItem.Href);document.title=_14a3!==null?_14a3[1]:oItem.Href;var _14a4=[];if(_14a2.Folders&&_14a2.Resources){_14a4=_14a2.ShowFolders?_14a2.Folders.concat(_14a2.Resources):_14a2.Resources;}else{if(ITHit.Utils.IsArray(_14a2)){_14a4=_14a2;}}this.GetPage(self.PAGE_LIST).FilesListView.RenderItems(_14a4);this.GetPage(self.PAGE_LIST).TreePanelView.RenderItems(oItem);},RenderInfo:function(oItem){this.SwitchToPage(self.PAGE_INFO,true);var _14a5=this._Controller.Utils.GetAbsolutePath(oItem.Href);this.GetPage(self.PAGE_INFO).SetAddressBarValue(_14a5);var _14a6=/([^\/]+)\/?$/.exec(oItem.Href);document.title=_14a6!==null?_14a6[1]:oItem.Href;this.GetController().History.SetUrl(oItem.Href.replace(/\/$/,""));this.GetPage(self.PAGE_INFO).TableView.RenderItem(oItem);},_CheckToResizeWindow:function(_14a7){var _14a8=ITHit.Components.jQuery.mobile.window.width();var _14a9=ITHit.Components.jQuery.mobile.getScreenHeight();if(this._WindowSize!==null&&this._WindowSize.width===_14a8&&this._WindowSize.height===_14a9){return;}var _14aa=_14a8>=700?self.WINDOW_WIDTH_MODE_TABLET:self.WINDOW_WIDTH_MODE_MOBILE;try{if(this._WindowSize===null||this._WindowSize.widthMode!==_14aa){ITHit.Events.DispatchEvent(this,"OnChangeWindowWidthMode",[_14aa]);}ITHit.Events.DispatchEvent(this,"OnChangeWindowSize",[_14a8,_14a9]);}catch(e){this._WindowSize={width:_14a8,height:_14a9,widthMode:_14aa};throw e;}this._WindowSize={width:_14a8,height:_14a9,widthMode:_14aa};if(!_14a7){ITHit.Components.jQuery.mobile.window.scrollTop(ITHit.Components.jQuery.mobile.window.scrollTop());}}},{_Instances:[],CONTROLLER_INDEX_KEY:"data-controllerIndex",PAGE_LIST:"list",PAGE_INFO:"info",WINDOW_WIDTH_MODE_MOBILE:"mobile",WINDOW_WIDTH_MODE_TABLET:"tablet",GetByIndex:function(_14ab){return this._Instances[_14ab];}});})();ITHit.oNS=ITHit.Declare("ITHit.WebDAV.Client.AjaxFileBrowserMobile");ITHit.oNS.Version="2.6.2.2105";ITHit.oNS.Controller=function(_14ac){this._RefreshOnUpdateTimerId=null;var _14ad=ITHit.WebDAV.Client.AjaxFileBrowserMobile.Settings.MobileSettings.NormalizeObjectSettings(_14ac,arguments);this.Settings=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Settings.MobileSettings(this);this.Settings.SetSettings(_14ad);this.InitWithParams(_14ac);};ITHit.oNS.Controller._Controllers=[];ITHit.oNS.Controller._ActiveController=null;ITHit.oNS.Controller._Counter=0;ITHit.oNS.Controller.prototype.GetIndex=function(){return this._index;};ITHit.oNS.Controller.prototype.InitWithParams=function(_14ae){var _14af=ITHit.Utils.IsUndefined;this.defaultParams=_14ae;this._ns=ITHit.WebDAV.Client.AjaxFileBrowserMobile;var _14b0=ITHit.Config.AjaxFileBrowser;for(var prop in _14b0){if(!_14b0.hasOwnProperty(prop)||(prop=="ProtectedProperties")){continue;}if(!_14b0.ProtectedProperties[prop]){this[prop]=_14af(_14ae[prop])?_14b0[prop]:_14ae[prop];}else{this[prop]=_14b0[prop];}}this.NotAllowedCharacters=this.NotAllowedCharacters.replace(/(\W)/g,"\\$1");this.CopyMoveManager=new ITHit.WebDAV.Client.AjaxFileBrowser.CopyMoveManager(this);var _14b1=location.protocol+"//"+location.host+"/";var _14b2=ITHit.WebDAV.Client.Encoder.Decode((_14ae.Url||_14b1).replace(/^\//,_14b1).replace(/\/?$/,"/"));this.Utils=new ITHit.WebDAV.Client.AjaxFileBrowser.UrlUtils(_14b2);this._baseUrl=this.Utils.BasePath;this._RootHistoryUrl=null;this._CurrentLoadFolderCommand=null;this._index=this._ns.Controller._Counter++;this._ClassId="ITHit.WebDAV.Client.AjaxFileBrowserMobile.Controller_"+this._index;this._ns.Controller._Controllers[this._index]=this;this._filter=new ITHit.WebDAV.Client.AjaxFileBrowser.Filter(this,ITHit.WebDAV.Client.ResourceType.Folder,this.ShowFolders);this.History=new ITHit.WebDAV.Client.AjaxFileBrowser.HistoryNavigation.HistoryController(this.Utils.GetRelativePath(_14b2));this.History.SetEnabled(!!this.EnableHistoryNavigation);ITHit.Events.AddListener(this.History,"OnUrlChange","_OnHistoryUrlChangeHandler",this);ITHit.Events.AddListener(this.History,"OnSearchQueryChange","_OnHistorySearchQueryChangeHandler",this);var that=this;var _14b3=false;var _14b4=false;this._InitializeCommands(_14ae,_14b2,function(){_14b3=true;that.Commands.Create("LoadSupportedFeaturesCommand",{Href:that.Commands.BaseUrl,OnError:function(_14b5){ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.Message.Create(_14b5.join("\n")).Open();},OnSuccess:function(_14b6){that.RenderController.GetPage(ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.RenderController.PAGE_LIST).ToggleSearchButton(_14b6.ItemOptions.Search);}}).Execute();if(_14b3&&_14b4){that._InitializeItemsState(_14ae);}});this._InitializeRenderController(_14ae,_14b2,function(){_14b4=true;if(_14b3&&_14b4){that._InitializeItemsState(_14ae);}});setTimeout(function(){ITHit.Events.DispatchEvent(that,"OnInit");});};ITHit.oNS.Controller.prototype._InitializeCommands=function(_14b7,_14b8,_14b9){this.Commands=new ITHit.WebDAV.Client.AjaxFileBrowser.Commands.CommandsController();this.Commands.NotAllowedCharacters=this.NotAllowedCharacters;if(!ITHit.Utils.IsUndefined(_14b7.Credentials)&&!ITHit.Utils.IsUndefined(_14b7.Credentials.User)){var sPass=!ITHit.Utils.IsUndefined(_14b7.Credentials.Pass)?_14b7.Credentials.Pass:"";this.Commands.SetCredentials(_14b7.Credentials.User,sPass);}ITHit.Events.AddListener(this.Commands.FoldersCollection,"OnDeprecated",function(sUrl){var _14ba=this.RenderController.GetCurrentPageName()===ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.RenderController.PAGE_LIST;if(this._url===sUrl&&_14ba){this.Refresh();}},this);ITHit.Events.AddListener(this.Commands,"OnUpdateRootUrl",function(sHost,_14bb){this._url=_14bb;},this);this.Commands.SetRootUrl(_14b8,_14b9);};ITHit.oNS.Controller.prototype._InitializeRenderController=function(_14bc,_14bd,_14be){this.RenderController=new ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.RenderController(this);this.RenderController.GetPage(ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.RenderController.PAGE_LIST).SetAddressBarValue(_14bd);var that=this;var _14bf=ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.RenderController.PAGE_LIST;ITHit.Events.AddListener(this.RenderController.GetPage(_14bf).FilesListView,"OnChangeViewMode",function(_14c0){ITHit.Events.DispatchEvent(that,"OnViewModeChanged",_14c0);});if(!ITHit.Utils.IsUndefined(_14bc.ViewModeMobile)){this.SetViewMode(_14bc.ViewModeMobile);}if(!ITHit.Utils.IsUndefined(_14bc.EditModeMobile)){this.SetEditMode(_14bc.EditModeMobile);}ITHit.Components.jQuery(function(){_14be();that.Settings.TriggerRender();});};ITHit.oNS.Controller.prototype._InitializeItemsState=function(_14c1){var _14c2=true;if(this.OpenHistoryLink&&document.location.hash){var sHash=document.location.hash.replace("#","");if(sHash){var self=this;setTimeout(function(){self.History.SetHash(sHash);});_14c2=false;}}if(_14c2&&!ITHit.Utils.IsUndefined(_14c1.SelectedFolder)){this.SetSelectedFolderAsync(_14c1.SelectedFolder);}if(!ITHit.Utils.IsUndefined(_14c1.SelectedItems)){this.SetSelectedItemsAsync(_14c1.SelectedItems);}};ITHit.oNS.Controller.prototype.SetViewMode=function(_14c3){_14c3=_14c3.toLowerCase();var _14c4=ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.RenderController.PAGE_LIST;this.RenderController.GetPage(_14c4).FilesListView.SetViewMode(_14c3);};ITHit.oNS.Controller.prototype.SetEditMode=function(_14c5){_14c5=_14c5.toLowerCase();var _14c6=ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.RenderController.PAGE_LIST;this.RenderController.GetPage(_14c6).FilesListView.SetEditMode(_14c5);};ITHit.oNS.Controller.prototype.SetProgressRefreshTime=function(iTime){this._SetGetVar("ProgressRefreshTime",iTime);return this._upload.ChangeProgressRefreshTime(iTime);};ITHit.oNS.Controller.prototype.GetProgressRefreshTime=function(){return this._SetGetVar("ProgressRefreshTime");};ITHit.oNS.Controller.prototype.SetOnUploadAutoRefresh=function(_14c7){this._SetGetVar("OnUploadAutoRefresh",_14c7);};ITHit.oNS.Controller.prototype.GetOnUploadAutoRefresh=function(){return this._SetGetVar("OnUploadAutoRefresh");};ITHit.oNS.Controller.prototype.SetShowImagePreview=function(bShow){this._SetGetVar("ShowImagePreview",bShow);ITHit.Events.DispatchEvent(this,"OnSetShowImagePreview",["OnSetShowImagePreview",bShow]);};ITHit.oNS.Controller.prototype.GetShowImagePreview=function(){return this._SetGetVar("ShowImagePreview");};ITHit.oNS.Controller.prototype.SetFileIconsPath=function(sPath){this._SetGetVar("FileIconsPath",sPath);ITHit.Events.DispatchEvent(this,"OnSetFileIconsPath",["OnSetFileIconsPath",sPath]);};ITHit.oNS.Controller.prototype.GetFileIconsPath=function(){return this._SetGetVar("FileIconsPath");};ITHit.oNS.Controller.prototype.SetNotAllowedCharacters=function(_14c8){this.Commands.NotAllowedCharacters=_14c8.replace(/(\W)/g,"\\$1");};ITHit.oNS.Controller.prototype.GetNotAllowedCharacters=function(){return this.Commands.NotAllowedCharacters.replace(/\\(.)/g,"$1");};ITHit.oNS.Controller.prototype.SetImageTypes=function(_14c9){this._SetGetVar("ImageTypes",_14c9);ITHit.Events.DispatchEvent(this,"OnSetImageTypes",["OnSetImageTypes",_14c9]);};ITHit.oNS.Controller.prototype.GetImageTypes=function(){return this._SetGetVar("ImageTypes");};ITHit.oNS.Controller.prototype.SetShowOnlyFilterFiles=function(_14ca){};ITHit.oNS.Controller.prototype._SetGetVar=function(_14cb,_14cc){if(undefined!==_14cc){this[_14cb]=_14cc;}return this[_14cb];};ITHit.oNS.Controller.prototype.OnGetItemHandler=function(sUrl){sUrl=this.Commands.NormalizeUrl(sUrl);return this.Commands.ResourcesCollection.Get(sUrl);};ITHit.oNS.Controller.prototype.UploadCompliteHandler=function(_14cd,sUrl,_14ce){if(!this.OnUploadAutoRefresh){return;}var sPath=ITHit.Utils.IsStringNullOrEmpty(_14ce)?sUrl:_14ce;var sDir=ITHit.Decode(this.Utils.GetRelativePath(sPath).replace(/[^\/]+$/,""));if(sDir===this._url){if(this._UploadRefreshTimer){clearTimeout(this._UploadRefreshTimer);this._UploadRefreshTimer=null;}this._UploadRefreshTimer=setTimeout(ITHit.Utils.MakeScopeClosure(this,"_RefreshOnUpdateTimer",sDir),500);}};ITHit.oNS.Controller.prototype.RefreshOnUpdate=function(sDir){var sPath=sDir;if(/^http\:\/\//i.test(sPath)||/^https\:\/\//i.test(sPath)){sPath=ITHit.WebDAV.Client.Encoder.Decode(this.Utils.GetRelativePath(sPath));}this._RefreshOnUpdate(sPath);};ITHit.oNS.Controller.prototype._RefreshOnUpdate=function(sDir){if(this._RefreshOnUpdateTimerId){clearTimeout(this._RefreshOnUpdateTimerId);}this._RefreshOnUpdateTimerId=setTimeout(ITHit.Utils.MakeScopeClosure(this,"_RefreshOnUpdateTimer",sDir),1000);};ITHit.oNS.Controller.prototype._RefreshOnUpdateTimer=function(sDir){if(sDir===this._url){this.Refresh();}};ITHit.oNS.Controller.prototype._GetItem=function(sPath,_14cf,_14d0){var _14d1=null;this.Commands.Create("LoadItemSyncCommand",{Href:sPath,IgnoreCache:_14d0,OnError:function(_14d2){if(!_14cf){ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.Message.Create(_14d2.join("\n")).Open();}},OnSuccess:function(oItem){_14d1=oItem;}}).Execute();return _14d1;};ITHit.oNS.Controller.prototype.OpenFolder=function(sUrl,_14d3,_14d4,_14d5){this._Utils.CheckUrlAgainstBase(sUrl);var that=this;var _14d6=null;this.Commands.Create("LoadFolderSyncCommand",{Href:sUrl,IgnoreCache:this.FlushCacheOnOpenFolder,OnError:function(_14d7){ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.Message.Create(_14d7.join("\n")).Open();},OnSuccess:function(oItem,_14d8){_14d6=oItem;that._OpenFolderAsyncCallback(_14d8,sUrl,oItem,_14d3,_14d4,_14d5);}}).Execute();return _14d6;};ITHit.oNS.Controller.prototype.OpenFolderAsync=function(sUrl,_14d9,_14da,_14db,_14dc){sUrl=ITHit.WebDAV.Client.AjaxFileBrowser.UrlUtils.GetRelativePath(sUrl).replace(/\/?$/,"/");if(this._CurrentLoadFolderCommand){if(!_14dc&&this._CurrentLoadFolderCommand.Href===sUrl){return;}this._CurrentLoadFolderCommand.Abort();}_14dc=_14dc||function(){};this.Utils.CheckUrlAgainstBase(sUrl);var that=this;this._CurrentLoadFolderCommand=this.Commands.Create("LoadFolderCommand",{Href:sUrl,IgnoreCache:this.FlushCacheOnOpenFolder,OnFinish:function(){that._CurrentLoadFolderCommand=null;},OnError:function(_14dd){ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.Message.Create(_14dd.join("\n")).Open();if(sUrl!=="/"){that.OpenFolderAsync(that.Commands.BaseUrl);}},OnSuccess:function(oItem,_14de){that._OpenFolderAsyncCallback(_14de,sUrl,oItem,_14d9,_14da,_14db);_14dc.call(that,oItem);}});this._CurrentLoadFolderCommand.Execute();};ITHit.oNS.Controller.prototype._OpenFolderAsyncCallback=function(_14df,sUrl,oItem,_14e0,_14e1,_14e2){var _14e3=this._filter.Run(_14df);var _14e4=this._url?this.Commands.ResourcesCollection.Get(this._url):null;if(!_14e0&&!_14e2){if(ITHit.Events.DispatchEvent(this,"OnBeforeSelectedFolderChanged",[_14e4,oItem.Item,null])===false){return;}}this._url=oItem.Href;if(!_14e0){this.RenderController.RenderItems(oItem,_14e3);}if(this._RootHistoryUrl&&!_14e1){this.History.SetUrl(this.Commands.GetAbsolutePath(oItem.Href,true));}if(!this._RootHistoryUrl){this._RootHistoryUrl=sUrl;}ITHit.Events.DispatchEvent(this,"_OnSelectedFolderChanged");if(!_14e0&&!_14e2){ITHit.Events.DispatchEvent(this,"OnSelectedFolderChanged",[_14e4,oItem.Item,null]);}};ITHit.oNS.Controller.ShowDetailedError=function(_14e5,_14e6){var _14e7=ITHit.WebDAV.Client.AjaxFileBrowserMobile.Controller.GetByIndex(_14e6);_14e7._error.ShowDetailedError();};ITHit.oNS.Controller.prototype.OpenDocument=function(sUrl,_14e8){if(_14e8&&this.DownloadWithVirtualLink(sUrl)===true){return;}if(_14e8){sUrl+=(sUrl.indexOf("?")!==-1?"&":"?")+"download";}if(this.PreventOpenDocumentCaching){sUrl+=(sUrl.indexOf("?")!==-1?"&":"?")+new Date().getTime();}window.open(this.Utils.GetAbsolutePath(sUrl));};ITHit.oNS.Controller.prototype.DownloadWithVirtualLink=function(sUrl){if(ITHit.DetectBrowser.IE||ITHit.DetectBrowser.FF){return false;}var link=document.createElement("a");var _14e9=sUrl.substring(sUrl.lastIndexOf("/")+1,sUrl.length);link.href=sUrl;link.download=_14e9;if(link.click){link.click();return true;}else{if(document.createEvent){var e=document.createEvent("MouseEvents");e.initEvent("click",true,true);link.dispatchEvent(e);return true;}}};ITHit.oNS.Controller.GetByIndex=function(_14ea){return ITHit.WebDAV.Client.AjaxFileBrowserMobile.Controller._Controllers[_14ea];};ITHit.oNS.Controller.prototype.OpenParentFolder=function(){if(!this._url||(this._url==this._baseUrl)){return false;}this.OpenFolderAsync(ITHit.WebDAV.Client.HierarchyItem.GetFolderParentUri(this._url));};ITHit.oNS.Controller.prototype._OnHistoryUrlChangeHandler=function(sUrl){var _14eb=false;if(!sUrl){if(!this._RootHistoryUrl){return;}sUrl=this._RootHistoryUrl;_14eb=true;}var _14ec=sUrl.replace(/\/([^\/]+)$/,"");var _14ed=_14ec!==sUrl;var _14ee=sUrl.indexOf("://")===-1?this.Commands.GetAbsolutePath(sUrl,true):sUrl;if(this.CheckNaviagtionToAnotherServer(_14ee)){this.NavigateToAnotherServer(_14ee);return;}var self=this;this.OpenFolderAsync(_14ec,_14ed,_14eb,false,function(oItem){if(oItem&&_14ec!==sUrl){var oItem=self._GetItem(sUrl);self.RenderController.RenderInfo(oItem);}});};ITHit.oNS.Controller.prototype._OnHistorySearchQueryChangeHandler=function(_14ef,sUrl){this._url=sUrl;this.OpenSearchResultsAsync(_14ef,sUrl);};ITHit.oNS.Controller.prototype.OpenSearchResultsAsync=function(_14f0,sUrl,_14f1){sUrl=sUrl||this._url;if(!_14f1){var _14f2=ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.RenderController.PAGE_LIST;var _14f3=this.RenderController.GetPage(_14f2).FilterView;_14f3.Toggle(true);_14f3.SetValue(_14f0,true);}var that=this;var _14f4=this.Commands.Create("SearchCommand",{Href:sUrl,Query:_14f0,OnError:function(_14f5){ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.Message.Create(_14f5.join("\n")).Open();},OnSuccess:function(oItem,_14f6){if(ITHit.Events.DispatchEvent(that,"OnBeforeSelectedFolderChanged",[oItem.Item,null,_14f4.QueryObject])===false){return;}that._url=oItem.Href;that.RenderController.RenderItems(oItem,_14f6);that.History.SetSearchQuery(_14f0,that.Commands.GetAbsolutePath(oItem.Href,true));if(!that._RootHistoryUrl){that._RootHistoryUrl=oItem.Href;}ITHit.Events.DispatchEvent(that,"_OnSelectedFolderChanged");ITHit.Events.DispatchEvent(that,"OnSelectedFolderChanged",[oItem.Item,null,_14f4.QueryObject]);}});_14f4.Execute();return _14f4;};ITHit.oNS.Controller.prototype.Refresh=function(_14f7){if(!this._url){return;}var that=this;var prev=this.FlushCacheOnOpenFolder;this.FlushCacheOnOpenFolder=true;this.OpenFolderAsync(this._url,null,null,null,function(){that.FlushCacheOnOpenFolder=prev;if(_14f7){_14f7.apply(this,arguments);}});};ITHit.oNS.Controller.prototype.CheckNaviagtionToAnotherServer=function(sUrl){var _14f8=new ITHit.WebDAV.Client.AjaxFileBrowser.UrlUtils(sUrl);return _14f8.Host!==this.Commands.Host||_14f8.BasePath.indexOf(this.Commands.BaseUrl)!==0;};ITHit.oNS.Controller.prototype.NavigateToAnotherServer=function(sUrl){var that=this;this.Commands.SetRootUrl(sUrl,function(oItem){if(!oItem){ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.Message.Create(ITHit.Phrases.AjaxFileBrowser.Interface.CrossDomainRequestsIssue).Open();}else{that._ChangeRootElementCallback(sUrl,oItem);}});};ITHit.oNS.Controller.prototype.SetUrl=function(sUrl){this.NavigateToAnotherServer(sUrl);};ITHit.oNS.Controller.prototype.GetUrl=function(){return this.defaultParams.Url;};ITHit.oNS.Controller.prototype.HistoryGoBack=function(){this.History.Back();};ITHit.oNS.Controller.prototype._ChangeRootElementCallback=function(sUrl,_14f9){if(_14f9===false){ITHit.WebDAV.Client.AjaxFileBrowserMobile.Render.Dialogs.Message.Create(ITHit.Phrases.AjaxFileBrowser.Interface.NonExistentLocation).Open();return;}var _14fa=new ITHit.WebDAV.Client.AjaxFileBrowser.UrlUtils(sUrl);this._baseUrl=_14fa.BasePath;this.Utils=_14fa;this.SetSelectedFolderAsync(sUrl);};ITHit.oNS.Controller.prototype.SetSelectedFolderAsync=function(_14fb,_14fc){var _14fd=_14fb instanceof ITHit.WebDAV.Client.HierarchyItem?_14fb.Href:ITHit.WebDAV.Client.Encoder.Decode(ITHit.WebDAV.Client.AjaxFileBrowser.UrlUtils.GetRelativePath(_14fb.replace(/\/?$/,"/")));this.OpenFolderAsync(_14fd,_14fc);};ITHit.oNS.Controller.prototype.SetSelectedFolder=function(_14fe){alert("SetSelectedFolder is obsolete. Use SetSelectedFolderAsync instead. See\nhttp://www.webdavsystem.com/ajaxfilebrowser/programming/upgrade\nfor more details.");};ITHit.oNS.Controller.prototype.GetSession=function(){return this.Commands.Session;};ITHit.oNS.Controller.prototype.GetIisDetected=function(){return this.Commands.Session.GetIisDetected();};ITHit.oNS.Controller.BuyNow=function(){var oWin=window.open("http://www.webdavsystem.com/pricing#ajaxbrowser","_blank");oWin.focus();};ITHit.oNS.Controller.prototype.toString=function(){return this._ClassId;};ITHit.Temp={};